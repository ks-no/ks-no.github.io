{
  "openapi": "3.1.1",
  "info": {
    "title": "KS Fiks: Brreg støtteregisteret",
    "description": "Service for Brreg støtteregisteret",
    "contact": {
      "name": "Fiks-brukerstøtte",
      "url": "https://ks-no.github.io/",
      "email": "fiks-utvikling@ks.no"
    },
    "version": "v1"
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "servers": [
    {
      "url": "https://api.fiks.ks.no",
      "description": "KS Fiks API host"
    },
    {
      "url": "https://api.fiks.test.ks.no",
      "description": "KS Fiks TEST API host",
      "variables": {}
    }
  ],
  "paths": {
    "/brregstotteregisteret/api/v1/kodeliste/region": {
      "get": {
        "tags": [
          "Region"
        ],
        "operationId": "hentKodelisteRegioner",
        "summary": "Henter kodelister for hver region",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Regionkodeliste"
                }
              }
            }
          }
        }
      }
    },
    "/brregstotteregisteret/api/v1/kodeliste/region/{id}": {
      "get": {
        "tags": [
          "Region"
        ],
        "operationId": "hentKodelisteRegion",
        "summary": "Henter kodeliste for region med angitt id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Identifikator for Region",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Region"
                }
              }
            }
          },
          "404": {
            "description": "Ugyldig Regionsidentifikator",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/brregstotteregisteret/api/v1/kodeliste/naering": {
      "get": {
        "tags": [
          "Naering"
        ],
        "operationId": "hentKodelisteNaeringer",
        "summary": "Henter kodelister for hver næring",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Naeringkodeliste"
                }
              }
            }
          }
        }
      }
    },
    "/brregstotteregisteret/api/v1/kodeliste/naering/{code}": {
      "get": {
        "tags": [
          "Naering"
        ],
        "operationId": "hentKodelisteNaering",
        "summary": "Henter kodeliste for næring med angitt code",
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "description": "Code for Naering",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Naeringskode"
                }
              }
            }
          },
          "404": {
            "description": "Ugyldig Naeringscode",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "ErrorMessage": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "error": {
            "type": "string"
          },
          "errorId": {
            "type": "string",
            "format": "uuid"
          },
          "path": {
            "type": "string"
          },
          "originalPath": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "errorCode": {
            "type": "string"
          },
          "errorJson": {
            "type": "string"
          }
        }
      },
      "Regionkodeliste": {
        "type": "object",
        "required": [
          "regioner"
        ],
        "properties": {
          "regioner": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Region"
            }
          }
        }
      },
      "Naeringkodeliste": {
        "type": "object",
        "required": [
          "naeringskoder"
        ],
        "properties": {
          "naeringskoder": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Naeringskode"
            }
          }
        }
      },
      "Region": {
        "type": "object",
        "properties": {
          "identifikator": {
            "type": "integer",
            "example": 1000,
            "description": "primær id"
          },
          "fylkesnummer": {
            "type": "string",
            "example": "01",
            "description": "Nummeret som identifiserer fylket"
          },
          "navn": {
            "type": "string",
            "example": "Østfold",
            "description": "Navnet på fylket"
          },
          "status": {
            "type": "string",
            "enum": [
              "gyldig",
              "utgått"
            ],
            "example": "utgått",
            "description": "Status for fylket"
          },
          "opprettet": {
            "type": "string",
            "example": "2024-12-06",
            "description": "Dato for når posten ble opprettet"
          },
          "gyldigfra": {
            "type": "string",
            "example": "1919-01-01",
            "description": "Dato for når posten er gyldig fra"
          },
          "gyldigtil": {
            "type": "string",
            "example": "2019-12-31",
            "description": "Dato for når posten er gyldig til"
          }
        }
      },
      "Naeringskode": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "parentCode": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "shortName": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      }
    }
  }
}
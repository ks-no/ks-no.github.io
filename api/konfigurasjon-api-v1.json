{
  "swagger" : "2.0",
  "info" : {
    "version" : "v1",
    "title" : "KS FIKS: Konfigurasjon Service",
    "contact" : {
      "name" : "Fiks brukerstøtte",
      "url" : "http://www.ks.no/fagomrader/utvikling/digitalisering/digitaliseringsstrategien/fiks/",
      "email" : "fiks@ks.no"
    }
  },
  "host" : "api.fiks.test.ks.no",
  "basePath" : "/",
  "tags" : [ {
    "name" : "IntegrasjonAuthentication"
  }, {
    "name" : "IntegrasjonKonfigurasjon"
  }, {
    "name" : "OrganisasjonKonfigurasjon"
  }, {
    "name" : "PersonKonfigurasjon"
  }, {
    "name" : "PrivilegiumKonfigurasjon"
  }, {
    "name" : "TjenesteKonfigurasjon"
  } ],
  "schemes" : [ "https" ],
  "paths" : {
    "/konfigurasjon/api/v1/integrasjoner" : {
      "get" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Henter alle integrasjoner",
        "description" : "",
        "operationId" : "getAllIntegrasjoner",
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Integrasjon"
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Oppretter en integrasjon",
        "description" : "",
        "operationId" : "createIntegrasjon",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/IntegrasjonCreateRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Integrasjon"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/integrasjoner/autentisering" : {
      "get" : {
        "tags" : [ "IntegrasjonAuthentication" ],
        "summary" : "Forsøker å autentisere innlogget aktør til å bruke en integrasjon",
        "description" : "",
        "operationId" : "authenticateForIntegrasjon",
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "boolean"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/integrasjoner/{integrasjonId}" : {
      "get" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Henter integrasjonen med gitt id",
        "description" : "",
        "operationId" : "getIntegrasjon",
        "parameters" : [ {
          "name" : "integrasjonId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Integrasjon"
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Sletter integrasjonen med gitt id, inkludert alle tilganger den har under organisasjonen",
        "description" : "",
        "operationId" : "deleteIntegrasjon",
        "parameters" : [ {
          "name" : "integrasjonId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "object"
            }
          }
        }
      },
      "patch" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Oppdaterer integrasjonen med gitt id",
        "description" : "Kun felt som er satt blir oppdatert. Kode-feltet er kun gyldig for globale integrasjoner, og vil derfor bli ignorert for andre. Når kode er satt må denne være unik.",
        "operationId" : "updateIntegrasjon",
        "parameters" : [ {
          "name" : "integrasjonId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/IntegrasjonUpdateRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Integrasjon"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/integrasjoner/{integrasjonId}/lagPassord" : {
      "post" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Oppretter et nytt passord for integrasjonen",
        "description" : "",
        "operationId" : "createPassord",
        "parameters" : [ {
          "name" : "integrasjonId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Passord"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/integrasjoner/{integrasjonId}/tag/{tag}" : {
      "put" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Tagger integrasjonen, gitt at det finnes en tjeneste som har kode lik taggen",
        "description" : "En integrasjon kan ha mange tags",
        "operationId" : "addTag",
        "parameters" : [ {
          "name" : "integrasjonId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "name" : "tag",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "pattern" : "^[0-9A-Z_.]+$"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "object"
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "IntegrasjonKonfigurasjon" ],
        "summary" : "Fjerner gitt tag fra integrasjonen dersom den eksisterer",
        "description" : "",
        "operationId" : "deleteTag",
        "parameters" : [ {
          "name" : "integrasjonId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "name" : "tag",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "pattern" : "^[0-9A-Z_.]+$"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "object"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter alle organisasjonene i listen med id'er, eller alle dersom ingen id'er oppgis",
        "description" : "Requesten feiler dersom en av organisasjonene ikke finnes eller autorisert bruker mangler en tilgang",
        "operationId" : "getOrganisasjoner",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "query",
          "required" : false,
          "type" : "array",
          "items" : {
            "type" : "string",
            "format" : "uuid"
          },
          "collectionFormat" : "multi"
        }, {
          "name" : "kommunenr",
          "in" : "query",
          "required" : false,
          "type" : "array",
          "items" : {
            "type" : "string"
          },
          "collectionFormat" : "multi"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Organisasjon"
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Oppretter en organisasjon",
        "description" : "For alle organisasjoner opprettes også en ressurs med lik id",
        "operationId" : "createOrganisasjon",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/OrganisasjonCreateRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Organisasjon"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/kontaktinformasjon" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter kontaktinformasjon for organisasjoner. Organisasjoner hvor bruker har indekserte meldinger i innsyn vil markeres som prioritert.",
        "description" : "",
        "operationId" : "getKontaktinformasjon",
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/OrganisasjonKontaktinformasjonListe"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}" : {
      "patch" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Oppdaterer organisasjonen med gitt id",
        "description" : "Kun felt som er satt blir oppdatert",
        "operationId" : "updateOrganisasjon",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/OrganisasjonUpdateRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Organisasjon"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}/faktura" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter fakturainformasjon for organisasjonen med gitt id",
        "description" : "",
        "operationId" : "getFakturaInformasjon",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Faktura"
            }
          }
        }
      },
      "put" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Oppdaterer fakturainformasjon for organisasjonen med gitt id",
        "description" : "Alle fakturafeltene oppdateres uavhengig av om de er oppgitt",
        "operationId" : "updateFakturaInformasjon",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/Faktura"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Faktura"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}/integrasjoner" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter alle gyldige integrasjoner for organisasjonen med gitt id",
        "description" : "Henter alle lokale integrasjoner for organisasjonen, samt alle globale integrasjoner",
        "operationId" : "getIntegrasjonerForOrganisasjon",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "name" : "integrasjonId",
          "in" : "query",
          "required" : false,
          "type" : "array",
          "items" : {
            "type" : "string",
            "format" : "uuid"
          },
          "collectionFormat" : "multi"
        }, {
          "name" : "integrasjonKode",
          "in" : "query",
          "required" : false,
          "type" : "array",
          "items" : {
            "type" : "string"
          },
          "collectionFormat" : "multi"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Integrasjon"
              }
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}/integrasjoner/{tag}" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter alle integrasjoner med en gitt tag for organisasjonen med gitt id",
        "description" : "Henter alle lokale integrasjoner for organisasjonen, samt alle globale integrasjoner, filtrert på tag",
        "operationId" : "getIntegrasjonerForOrganisasjonByTag",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "name" : "tag",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "pattern" : "^[0-9A-Z_.]+$"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Integrasjon"
              }
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}/tjenester" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter alle tjenester for organisasjonen med gitt id, med konfigurert status",
        "description" : "",
        "operationId" : "getTjenesterForOrganisasjon",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Tjeneste"
              }
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}/tjenester/{kode}" : {
      "get" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Henter tjenesten med gitt kode for organisasjonen med gitt id, med konfigurert status",
        "description" : "",
        "operationId" : "getTjenesteForOrganisasjonByKode",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "name" : "kode",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Tjeneste"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/organisasjoner/{orgId}/tjenester/{tjenesteKode}/konfigurer" : {
      "post" : {
        "tags" : [ "OrganisasjonKonfigurasjon" ],
        "summary" : "Konfigurerer tjenesten med gitt id for organisasjonen med gitt id",
        "description" : "",
        "operationId" : "configureTjenesteForOrganisasjon",
        "parameters" : [ {
          "name" : "orgId",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "format" : "uuid"
        }, {
          "name" : "tjenesteKode",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/KonfigurertTjeneste"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/personer" : {
      "get" : {
        "tags" : [ "PersonKonfigurasjon" ],
        "summary" : "Henter alle personene i listen med fødselsnummer",
        "description" : "Krever at alle verdiene som sendes inn er gyldige fødselsnummer. Feiler ikke for personer som ikke blir funnet",
        "operationId" : "getPersoner",
        "parameters" : [ {
          "name" : "fnr",
          "in" : "query",
          "required" : false,
          "type" : "array",
          "items" : {
            "type" : "string"
          },
          "collectionFormat" : "multi"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Person"
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "PersonKonfigurasjon" ],
        "summary" : "Oppretter en person",
        "description" : "",
        "operationId" : "createPerson",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/PersonCreateRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Person"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/personer/{fnr}" : {
      "patch" : {
        "tags" : [ "PersonKonfigurasjon" ],
        "summary" : "Oppdaterer personen med gitt fødselsnummer",
        "description" : "Kun felt som er satt blir oppdatert",
        "operationId" : "updatePerson",
        "parameters" : [ {
          "name" : "fnr",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "pattern" : "^[0-9]{11}$"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/PersonUpdateRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Person"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/privilegier" : {
      "get" : {
        "tags" : [ "PrivilegiumKonfigurasjon" ],
        "summary" : "Henter alle privilegier",
        "description" : "",
        "operationId" : "getAllPrivilegier",
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/PrivilegiumMap"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/privilegier/{ressursType}" : {
      "get" : {
        "tags" : [ "PrivilegiumKonfigurasjon" ],
        "summary" : "Henter alle gyldige privilegier for en gitt ressurstype",
        "description" : "",
        "operationId" : "getPrivilegierForRessursType",
        "parameters" : [ {
          "name" : "ressursType",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/PrivilegiumList"
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/tjenester" : {
      "get" : {
        "tags" : [ "TjenesteKonfigurasjon" ],
        "summary" : "Henter alle eksisterende tjenester",
        "description" : "",
        "operationId" : "getAllTjenester",
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/Tjeneste"
              }
            }
          }
        }
      }
    },
    "/konfigurasjon/api/v1/tjenester/{tjenesteKode}" : {
      "get" : {
        "tags" : [ "TjenesteKonfigurasjon" ],
        "summary" : "Henter tjenesten med gitt kode",
        "description" : "",
        "operationId" : "getTjenesteByKode",
        "parameters" : [ {
          "name" : "tjenesteKode",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "pattern" : "^[0-9A-Z_.]+$"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/Tjeneste"
            }
          }
        }
      }
    }
  },
  "definitions" : {
    "Faktura" : {
      "type" : "object",
      "required" : [ "juridiskNavn", "navn", "orgnr", "postnummer", "poststed", "referanse" ],
      "properties" : {
        "orgnr" : {
          "type" : "string",
          "description" : "Organisasjonsnummeret til organisasjonen fakturainformasjonen gjelder.",
          "pattern" : "^[0-9]{9}$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Organisasjonens navn.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "juridiskNavn" : {
          "type" : "string",
          "description" : "Organisasjonens juridiske navn.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "referanse" : {
          "type" : "string",
          "description" : "Referanse.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "epost" : {
          "type" : "string",
          "description" : "Epostadresse for å kontakte organisasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        },
        "telefon" : {
          "type" : "string",
          "description" : "Telefonnummer for å kontakte organisasjonen.",
          "pattern" : "^[+]?[0-9]+([- ][0-9]+)*$"
        },
        "adresselinje1" : {
          "type" : "string",
          "description" : "Første adresselinje.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "adresselinje2" : {
          "type" : "string",
          "description" : "Andre adresselinje.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "postnummer" : {
          "type" : "string",
          "description" : "Postnummer.",
          "pattern" : "^[0-9]{4}$"
        },
        "poststed" : {
          "type" : "string",
          "description" : "Poststed.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "kundenummer" : {
          "type" : "string",
          "description" : "Kundenummer.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "endepunktId" : {
          "type" : "string",
          "description" : "Endepunkt-id.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        }
      },
      "description" : "Inneholder fakturainformasjon for en organisasjon."
    },
    "Integrasjon" : {
      "type" : "object",
      "required" : [ "autorisertOrgnr", "fiksOrganisasjonUuid", "navn", "uuid" ],
      "properties" : {
        "uuid" : {
          "type" : "string",
          "format" : "uuid",
          "description" : "Integrasjonens unike id."
        },
        "autorisertOrgnr" : {
          "type" : "string",
          "description" : "Organisasjonsnummeret som ligger i virksomhetsserfikatet som skal brukes til å autorisere applikasjonen som skal bruke integrasjonen.",
          "pattern" : "^[0-9]{9}$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Et kort navn for integrasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "beskrivelse" : {
          "type" : "string",
          "description" : "En beskrivelse av integrasjonen."
        },
        "kode" : {
          "type" : "string",
          "description" : "En unik kode for integrasjonen. Kun gyldig for globale integrasjoner.",
          "pattern" : "^[0-9A-Z_.]+$"
        },
        "global" : {
          "type" : "boolean",
          "description" : "Indikerer om en integrasjon er global."
        },
        "fiksOrganisasjonUuid" : {
          "type" : "string",
          "format" : "uuid",
          "description" : "Id for FIKS-organisasjonen som eier integrasjonen."
        },
        "tags" : {
          "type" : "array",
          "description" : "Alle tags som er gitt til denne integrasjonen. Hver tag refererer til en tjeneste.",
          "uniqueItems" : true,
          "items" : {
            "type" : "string"
          }
        }
      },
      "description" : "En integrasjon."
    },
    "IntegrasjonCreateRequest" : {
      "type" : "object",
      "required" : [ "autorisertOrgnr", "fiksOrganisasjonUuid", "navn" ],
      "properties" : {
        "autorisertOrgnr" : {
          "type" : "string",
          "description" : "Organisasjonsnummeret som ligger i virksomhetsserfikatet som skal brukes til å autorisere applikasjonen som skal bruke integrasjonen.",
          "pattern" : "^[0-9]{9}$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Et kort navn for integrasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "beskrivelse" : {
          "type" : "string",
          "description" : "En beskrivelse av integrasjonen."
        },
        "fiksOrganisasjonUuid" : {
          "type" : "string",
          "format" : "uuid",
          "description" : "Id for FIKS-organisasjonen som eier integrasjonen, eller null for globale integrasjoner."
        }
      },
      "description" : "En forespørsel om å opprette en ny integrasjon."
    },
    "IntegrasjonUpdateRequest" : {
      "type" : "object",
      "properties" : {
        "autorisertOrgnr" : {
          "type" : "string",
          "description" : "Organisasjonsnummeret som ligger i virksomhetsserfikatet som skal brukes til å autorisere applikasjonen som skal bruke integrasjonen.",
          "pattern" : "^[0-9]{9}$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Et kort navn for integrasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "beskrivelse" : {
          "type" : "string",
          "description" : "En beskrivelse av integrasjonen."
        },
        "kode" : {
          "type" : "string",
          "description" : "En unik kode for integrasjonen. Kun gyldig for globale integrasjoner.",
          "pattern" : "^[0-9A-Z_.]+$"
        },
        "global" : {
          "type" : "boolean",
          "description" : "Indikerer om en integrasjon er global."
        }
      },
      "description" : "En forespørsel om å oppdatere en eksisterende integrasjon."
    },
    "KonfigurertTjeneste" : {
      "type" : "object",
      "required" : [ "ressursId" ],
      "properties" : {
        "ressursId" : {
          "type" : "string",
          "format" : "uuid",
          "description" : "Id til ressursen som ble opprettet for tjenesten"
        }
      },
      "description" : "Informasjon om en konfigurert tjeneste."
    },
    "Organisasjon" : {
      "type" : "object",
      "required" : [ "intern", "navn", "type", "uuid" ],
      "properties" : {
        "uuid" : {
          "type" : "string",
          "format" : "uuid",
          "description" : "Organisasjonens unike id."
        },
        "navn" : {
          "type" : "string",
          "description" : "Organisasjonens navn.",
          "pattern" : "^[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü,.!?\\-:;/\\\\'()&+*=%§]+[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü ,.!?\\-:;/\\\\'()&+*=%§]*[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü,.!?\\-:;/\\\\'()&+*=%§]+$"
        },
        "type" : {
          "type" : "string",
          "description" : "Organisasjonens type",
          "enum" : [ "UKJENT", "KOMMUNE", "FYLKESKOMMUNE", "KOMMUNAL_VIRKSOMHET", "OFFENTLIG_VIRKSOMHET", "LEVERANDOR" ]
        },
        "intern" : {
          "type" : "boolean",
          "description" : "Indikerer om organisasjonen er intern"
        },
        "kommunenr" : {
          "type" : "string",
          "description" : "Kommunenr.",
          "pattern" : "^\\d{4}$"
        },
        "epost" : {
          "type" : "string",
          "description" : "Epostadresse som KS kan bruke for å kontakte organisasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        },
        "innbyggerkontaktEpost" : {
          "type" : "string",
          "description" : "Epostadresse som innbyggere kan bruke for å kontakte organisasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        },
        "avtaleadminFnr" : {
          "type" : "string",
          "description" : "Personen som er juridisk ansvarlig for kontrakten med KS hos kunden. Må referere til en person som eksisterer i systemet.",
          "pattern" : "^[0-9]{11}$"
        },
        "aktiv" : {
          "type" : "boolean",
          "description" : "Flagg som indikerer om en organisasjon er aktiv eller ikke."
        },
        "konfigurert" : {
          "type" : "boolean",
          "description" : "Flagg som indikerer om førstegangskonfigurasjon er fullført for en organisasjon."
        }
      },
      "description" : "En organisasjon."
    },
    "OrganisasjonCreateRequest" : {
      "type" : "object",
      "required" : [ "intern", "navn", "type" ],
      "properties" : {
        "navn" : {
          "type" : "string",
          "description" : "Organisasjonens navn.",
          "pattern" : "^[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü,.!?\\-:;/\\\\'()&+*=%§]+[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü ,.!?\\-:;/\\\\'()&+*=%§]*[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü,.!?\\-:;/\\\\'()&+*=%§]+$"
        },
        "type" : {
          "type" : "string",
          "description" : "Organisasjonens type",
          "enum" : [ "KOMMUNE", "FYLKESKOMMUNE", "KOMMUNAL_VIRKSOMHET", "OFFENTLIG_VIRKSOMHET", "LEVERANDOR" ]
        },
        "intern" : {
          "type" : "boolean",
          "description" : "Indikerer om organisasjonen er intern"
        },
        "kommunenr" : {
          "type" : "string",
          "description" : "Kommunenummer.",
          "pattern" : "^\\d{4}$"
        }
      },
      "description" : "En forespørsel om å opprette en ny organisasjon."
    },
    "OrganisasjonKontaktinformasjon" : {
      "type" : "object",
      "required" : [ "epost", "navn" ],
      "properties" : {
        "navn" : {
          "type" : "string",
          "description" : "Organisasjonens navn."
        },
        "epost" : {
          "type" : "string",
          "description" : "Organisasjonens epostadresse."
        }
      },
      "description" : "Kontaktinformasjon for en organisasjon."
    },
    "OrganisasjonKontaktinformasjonListe" : {
      "type" : "object",
      "properties" : {
        "prioriterteOrganisasjoner" : {
          "type" : "array",
          "description" : "Kontaktinformasjon for organisasjoner hvor innlogget bruker har et eller flere treff.",
          "items" : {
            "$ref" : "#/definitions/OrganisasjonKontaktinformasjon"
          }
        },
        "alleOrganisasjoner" : {
          "type" : "array",
          "description" : "Kontaktinformasjon for alle registrerte organisasjoner, inkludert de i listen over prioriterte.",
          "items" : {
            "$ref" : "#/definitions/OrganisasjonKontaktinformasjon"
          }
        }
      },
      "description" : "Kontaktinformasjon for organisasjoner."
    },
    "OrganisasjonUpdateRequest" : {
      "type" : "object",
      "required" : [ "intern" ],
      "properties" : {
        "navn" : {
          "type" : "string",
          "description" : "Organisasjonens navn.",
          "pattern" : "^[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü,.!?\\-:;/\\\\'()&+*=%§]+[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü ,.!?\\-:;/\\\\'()&+*=%§]*[A-ZÆØÅa-zæøå0-9ÁáÀàÂâÉéÈèÊêÍíÌìÎîÓóÒòÔôÚúÙùÛûÝýÄäËëÏïÖöÜü,.!?\\-:;/\\\\'()&+*=%§]+$"
        },
        "epost" : {
          "type" : "string",
          "description" : "Epostadresse som KS kan bruke for å kontakte organisasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        },
        "innbyggerkontaktEpost" : {
          "type" : "string",
          "description" : "Epostadresse som innbyggere kan bruke for å kontakte organisasjonen.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        },
        "kommunenr" : {
          "type" : "string",
          "description" : "Kommunenummer",
          "pattern" : "^\\d{4}$"
        },
        "avtaleadminFnr" : {
          "type" : "string",
          "description" : "Personen som er juridisk ansvarlig for kontrakten med KS hos kunden. Må referere til en person som eksisterer i systemet.",
          "pattern" : "^[0-9]{11}$"
        },
        "aktiv" : {
          "type" : "boolean",
          "description" : "Flagg for å aktivere eller deaktivere en organisasjon."
        },
        "konfigurert" : {
          "type" : "boolean",
          "description" : "Flagg for å fullføre førstegangskonfigurasjon av en organisasjon."
        },
        "intern" : {
          "type" : "boolean",
          "description" : "Indikerer om organisasjonen er intern"
        }
      },
      "description" : "En forespørsel om å oppdatere en eksisterende organisasjon."
    },
    "Passord" : {
      "type" : "object",
      "properties" : {
        "passord" : {
          "type" : "string",
          "description" : "Passord"
        }
      },
      "description" : "Inneholder et passord"
    },
    "Person" : {
      "type" : "object",
      "required" : [ "fnr", "navn" ],
      "properties" : {
        "fnr" : {
          "type" : "string",
          "description" : "Fødselsnummeret til personen.",
          "pattern" : "^[0-9]{11}$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Personens fulle navn."
        },
        "tittel" : {
          "type" : "string",
          "description" : "Personens tittel i organisasjonen han eller hun opptrer på vegne av.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "telefon" : {
          "type" : "string",
          "description" : "Personens telefonnummer.",
          "pattern" : "^[+]?[0-9]+([- ][0-9]+)*$"
        },
        "epost" : {
          "type" : "string",
          "description" : "Personens epostadresse.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        }
      },
      "description" : "En person med tilhørende kontaktinformasjon."
    },
    "PersonCreateRequest" : {
      "type" : "object",
      "required" : [ "fnr", "navn" ],
      "properties" : {
        "fnr" : {
          "type" : "string",
          "description" : "Fødselsnummeret til personen.",
          "pattern" : "^[0-9]{11}$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Personens fulle navn.",
          "minLength" : 2,
          "maxLength" : 450
        }
      },
      "description" : "En forespørsel om å opprette en person."
    },
    "PersonUpdateRequest" : {
      "type" : "object",
      "properties" : {
        "navn" : {
          "type" : "string",
          "description" : "Personens fulle navn.",
          "minLength" : 2,
          "maxLength" : 450
        },
        "tittel" : {
          "type" : "string",
          "description" : "Personens tittel i organisasjonen han eller hun opptrer på vegne av.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "telefon" : {
          "type" : "string",
          "description" : "Personens telefonnummer.",
          "pattern" : "^[+]?[0-9]+([- ][0-9]+)*$"
        },
        "epost" : {
          "type" : "string",
          "description" : "Personens epostadresse.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9-_]+(\\.[A-Za-zæøåÆØÅ0-9-_]+)*@[A-Za-zæøåÆØÅ0-9-]+(\\.[A-Za-zæøåÆØÅ0-9-]+)*(\\.[A-Za-z]{2,})$"
        }
      },
      "description" : "En forespørsel om å oppdatere en ekisterende person."
    },
    "Privilegium" : {
      "type" : "object",
      "properties" : {
        "navn" : {
          "type" : "string",
          "description" : "Et unikt navn på privilegiet.",
          "pattern" : "^[0-9A-Z_.]+$"
        },
        "visningsnavn" : {
          "type" : "string",
          "description" : "Visningsnavn for privilegiet.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "beskrivelse" : {
          "type" : "string",
          "description" : "En beskrivelse av hva privilegiet gir tilgang til."
        },
        "ressursType" : {
          "type" : "string",
          "description" : "Ressurstypen privilegiet er gyldig for."
        },
        "aktorer" : {
          "type" : "array",
          "description" : "Hvilke aktørtyper dette privilegiet er gyldig for.",
          "items" : {
            "type" : "string",
            "enum" : [ "PERSON", "INTEGRASJON" ]
          }
        }
      },
      "description" : "Et privilegium som er gyldig for en gitt tjeneste."
    },
    "PrivilegiumList" : {
      "type" : "object",
      "properties" : {
        "privilegier" : {
          "type" : "array",
          "description" : "En liste over gyldige privilegier for en gitt ressurstype",
          "items" : {
            "$ref" : "#/definitions/Privilegium"
          }
        }
      },
      "description" : "En liste over gyldige privilegier for en gitt ressurstype"
    },
    "PrivilegiumMap" : {
      "type" : "object",
      "properties" : {
        "privilegier" : {
          "type" : "object",
          "description" : "Et map med alle privilegier for alle tjenestetyper",
          "additionalProperties" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/Privilegium"
            }
          }
        }
      },
      "description" : "Et map med alle privilegier for alle tjenestetyper"
    },
    "Tjeneste" : {
      "type" : "object",
      "required" : [ "kode", "navn" ],
      "properties" : {
        "kode" : {
          "type" : "string",
          "description" : "En unik kode for tjenesten.",
          "pattern" : "^[0-9A-Z_.]+$"
        },
        "navn" : {
          "type" : "string",
          "description" : "Tjenestens navn.",
          "pattern" : "^[A-Za-zæøåÆØÅ0-9_.,/\\-_ ]+$"
        },
        "beskrivelse" : {
          "type" : "string",
          "description" : "En utfyllende beskrivelse av tjenesten."
        },
        "lesmer" : {
          "type" : "string",
          "description" : "Les mer lenke"
        },
        "konfigurert" : {
          "type" : "boolean",
          "description" : "Indikerer om en tjenste er konfigurert i kontekst av en organisasjon."
        }
      },
      "description" : "En tjeneste."
    }
  }
}
<!DOCTYPE html>
<html lang="no" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.69.2" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Fiks Arkiv :: KS Fiks</title>

    
    <link href="/css/nucleus.css?1656682677" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1656682677" rel="stylesheet">
    <link href="/css/hybrid.css?1656682677" rel="stylesheet">
    <link href="/css/featherlight.min.css?1656682677" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1656682677" rel="stylesheet">
    <link href="/css/auto-complete.css?1656682677" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1656682677" rel="stylesheet">
    <link href="/css/theme.css?1656682677" rel="stylesheet">
    <link href="/css/hugo-theme.css?1656682677" rel="stylesheet">
    
      <link href="/css/theme-ks.css?1656682677" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1656682677"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/fiks-plattform/tjenester/fiksio/arkiv/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <img src="/images/ks-logo.svg" alt="KS logo" class="ks-logo"/>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1656682677"></script>
<script type="text/javascript" src="/js/auto-complete.js?1656682677"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1656682677"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

          
          
          


 
  
    
    <li data-nav-id="/fiks-plattform/" title="Fiks-plattformen" class="dd-item 
        parent
        
        
        ">
      <a href="/fiks-plattform/">
          Fiks-plattformen
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/difiidportenklient/" title="Hvordan lage klient hos maskinporten" class="dd-item ">
        <a href="/fiks-plattform/difiidportenklient/">
        Hvordan lage klient hos maskinporten
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/integrasjoner/" title="Integrasjonsutvikling" class="dd-item ">
        <a href="/fiks-plattform/integrasjoner/">
        Integrasjonsutvikling
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fiks-plattform/sentralisert-brukerstyring/" title="Sentralisert brukerstyring" class="dd-item 
        
        
        
        ">
      <a href="/fiks-plattform/sentralisert-brukerstyring/">
          Sentralisert brukerstyring
          
      </a>
      
      
        <ul>
          
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/sentralisert-brukerstyring/azure/" title="Sette opp Azure AD" class="dd-item ">
        <a href="/fiks-plattform/sentralisert-brukerstyring/azure/">
        Sette opp Azure AD
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/sikkerhet/" title="Sikkerhet og personvern i Fiks-plattformen" class="dd-item ">
        <a href="/fiks-plattform/sikkerhet/">
        Sikkerhet og personvern i Fiks-plattformen
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/testmiljo/" title="Testmiljø" class="dd-item ">
        <a href="/fiks-plattform/testmiljo/">
        Testmiljø
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fiks-plattform/tjenester/" title="Tjenester" class="dd-item 
        parent
        
        
        ">
      <a href="/fiks-plattform/tjenester/">
          Tjenester
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/digisos/" title="Digisos" class="dd-item ">
        <a href="/fiks-plattform/tjenester/digisos/">
        Digisos
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/dokumentlager/" title="Dokumentlager" class="dd-item ">
        <a href="/fiks-plattform/tjenester/dokumentlager/">
        Dokumentlager
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fiks-plattform/tjenester/fiksio/" title="Fiks IO" class="dd-item 
        parent
        
        
        ">
      <a href="/fiks-plattform/tjenester/fiksio/">
          Fiks IO
          
      </a>
      
      
        <ul>
          
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/fiksio/arkiv/" title="Fiks Arkiv" class="dd-item active">
        <a href="/fiks-plattform/tjenester/fiksio/arkiv/">
        Fiks Arkiv
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/fiksio/arkivlett/" title="Fiks IO Arkivlett Byggesak" class="dd-item ">
        <a href="/fiks-plattform/tjenester/fiksio/arkivlett/">
        Fiks IO Arkivlett Byggesak
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/fiksio/matrikkelfoering/" title="Fiks IO Matrikkelføring" class="dd-item ">
        <a href="/fiks-plattform/tjenester/fiksio/matrikkelfoering/">
        Fiks IO Matrikkelføring
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/fiksio/plan/" title="Fiks Plan" class="dd-item ">
        <a href="/fiks-plattform/tjenester/fiksio/plan/">
        Fiks Plan
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/folkeregister/" title="Folkeregister" class="dd-item ">
        <a href="/fiks-plattform/tjenester/folkeregister/">
        Folkeregister
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/fullmakt/" title="Fullmakt" class="dd-item ">
        <a href="/fiks-plattform/tjenester/fullmakt/">
        Fullmakt
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/innreise/" title="Innreiseregister fra Helsedirektoratet" class="dd-item ">
        <a href="/fiks-plattform/tjenester/innreise/">
        Innreiseregister fra Helsedirektoratet
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/kjoretoyregister/" title="Kjøretøyregister" class="dd-item ">
        <a href="/fiks-plattform/tjenester/kjoretoyregister/">
        Kjøretøyregister
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/klinikermelding/" title="Klinikermelding hos FHI" class="dd-item ">
        <a href="/fiks-plattform/tjenester/klinikermelding/">
        Klinikermelding hos FHI
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fiks-plattform/tjenester/minkommune/" title="Min kommune" class="dd-item 
        
        
        
        ">
      <a href="/fiks-plattform/tjenester/minkommune/">
          Min kommune
          
      </a>
      
      
        <ul>
          
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/minkommune/innsyn/" title="Innsyn" class="dd-item ">
        <a href="/fiks-plattform/tjenester/minkommune/innsyn/">
        Innsyn
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/minkommune/kommunaletjenester/" title="Kommunale Tjenester" class="dd-item ">
        <a href="/fiks-plattform/tjenester/minkommune/kommunaletjenester/">
        Kommunale Tjenester
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/minkommune/matrikkel/" title="Matrikkel" class="dd-item ">
        <a href="/fiks-plattform/tjenester/minkommune/matrikkel/">
        Matrikkel
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/minkommune/faktura/" title="Min kommune - Faktura" class="dd-item ">
        <a href="/fiks-plattform/tjenester/minkommune/faktura/">
        Min kommune - Faktura
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/bekymringsmelding/" title="Nasjonal portal for bekymringsmelding" class="dd-item ">
        <a href="/fiks-plattform/tjenester/bekymringsmelding/">
        Nasjonal portal for bekymringsmelding
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/provesvar/" title="Prøvesvar fra FHI" class="dd-item ">
        <a href="/fiks-plattform/tjenester/provesvar/">
        Prøvesvar fra FHI
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/dhis2/" title="Smittesporing ved bruk av DHIS2" class="dd-item ">
        <a href="/fiks-plattform/tjenester/dhis2/">
        Smittesporing ved bruk av DHIS2
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/fiks-plattform/tjenester/vaksine/" title="Vaksine fra FHI" class="dd-item ">
        <a href="/fiks-plattform/tjenester/vaksine/">
        Vaksine fra FHI
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/fiks-plattform/tjenester_under_utvikling/" title="Tjenester under utvikling" class="dd-item 
        
        
        
        ">
      <a href="/fiks-plattform/tjenester_under_utvikling/">
          Tjenester under utvikling
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/kslering/" title="KS læring" class="dd-item 
        
        
        
        ">
      <a href="/kslering/">
          KS læring
          
      </a>
      
      
        <ul>
          
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/kslering/integrasjon/" title="KS læring integrasjon" class="dd-item ">
        <a href="/kslering/integrasjon/">
        KS læring integrasjon
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kslering/singlesignon/" title="Single Sign On" class="dd-item ">
        <a href="/kslering/singlesignon/">
        Single Sign On
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/svarut/" title="SvarUt" class="dd-item 
        
        
        
        ">
      <a href="/svarut/">
          SvarUt
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/svarut/edialog/" title="Edialog" class="dd-item ">
        <a href="/svarut/edialog/">
        Edialog
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/svarut/integrasjon/" title="Integrasjon mot SvarUt" class="dd-item 
        
        
        
        ">
      <a href="/svarut/integrasjon/">
          Integrasjon mot SvarUt
          
      </a>
      
      
        <ul>
          
          
          
          
          
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelserestservicev1/" title="ForsendelseRestServiceV1" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelserestservicev1/">
        ForsendelseRestServiceV1
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev4/" title="ForsendelseServiceV4" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelseservicev4/">
        ForsendelseServiceV4
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev5/" title="ForsendelseServiceV5" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelseservicev5/">
        ForsendelseServiceV5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev6/" title="ForsendelseServiceV6" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelseservicev6/">
        ForsendelseServiceV6
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev7/" title="ForsendelseServiceV7" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelseservicev7/">
        ForsendelseServiceV7
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev8/" title="ForsendelseServiceV8" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelseservicev8/">
        ForsendelseServiceV8
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev9/" title="ForsendelseServiceV9" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelseservicev9/">
        ForsendelseServiceV9
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelsesservicev10/" title="ForsendelsesServiceV10" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelsesservicev10/">
        ForsendelsesServiceV10
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/forsendelsesservicev11/" title="ForsendelsesServiceV11" class="dd-item ">
        <a href="/svarut/integrasjon/forsendelsesservicev11/">
        ForsendelsesServiceV11
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/kodeeksempeldotnet/" title="Kodeeksempel .Net" class="dd-item ">
        <a href="/svarut/integrasjon/kodeeksempeldotnet/">
        Kodeeksempel .Net
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/kodeeksempeljava/" title="Kodeeksempel Java" class="dd-item ">
        <a href="/svarut/integrasjon/kodeeksempeljava/">
        Kodeeksempel Java
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/kodeeksempelmottakerrest/" title="Kodeeksempel MottaksserviceV1" class="dd-item ">
        <a href="/svarut/integrasjon/kodeeksempelmottakerrest/">
        Kodeeksempel MottaksserviceV1
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/integrasjon/mottaksservice-rest/" title="MottakService v1" class="dd-item ">
        <a href="/svarut/integrasjon/mottaksservice-rest/">
        MottakService v1
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/konfigurasjon-av-svarut/" title="Konfigurasjon av SvarUT" class="dd-item ">
        <a href="/svarut/konfigurasjon-av-svarut/">
        Konfigurasjon av SvarUT
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/signeringstjeneste/" title="Signeringstjeneste" class="dd-item ">
        <a href="/svarut/signeringstjeneste/">
        Signeringstjeneste
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/forsendelser-og-sikkerhet/" title="Sikkerhet" class="dd-item ">
        <a href="/svarut/forsendelser-og-sikkerhet/">
        Sikkerhet
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/svarinn-mottakservice/" title="SvarInn - Mottaksservice" class="dd-item ">
        <a href="/svarut/svarinn-mottakservice/">
        SvarInn - Mottaksservice
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/svarut-svarinn-adressering/" title="SvarUt - SvarInn adressering" class="dd-item ">
        <a href="/svarut/svarut-svarinn-adressering/">
        SvarUt - SvarInn adressering
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/svarut/testmiljo/" title="SvarUt Testmiljø" class="dd-item ">
        <a href="/svarut/testmiljo/">
        SvarUt Testmiljø
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li> 
                  <h3>Lenker</h3><a class="padding" href="https://github.com/ks-no/ks-no.github.io"><label>Github repo</label></a>
              </li>
          
              <li> 
                  <a class="padding" href="/index.xml"><img src='/images/feed-icon-28x28.png' aria-hidden='true'>&nbsp;RSS</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='' href="https://github.com/ks-no/ks-no.github.io/edit/source/content/fiks-plattform/tjenester/fiksio/arkiv.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>KS Fiks dokumentasjon</a> > <a href='/fiks-plattform/'>Fiks-plattformen</a> > <a href='/fiks-plattform/tjenester/'>Tjenester</a> > <a href='/fiks-plattform/tjenester/fiksio/'>Fiks IO</a> > Fiks Arkiv
          
         
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#meldinger">Meldinger</a>
      <ul>
        <li><a href="#meldingsformat-og-skjema">Meldingsformat og skjema</a></li>
        <li><a href="#net-bibliotek-og-prosjekter">.NET bibliotek og prosjekter</a></li>
        <li><a href="#java-bibliotek-og-prosjekter">Java bibliotek og prosjekter</a></li>
        <li><a href="#asynkrone-meldinger-og-retry">Asynkrone meldinger og retry</a></li>
        <li><a href="#ack">Ack</a></li>
      </ul>
    </li>
    <li><a href="#arkivering">Arkivering</a>
      <ul>
        <li><a href="#begrensninger-og-regler-for-arkivering">Begrensninger og regler for arkivering</a></li>
        <li><a href="#mottatt-og-kvittering">Mottatt og kvittering</a></li>
        <li><a href="#feilmeldinger-for-arkivmelding">Feilmeldinger for arkivmelding</a></li>
      </ul>
    </li>
    <li><a href="#søk-etter-data">Søk etter data</a>
      <ul>
        <li><a href="#søkeresultat-utvidet">Søkeresultat utvidet</a></li>
        <li><a href="#søkeresultat-minimum">Søkeresultat minimum</a></li>
        <li><a href="#søkeresultat-nøkler">Søkeresultat nøkler</a></li>
        <li><a href="#feilmeldinger-for-søk">Feilmeldinger for søk</a></li>
      </ul>
    </li>
    <li><a href="#hente-data">Hente data</a>
      <ul>
        <li><a href="#meldingstyper">Meldingstyper:</a></li>
        <li><a href="#hent-mappe">Hent mappe:</a></li>
        <li><a href="#hent-journalpost">Hent journalpost:</a></li>
        <li><a href="#hent-dokumentfil">Hent dokumentfil:</a></li>
        <li><a href="#feilmeldinger-for-hent-meldinger">Feilmeldinger for hent meldinger</a></li>
      </ul>
    </li>
    <li><a href="#oppdatering">Oppdatering</a>
      <ul>
        <li><a href="#meldingstyper-1">Meldingstyper:</a></li>
        <li><a href="#arkivmelding-oppdatering">Arkivmelding oppdatering:</a></li>
        <li><a href="#feilmeldinger-for-oppdater-meldinger">Feilmeldinger for oppdater meldinger</a></li>
      </ul>
    </li>
    <li><a href="#feilmeldingstyper">Feilmeldingstyper</a>
      <ul>
        <li><a href="#feilmeldingstyper-1">Feilmeldingstyper</a></li>
        <li><a href="#ugyldig-forespørsel">Ugyldig forespørsel</a></li>
        <li><a href="#serverfeil">Serverfeil</a></li>
        <li><a href="#ikkefunnet">Ikkefunnet</a></li>
        <li><a href="#fiks-io-feilmelding-når-meldinger-ikke-er-hentet">Fiks-io feilmelding når meldinger ikke er hentet</a></li>
      </ul>
    </li>
    <li><a href="#testing-av-meldingsutveksling">Testing av meldingsutveksling</a>
      <ul>
        <li><a href="#integrasjonstester">Integrasjonstester</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Fiks Arkiv
            </h1>
          

        



<blockquote>
<p>Tjenesten er under utvikling/testing/pilotering</p>
</blockquote>
<p>Fiks Arkiv er en asynkron protokoll over Fiks IO eller andre transportmekanismer for å søke, arkivere og hente data fra et arkiv.
For implementasjonseksempler, brukerhistorier og teknisk dokumentasjon les mer i wiki på github repoet <a href="https://github.com/ks-no/fiks-arkiv/wiki">fiks-arkiv</a>.</p>
<h2 id="meldinger">Meldinger</h2>
<p>Hver melding består av en zip fil ASIC-E som inneholder <code>arkivmelding.xml</code> eller <code>sok.xml</code> og tilhørende vedlegg som er definert i xml filen.
Hver melding kan ikke overskride 5GB.</p>
<h3 id="meldingsformat-og-skjema">Meldingsformat og skjema</h3>
<p>For mer informasjon rundt meldingsformatet <strong>arkivmelding</strong> kan man lese om definisjonen <a href="https://docs.digdir.no/eformidling_nm_arkivmeldingen.html">her</a> hos Digdir.
XSD skjema for meldingsformatene er tilgjengelig for nedlasting på github prosjektet <a href="https://github.com/ks-no/fiks-arkiv-specification">fiks-arkiv-specification</a> eller i bibliotek for .NET og Java. Dette spesifikasjonsprosjektet brukes som felles kilde for bygging av bibliotek/moduler for .NET og Java.</p>
<h3 id="net-bibliotek-og-prosjekter">.NET bibliotek og prosjekter</h3>
<p><strong>Prosjekter og evt nuget pakker:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Nuget</th>
<th>Github</th>
</tr>
</thead>
<tbody>
<tr>
<td>Modeller og XSD skjema</td>
<td><a href="https://www.nuget.org/packages/KS.Fiks.Arkiv.Models.V1/"><code>KS.Fiks.Arkiv.Models.V1</code></a></td>
<td><a href="https://github.com/ks-no/fiks-arkiv-models-dotnet">https://github.com/ks-no/fiks-arkiv-models-dotnet</a></td>
</tr>
<tr>
<td>Forenklet arkivering</td>
<td><a href="https://www.nuget.org/packages/KS.Fiks.Arkiv.Forenklet.Arkivering.V1/"><code>KS.Fiks.Arkiv.Forenklet.Arkivering.V1</code></a></td>
<td><a href="https://github.com/ks-no/fiks-arkiv-forenklet-arkivering-dotnet">https://github.com/ks-no/fiks-arkiv-forenklet-arkivering-dotnet</a></td>
</tr>
<tr>
<td>Fiks protokoll validator</td>
<td>-</td>
<td><a href="https://github.com/ks-no/fiks-protokoll-validator">https://github.com/ks-no/fiks-protokoll-validator</a></td>
</tr>
<tr>
<td>Valideringstester</td>
<td>-</td>
<td><a href="https://github.com/ks-no/fiks-arkiv-integration-tests-dotnet">https://github.com/ks-no/fiks-arkiv-integration-tests-dotnet</a></td>
</tr>
</tbody>
</table>
<p><strong>Modeller og XSD skjema</strong></p>
<p>KS har gjort tilgjengelig nuget pakken <code>KS.Fiks.Arkiv.Models.V1</code> som inneholder modeller for at man skal enklere kunne bygge meldingene i henhold til spesifikasjon.
Modellene er generert av XSD skjema fra github prosjektet <a href="https://github.com/ks-no/fiks-arkiv-specification">fiks-arkiv-specification</a>. XSD skjemane følger også med i pakken. Koden er tilgjengelig på github <a href="https://github.com/ks-no/fiks-arkiv-models-dotnet/">her</a> og er tilgjengelig for nedlasting og bruk i prosjekter på <a href="https://www.nuget.org/packages/KS.Fiks.Arkiv.Models.V1/">nuget.org</a>.</p>
<p><strong>Forenklet arkivering</strong></p>
<p><em>Denne pakken er uferdig og vil bli utbedret når V1 av protokollen er ferdig lansert</em></p>
<p>Dette er en nuget-pakke for &ldquo;forenklet arkivering&rdquo;, <code>KS.Fiks.Arkiv.Forenklet.Arkivering.V1</code>, som inneholder forenklete metoder for å bygge arkivmelding for diverse brukstilfeller. Denne bruker modellene fra <code>KS.Fiks.Arkiv.Models.V1</code> til byggingen av arkivmelding. Koden er tilgjengelig på github <a href="https://github.com/ks-no/fiks-arkiv-forenklet-arkivering-dotnet">her</a> og er også tilgjengelig for bruk i prosjekter på <a href="https://www.nuget.org/packages/KS.Fiks.Arkiv.Forenklet.Arkivering.V1/">nuget.org</a></p>
<p><strong>Fiks protokoll validator</strong></p>
<p>Dette er en applikasjon som kjører i KS sitt testmiljø. Med denne kan man teste protokollene mot sitt eget arkiv-testmiljø ved å sende ferdige meldinger med statisk XML innhold til den aktuelle FIKS-IO kontoen.</p>
<p><strong>Valideringstester</strong></p>
<p>Dette prosjekter inneholder valideringstester (integrasjonstester) som tester at et arkiv som har implementert Fiks Arkiv protokollen fungerer som forventet i meldings-utvekslinger. F.eks. at arkivet kan ta i mot og lagre en ny journalpost, oppdatere journalposten, og levere den oppdaterte journalposten på en hent-melding.
Disse testene kan gjennomføre flere meldingsutvekslinger og steg enn <code>Fiks protokoll validator</code> som kun tester å sende en melding og så sjekker svaret.</p>
<p>Testene kjøres ved at man laster ned prosjektet og kjører de lokalt.</p>
<p>Github prosjektet for validatortestene er <a href="https://github.com/ks-no/fiks-arkiv-integration-tests-dotnet">her</a> og kan lastes ned og brukes for testing. Det oppfordres til å bidra med enda flere tester.</p>
<h3 id="java-bibliotek-og-prosjekter">Java bibliotek og prosjekter</h3>
<p><strong>Maven</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Navn</th>
<th>Github</th>
</tr>
</thead>
<tbody>
<tr>
<td>Modeller og XSD skjema</td>
<td><a href="https://github.com/ks-no/fiks-arkiv-client-java"><code>fiks-arkiv</code></a></td>
<td><a href="https://github.com/ks-no/fiks-arkiv-client-java">https://github.com/ks-no/fiks-arkiv-client-java</a></td>
</tr>
<tr>
<td>Forenklet arkivering</td>
<td><a href="https://search.maven.org/artifact/no.ks.fiks/fiks-arkiv-forenklet-arkivering"><code>fiks-arkiv-forenklet-arkivering</code></a></td>
<td><a href="https://github.com/ks-no/fiks-arkiv-client-java">https://github.com/ks-no/fiks-arkiv-client-java</a></td>
</tr>
</tbody>
</table>
<p>Tilsvarende som for .NET finnes det tilgjengelige moduler på Maven Central. Prosjektet er tilgjengelig på github <a href="https://github.com/ks-no/fiks-arkiv-client-java">her</a>.</p>
<p><strong>Modeller og XSD skjema</strong></p>
<p>Modulen <a href="https://search.maven.org/artifact/no.ks.fiks/fiks-arkiv-api"><code>fiks-arkiv-api</code></a> inneholder autogenerert typer, definert i skjema prosjektet <a href="https://github.com/ks-no/fiks-arkiv-specification"><code>fiks-arkiv-specification</code></a>. XSD skjema fra <a href="https://github.com/ks-no/fiks-arkiv-specification"><code>fiks-arkiv-specification</code></a> er inkludert i jar under schemas.v1</p>
<p><strong>Forenklet arkivering</strong></p>
<p>Modulen <a href="https://search.maven.org/artifact/no.ks.fiks/fiks-arkiv-forenklet-arkivering"><code>fiks-arkiv-forenklet-arkivering</code></a> tilsvarer pakken i .NET for &ldquo;forenklet arkivering&rdquo; og inneholder buildere for forenklet oppbygging av gyldig arkivmelding. XSD skjema fra <a href="https://github.com/ks-no/fiks-arkiv-specification">fiks-arkiv-specification</a> er inkludert i jar under schemas.v1</p>
<h3 id="asynkrone-meldinger-og-retry">Asynkrone meldinger og retry</h3>
<p>Siden denne protokollen er asynkron betyr det at man må ta forbehold om at man kanskje ikke får svar på en melding som ble sendt.
Det kan være mange ulike årsaker til dette som f.eks. at mottaker midlertidig feilet ved persistering eller andre tekniske feil.
Men det kan også være at mottaker faktisk har lagret arkivmelding som den skal, men det er mottat og kvitteringsmelding tilbake til avsender som aldri kom fram.</p>
<p>Avsender må da velge om man skal gjøre nytt forsøk på å sende melding.
Når man sender en melding til Fiks IO så vil meldingen få en unik id hver gang.
Dermed kan det i noen tilfeller kanskje være vanskelig for mottaker å vite at dette er en melding som sendes på nytt.</p>
<p>Dette løses ved at meldinger til Fiks IO kan gis en id med navnet <strong>klientMeldingId</strong> for å markere at det er en unik melding fra avsender, som man kan gjenbrukes ved nytt forsøk.
Mottaker kan da sende mottatt og kvittering på nytt.</p>
<p>Det kan være lurt at man tar med seg noen kjøreregler for sending og retry av meldinger:</p>
<ul>
<li>Ha et maks antall forsøk på å sende meldinger på nytt</li>
<li>Ikke forsøk å sende en melding på nytt med en gang. Gi det litt tid for å ikke &ldquo;plage&rdquo; mottaker.</li>
<li>Bruk klientMeldingId på alle meldinger. Både ved første forsøk og retry. Dette kan gjøre det lettere å gjenkjenne duplikate meldinger hos mottaker.</li>
</ul>
<h3 id="ack">Ack</h3>
<p>Når en melding er mottatt skal mottaker persistere meldingen og sende <code>ack</code> tilbake til Fiks-IO. Sending av <code>ack</code> tilbake til Fiks-IO sørger for at meldingen blir tatt bort fra køen.</p>
<p>En <code>ack</code> melding må ikke forveksles med <code>mottatt</code>meldingene som sendes tilbake i noen tilfeller. En <code>mottatt</code>melding er en melding tilbake til avsender, en <code>ack</code>melding er <strong>kun</strong> en beskjed tilbake til køen om å fjerne meldingen.</p>
<p>Hvis <code>ack</code> for en melding uteblir vil meldingen bli værende på køen inntil den er blitt hentet 3 ganger uten å få en <code>ack</code> tilbake. Da vil Fiks-IO sende en <code>no.ks.fiks.io.feilmelding.serverfeil</code> melding tilbake til avsender. Med andre ord er det viktig at man sender <code>ack</code> når man vellykket har hentet en melding.</p>
<p>OBS: Dette erstatter tidligere TTL-håndtering på Fiks-IO køene. Det vil ikke lenger sendes noen <code>tidsavbrudd</code> meldinger basert på TTL.</p>
<h2 id="arkivering">Arkivering</h2>
<p><strong>Meldingstyper:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Navn</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arkiver melding</td>
<td><code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding</code></td>
</tr>
<tr>
<td>Mottatt melding</td>
<td><code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.mottatt</code></td>
</tr>
<tr>
<td>Kvittering på arkivering</td>
<td><code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.kvittering</code></td>
</tr>
</tbody>
</table>
<p>For å arkivere data må en bruke meldingsformatet <code>arkivmelding.xml</code>. Se xsd schema <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/arkivmelding.xsd"><strong>arkivmelding.xsd</strong></a> for definsjon av meldingsformatet.</p>
<h3 id="begrensninger-og-regler-for-arkivering">Begrensninger og regler for arkivering</h3>
<ul>
<li>Arkivmelding støtter ikke å registrere flere mapper i et hierarki, altså mapper i mapper, i en enkelt arkivmelding. Registrering av ny undermappe må da registreres hver for seg. Mapper kan altså bare referere til eksisterende mappe, som må da ha vært opprettet tidligere.</li>
<li>En foreldermappe kan ikke inneholde registreringer. Altså en mappe som inneholder andre mapper skal bare inneholde mapper.</li>
</ul>
<h3 id="mottatt-og-kvittering">Mottatt og kvittering</h3>
<p>Hvis meldingen er gyldig som arkivmelding skal man så sende melding tilbake av typen <code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.mottatt</code>.
Når arkivering er arkivert til arkivet skal det komme en <strong>arkivmelding</strong> tilbake i meldingsformatet <code>arkivmelding-kvittering.xml</code> av typen <code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.kvittering</code>. Se <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/arkivmeldingKvittering.xsd"><strong>arkivmeldingKvittering.xsd</strong></a> for definisjon av meldingsformatet på kvitteringsmelding.</p>
<p><img src="/images/arkivmelding_med_kvittering_ok.png" alt="arkivmelding_med_kvittering_ok" title="Arkivmelding med kvittering"></p>
<h3 id="feilmeldinger-for-arkivmelding">Feilmeldinger for arkivmelding</h3>
<p>Hvis arkivmeldingen ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en <code>no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel</code> melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes <code>no.ks.fiks.arkiv.v1.feilmelding.serverfeil</code> tilbake.
Les mer om disse feilmeldingene lenger nede under <a href="#Feilmeldingstyper">feilmeldingstyper</a></p>
<h2 id="søk-etter-data">Søk etter data</h2>
<p><strong>Meldingstyper:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Navn</th>
</tr>
</thead>
<tbody>
<tr>
<td>Søk melding</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.sok</code></td>
</tr>
<tr>
<td>Søkeresultat utvidet</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.sok.resultat.utvidet</code></td>
</tr>
<tr>
<td>Søkeresultat minimum</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.sok.resultat.minimum</code></td>
</tr>
<tr>
<td>Søkeresultat nøkler</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.sok.resultat.noekler</code></td>
</tr>
</tbody>
</table>
<p>Meldingsformatet for søk er definert i xsd schema <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/sok.xsd"><strong>sok.xsd</strong></a>. I meldingsformatet <strong>sok.xml</strong> kan man definere om man ønsker et resultat tilbake av typen utvidet, minimum eller noekler.</p>
<h3 id="søkeresultat-utvidet">Søkeresultat utvidet</h3>
<p>Hvis søk forespørsel har satt <em>responsType</em> = <em>&ldquo;utvidet&rdquo;</em>  kan søket returnere et utvidet resultat med maksimalt mengde felter tilgjengelig gjennom søk. Se <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/sokeresultatUtvidet.xsd"><strong>sokeresultatUtvidet.xsd</strong></a> for definisjon av returmelding.</p>
<h3 id="søkeresultat-minimum">Søkeresultat minimum</h3>
<p>Hvis søk forespørsel har satt <em>responsType</em> = <em>&ldquo;minimum&rdquo;</em> kan søket returnere et mer begrenset resultat tilgjengelig gjennom søk. Se <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/sokeresultatMinimum.xsd"><strong>sokeresultatMinimum.xsd</strong></a></p>
<h3 id="søkeresultat-nøkler">Søkeresultat nøkler</h3>
<p>Hvis søk forespørsel har satt <em>responsType</em> = <em>&ldquo;noekler&rdquo;</em> kan søket returnere bare tilgjengelige nøkler. Se <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/sokeresultatNoekler.xsd"><strong>sokeresultatNoekler.xsd</strong></a></p>
<h3 id="feilmeldinger-for-søk">Feilmeldinger for søk</h3>
<p>Hvis søket ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en <code>no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel</code> melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes <code>no.ks.fiks.arkiv.v1.feilmelding.serverfeil</code> tilbake.
Les mer om disse feilmeldingene lenger nede under <a href="#Feilmeldingstyper">feilmeldingstyper</a></p>
<h2 id="hente-data">Hente data</h2>
<h3 id="meldingstyper">Meldingstyper:</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Navn</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hent mappe</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.mappe.hent</code></td>
</tr>
<tr>
<td>Hent journalpost</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.journalpost.hent</code></td>
</tr>
<tr>
<td>Hent dokumentfil</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.dokumentfil.hent</code></td>
</tr>
<tr>
<td>Hent mappe resultat</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.mappe.hent.resultat</code></td>
</tr>
<tr>
<td>Hent journalpost resultat</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.journalpost.hent.resultat</code></td>
</tr>
<tr>
<td>Hent dokumentfil resultat</td>
<td><code>no.ks.fiks.arkiv.v1.innsyn.dokumentfil.hent.resultat</code></td>
</tr>
</tbody>
</table>
<h3 id="hent-mappe">Hent mappe:</h3>
<p>Meldingsformatet for hent mappe er definert i xsd schema <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/mappeHent.xsd"><strong>mappeHent.xsd</strong></a> og sendes som meldingstypen <code>no.ks.fiks.arkiv.v1.innsyn.mappe.hent</code>.
Resultatet skal sendes tilbake som meldingstypen <code>no.ks.fiks.arkiv.v1.mappe.hent.resultat</code> og formatet er definert i xsd schema  <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/mappeHentResultat.xsd"><strong>mappeHentResultat.xsd</strong></a>.</p>
<h3 id="hent-journalpost">Hent journalpost:</h3>
<p>Meldingsformatet for hent journalpost er definert i xsd schema <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/journalpostHent.xsd"><strong>journalpostHent.xsd</strong></a> og sendes som meldingstypen no.ks.fiks.arkiv.v1.innsyn.journalpost.hent.
Resultatet skal sendes tilbake som meldingstypen <code>no.ks.fiks.arkiv.v1.journalpost.hent.resultat</code> og formatet er definert i xsd schema  <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/journalpostHentResultat.xsd"><strong>journalpostHentResultat.xsd</strong></a>.</p>
<h3 id="hent-dokumentfil">Hent dokumentfil:</h3>
<p>Meldingsformatet for hent dokumentfil er definert i xsd schema <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/dokumentfilHent.xsd"><strong>dokumentfilHent.xsd</strong></a> og sendes som meldingstypen no.ks.fiks.arkiv.v1.innsyn.dokumentfil.hent.
Resultatet skal sendes tilbake som typen <code>no.ks.fiks.arkiv.v1.dokumentfil.hent.resultat</code>. Merk at det er ikke noe xsd schema for resultat da det ikke er noe behov for meta-data for dokumenfilen. Ønsker man meta-data for et dokument må <strong>hent journalpost brukes</strong>. Dokumentfilen kommer som payload i Fiks-IO meldingen med meldingsypen <code>no.ks.fiks.arkiv.v1.dokumentfil.hent.resultat</code>.</p>
<h3 id="feilmeldinger-for-hent-meldinger">Feilmeldinger for hent meldinger</h3>
<p>Hvis hent meldingen ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en <code>no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel</code> melding tilbake.
Ved interne feil som gjør at man ikke får håndtert meldingen sendes <code>no.ks.fiks.arkiv.v1.feilmelding.serverfeil</code> tilbake og hvis det blir forsøkt å hente noe som ikke eksisterer i arkivet leveres det tilbake en <code>no.ks.fiks.arkiv.v1.feilmelding.ikkefunnet</code> melding.
Les mer om disse feilmeldingene lenger nede under <a href="#Feilmeldingstyper">feilmeldingstyper</a></p>
<h2 id="oppdatering">Oppdatering</h2>
<h3 id="meldingstyper-1">Meldingstyper:</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Navn</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arkivmelding oppdatering</td>
<td><code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater</code></td>
</tr>
<tr>
<td>Mottatt melding</td>
<td><code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater.mottatt</code></td>
</tr>
<tr>
<td>Arkivmelding oppdatering kvittering</td>
<td><code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater.kvittering</code></td>
</tr>
</tbody>
</table>
<h3 id="arkivmelding-oppdatering">Arkivmelding oppdatering:</h3>
<p>Meldingsformatet for arkivmelding oppdatering er definert i xsd schema <a href="https://github.com/ks-no/fiks-arkiv-specification/blob/main/Schema/V1/arkivmeldingOppdatering.xsd"><strong>arkivmeldingOppdatering.xsd</strong></a> og sendes som meldingstypen <code>no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater</code>.</p>
<h3 id="feilmeldinger-for-oppdater-meldinger">Feilmeldinger for oppdater meldinger</h3>
<p>Hvis oppdater meldingen ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes no.ks.fiks.arkiv.v1.feilmelding.serverfeil tilbake og hvis det blir forsøkt å oppdatere noe som ikke eksisterer i arkivet leveres det tilbake en no.ks.fiks.arkiv.v1.feilmelding.ikkefunnet melding. Les mer om disse feilmeldingene lenger nede under <a href="#Feilmeldingstyper">feilmeldingstyper</a></p>
<h2 id="feilmeldingstyper">Feilmeldingstyper</h2>
<p>Som svar kan man få feilmeldinger som tilhører denne protokollen. Feilmeldingstypene kan være like i innhold som feilmeldinger i andre protokoller men de vil ha navn som tilsier at de tilhører en spesifikk protokoll.
Altså vil de ha en <em>no.ks.fiks.arkiv.v1.feilmelding</em> prefix for denne protokollen.</p>
<h3 id="feilmeldingstyper-1">Feilmeldingstyper</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Navn</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ugyldigforespørsel</td>
<td><code>no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespørsel</code></td>
</tr>
<tr>
<td>Serverfeil</td>
<td><code>no.ks.fiks.arkiv.v1.feilmelding.serverfeil</code></td>
</tr>
<tr>
<td>Ikkefunnet</td>
<td><code>no.ks.fiks.arkiv.v1.feilmelding.ikkefunnet</code></td>
</tr>
</tbody>
</table>
<h3 id="ugyldig-forespørsel">Ugyldig forespørsel</h3>
<p>Hvis noe er galt med forespørselen, altså den er ugyldig, så skal mottaker sende en <code>no.ks.fiks.kvittering.ugyldigforespoersel.v1</code> tilbake til sender. Json <a href="https://github.com/ks-no/fiks-io-client-dotnet/blob/master/KS.Fiks.IO.Client/Schema/no.ks.fiks.kvittering.ugyldigforespoersel.v1.schema.json">schema</a> følger med i .NET pakken for Fiks-IO-client.
<img src="/images/arkivmelding_med_ugyldigforesporsel.png" alt="arkivmelding_med_ugyldigforesporsel" title="Arkivmelding med ugyldig forespørsel"></p>
<h3 id="serverfeil">Serverfeil</h3>
<p>Ved serverfeil hos mottaker skal det sendes en <code>no.ks.fiks.kvittering.serverfeil.v1</code> tilbake til sender. Json <a href="https://github.com/ks-no/fiks-io-client-dotnet/blob/master/KS.Fiks.IO.Client/Schema/no.ks.fiks.kvittering.serverfeil.v1.schema.json">schema</a> følger med i .net pakken for Fiks-IO-client.</p>
<h3 id="ikkefunnet">Ikkefunnet</h3>
<p>For meldinger som skal hente eller oppdatere noe i arkivet vil det returneres en ikkefunnet melding tilbake.</p>
<h3 id="fiks-io-feilmelding-når-meldinger-ikke-er-hentet">Fiks-io feilmelding når meldinger ikke er hentet</h3>
<p>Når en melding er mottatt skal mottaker persistere meldingen og sende <code>ack</code> tilbake til Fiks-IO. Sending av <code>ack</code> tilbake til Fiks-IO sørger for at meldingen blir tatt bort fra køen.</p>
<p>Hvis <code>ack</code> for en melding uteblir vil meldingen bli værende på køen inntil den er blitt hentet 3 ganger uten å få en <code>ack</code> tilbake. Da vil Fiks-IO sende en <code>no.ks.fiks.io.feilmelding.serverfeil</code> melding tilbake til avsender. Med andre ord er det viktig at man sender <code>ack</code> når man vellykket har hentet en melding.</p>
<p>Dette erstatter tidligere TTL-håndtering på Fiks-IO køene. Det vil ikke lenger sendes noen <code>tidsavbrudd</code> meldinger basert på TTL.</p>
<h2 id="testing-av-meldingsutveksling">Testing av meldingsutveksling</h2>
<p>Det er opprettet en test-applikasjon, <strong>fiks-protokoll-validator</strong>, som kjører i KS sitt testmiljø. Med denne kan man teste protokollene mot sitt eget arkiv-testmiljø ved å sende ferdige meldinger med statisk XML innhold til den arkivets FIKS-IO konto.
Fiks-protokoll-validator vil validere svaret den får tilbake via Fiks-IO og gi en pekepinn på om implementasjon fungerer som det skal.
Applikasjonen er kun tilgjengelig i KS test-miljø: <a href="https://forvaltning.fiks.test.ks.no/fiks-validator/#/">fiks-validator</a></p>
<p>Koden for validatoren er tilgjengelig på <a href="https://github.com/ks-no/fiks-protokoll-validator">github</a>.</p>
<h3 id="integrasjonstester">Integrasjonstester</h3>
<p>Som tidligere nevnt er det også laget et .NET prosjekt som inneholder integrasjonstester som tester at et arkiv som har implementert Fiks Arkiv protokollen fungerer som forventet i meldings-utvekslinger.
Github prosjektet finner man <a href="https://github.com/ks-no/fiks-arkiv-integration-tests-dotnet">her</a>.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/fiks-plattform/tjenester/fiksio/matrikkelfoering/" title="Fiks IO Matrikkelføring"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/fiks-plattform/tjenester/fiksio/arkivlett/" title="Fiks IO Arkivlett Byggesak" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1656682677"></script>
    <script src="/js/perfect-scrollbar.min.js?1656682677"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1656682677"></script>
    <script src="/js/jquery.sticky.js?1656682677"></script>
    <script src="/js/featherlight.min.js?1656682677"></script>
    <script src="/js/highlight.pack.js?1656682677"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1656682677"></script>
    <script src="/js/learn.js?1656682677"></script>
    <script src="/js/hugo-learn.js?1656682677"></script>

    <link href="/mermaid/mermaid.css?1656682677" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1656682677"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>


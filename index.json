[
{
	"uri": "/kslering/singlesignon/",
	"title": "Single Sign On",
	"tags": [],
	"description": "",
	"content": "Single sign On (SSO)  Bestilling Kommune / IKT samarbeidet sender bestilling med meta-datalenke. Gjerne i forbindelse med sak som er opprettet under bestilling av HR API. Grunnoppsett Sertifikater Manuelt importere rot-sertifikatet til KS fra lenke https://www.commfides.com/wp-content/uploads/2017/09/cpnrootcasha256class3.zip. Rot-sertifikatet skal installeres i mappen Trusted Root Certificates Authorities, Microsoft AD FS kan komme til å foreslå Intermediate Certification Authorities. Relaying party trust Sette opp relying party trust basert på provider meta-data link tilsendt i e-post. Eks: https://www.kslaring.no/auth/saml2/sp/metadata.php?idp= Merk at det kan hende kommunesamarbeidet sitt navn skal stå istedet for kommunenavn, etter idp= Oppsett i KS Læring (utføres av KS) Testing a. Teste en pålogging via test-lenke Logg inn via SSO, klikk på linken under. Bytt ut  med kommunenavn/kommunesamarbeid. https://www.kslaring.no/auth/saml2/login.php?idp= Hvis det er feil i sertifikat, så får dere en \u0026ldquo;SAML2 exception: responder\u0026rdquo;-feil fra KS Læring. Dere må sjekke at nedlastet root-sertifikat er riktig installert og på riktig server hos dere. Hvis det er feil i claims, så får dere «You have logged in succesfully but we could not find your \u0026lsquo;eksempel\u0026rsquo; attribute to associate you to an account in Moodle.» i KS Læring, men får en feilmelding om feil mapping/attributt. Forsett til steg 3b, sjekk av attributter, via tilsendt lenke for dette. b. – Når du er innlogget, klikk på linken under for å sjekke liste over attributter: (hos kommunen) https://www.kslaring.no/auth/saml2/test.php c. Send den faktiske responsen fra test.php til KS Må sendes som tekst - IKKE skjermbilde! OBS! Faktisk fødselsnummer må fjernes fra teksten! Test på nytt Test pålogging i nettlesere fra flere produsenter - Google Chrome, Apple Safari, Microsoft Internet Explorer, Mozilla Firefox, Opera etc. Dere sjekker at profilen stemmer overens med det som er forventet. Hvis dere får feil i profilen, tar dere kontakt med KS, via opprettet helpdesk-sak i innledense prosess. Meld i fra når ok Gi skriftlig beskjed til KS når alt er OK, slik at saken kan avsluttes.  Azure AD Konfigurere SSO med SAML for KS læring Se brukerveildeningen i pdf-format her: https://portal.fiks.ks.no/wp-content/uploads/2022/06/SSO-med-fodselsnummer-220622.pdf\n Identifier (Entity ID): https://www.kslaring.no/auth/saml2/sp/metadata.php Reply URL (Assertion Consumer Service URL): https://www.kslaring.no/auth/saml2/sp/saml2-acs.php/www.kslaring.no Logout Url: https://www.kslaring.no/auth/saml2/sp/saml2-logout.php/www.kslaring.no  Innlogging uten fødselsnummer (valgfri identifikator) Identifikator blir fortrinnsvis bygget opp slik: @. Se brukerveildeningen i pdf-format her: https://portal.fiks.ks.no/wp-content/uploads/2022/06/SSO-uten-fodselsnummer-220622.pdf Når en ikke bruker fødselsnummer som id på brukeren, vil innlogginger med idporten resultere i en annen bruker. Hvis du logger inn med idporten vil du få en bruker som er identifisert med fødselsnummer, hvis du bruker SSO vil du få en bruker som har id @. Disse 2 brukerene vil være helt forskjellige brukere og ikke dele hvilken kurs som er tatt.\n"
},
{
	"uri": "/fiks-plattform/tjenester/fiksio/plan/",
	"title": "Fiks Plan",
	"tags": [],
	"description": "",
	"content": " Tjenesten er under utvikling/testing/pilotering\n Fiks Plan er en asynkron protokoll over Fiks IO eller andre transportmekanismer med meldinger på json-format. For implementasjonseksempler, brukerhistorier og teknisk dokumentasjon les mer i wiki på github repoet gi-plan.\nMeldinger Hver melding består av en zip fil ASIC-E som inneholder payload.json og eventuelle tilhørende vedlegg. Hver melding kan ikke overskride 5GB.\n.NET bibliotek og prosjekter Prosjekter og evt nuget pakker:\n   Type Nuget Github     Json skjema og spesifikasjonen - https://github.com/ks-no/fiks-plan-specification   Modeller basert på spesifikasjonen https://www.nuget.org/packages/KS.Fiks.Plan.Client https://github.com/ks-no/fiks-plan-client-dotnet   Wiki, modeller og eskempelklient - https://github.com/ks-no/gi-plan   Fiks protokoll validator - https://github.com/ks-no/fiks-protokoll-validator    Json skjema\nFinnes i repoet: https://github.com/ks-no/fiks-plan-specification Det kommer ny nuget pakke som bygges på denne spesifikasjonen.\nWiki og eksempelklient\nHer finnes Wiki, issues og eksempelklient for denne protokollen. For dokumentasjon se i dette repoet.\nModeller basert på spesifikasjonen\nProduserer en nuget pakke som kan brukes for modeller og som leverer json skjema. Denne skal fases ut og erstattes av en ny som henter og bygger modellene basert på spesifikasjons prosjektet.\nFiks protokoll validator\nDette er en applikasjon som kjører i KS sitt testmiljø. Med denne kan man teste protokollene mot sitt eget arkiv-testmiljø ved å sende ferdige meldinger med statisk json innhold til den aktuelle FIKS-IO kontoen.\n"
},
{
	"uri": "/fiks-plattform/tjenester/minside/matrikkel/",
	"title": "Matrikkel",
	"tags": [],
	"description": "",
	"content": "Minside Fiks-plattformen får med denne tjenesten støtte for matrikkelinformasjon. En innbyggers eiendommmer blir eksponert på minside.kommune.no, gjennom \u0026ldquo;Mine Eiendommer\u0026rdquo; og hovedsøket, og ved at Fiks Innsyn får støtte for å eksponere meldinger for eiere av en eiendom. Tilgang til denne meldingen vil da følge nye eiere av samme eiendom.\nTa i bruk tjenesten Matrikkelinformasjon lastes på nasjonalt nivå, det er dermed ikke nødvendig for den enkelte kommune å ta denne tjenesten i bruk, men det er mulig å tilpasse den til kommunens behov. I utgangspunktet benyttes seeiendom.kartverket.no for detaljinformasjon om eiendommer på minside.kommune.no, men kommuner som har eksisterende eiendomstjenester kan registrere disse via Matrikkel-tjenesten i Fiks Konfigurasjon - lenker til disse tjenestene vil da være tilgjengelig på eiendommer innenfor kommunen.\nAPI Gjennom matrikkel-eier APIet kan det gjøres oppslag i matrikkelen. Enten for å finne hvilke eiendommer en person eller organisasjon eier, eller oppslag for å finne hvem som eier en spesifikk eiendom. En integrasjon må bli gitt MATRIKKEL.QUERY privilegiet på tjenesten Minside: Mine Eiendommer for å kunne bruke APIet. API for Matrikkel-eier\n"
},
{
	"uri": "/fiks-plattform/tjenester/folkeregister/",
	"title": "Folkeregister",
	"tags": [],
	"description": "",
	"content": "Fiks folkeregister Fiks folkeregister er en tjeneste for å gjøre oppslag, uttrekk og hente ut hendelseslister fra Skatteetate sitt Folkeregister (FREG). Fiks folkeregister speiler konsument tjenestene til Skatteetaten på Fiks plattformen. Mer informasjon om Fiks folkeregister finner man her.\nFiks folkeregister tilbyr tilgang til folkeregisteret via\n Søkeportal Maskin-til-maskin-integrasjon  For å ta i bruk Fiks folkeregister må man inngå bruksavtaler både med skatteetaten og KS. Klikk her for mer informasjon.\nNår avtalene er inngått kan en administrator i kommunen/fylkeskommunen sette opp løsningen. Dette må gjøres før fagsystemene og saksbehandlere kan ta i bruk tjenesten. Hva må være på plass før man kan integrere Kommune/Fylkeskommune Dere må:\n Ha inngått avtaler med Skatteetaten og KS, samt delegert tilgang til KS, klikk her for mer informasjon. Ha virksomhetssertifikat for de miljøene dere skal være koblet opp i Ha avtale med Difi om bruk av maskinporten Kontakt (fiks-utvikling@ks.no) oss og be om å få tilgang til scopet ks:fiks. Husk å oppgi organisasjonsnummeret det gjelder. (Samme nummer som virksomhetssertifikatet er utstedt til.) Opprett maskinportenklient som konfigureres opp med ks:fiks-scopet  Leverandører Dere må:\n Ha virksomhetssertifikat for de miljøene dere skal være koblet opp i Ha avtale med Difi om bruk av maskinporten Kontakt (fiks-utvikling@ks.no) oss og be om å få tilgang til scopet ks:fiks, samt tilgang til Fiks-plattformen (testmiljø). Husk å oppgi organisasjonsnummeret det gjelder. (Samme nummer som virksomhetssertifikatet er utstedt til.) Opprett maskinportenklient som konfigureres opp med ks:fiks-scopet  Felles Når dere har fått tilgang til Fiks-plattformen må dere:\n Sette opp Fiks-folkeregister-tjenesten Lage en eller flere roller Opprette en eller flere integrasjon gi integrasjonen tilgang til rollen(e).  Jeg er utvikler og ønsker å integrere Du er klar til å integrere mot Fiks folkeregister når du har følgende tilgjengelig:\n virksomhetssertifikat maskinportenklientid rolleid integrasjon (brukernavn og passord)  Roller og dataminimering Fiks folkeregister har introdusert roller for å styring av tilgang til FREG. En rolle blir brukt for å begrense opplysninger som kan hentes ut fra Folkeregisteret. Alle forespørsler må gjøres i kontekst av en rolle. En rolle inneholder begrensninger for hvilke hjemler som er tillatt, hvilke bruksområder den skal brukes til og hvilke informasjonselementer som er tillatt å hente ut fra folkeregisteret.\nSkatteetaten har laget en egen side for dataminimering. Rollene får tildelt \u0026ldquo;parts\u0026rdquo;/egenskaper (informasjonselementer) fra ut fra dataminimeringsoversikten. En rolle kan bare hente informasjonselementer som er definert i rollen og forsøk på å hente informasjonselementer ut over det som er definert resulterer i en feilmelding.\nI dokumentasjonen til API-et til FREG står det Dersom part ikke oppgis vil retur innholde samme informasjon som finnes i \u0026quot;person-basis\u0026quot;. En forespørsel med en rolle som ikke har tilgang til hele \u0026ldquo;person-basis\u0026rdquo; blir avvist dersom man ikke oppgir \u0026ldquo;parts\u0026rdquo;/egenskaper.\nMiljøer OpenAPI/Swagger og oppbygging av endepunkter**    Miljø URL     Test (Integrasjon) http​s://api.fiks.test.ks.no   Produksjon http​s://api.fiks.ks.no    Vi tilbyr et API som speiler FREG og et API som er tilpasset 0-16-uttrekk.\nFREG-API Våre API er en speiling av FREG og vi tilbyr derfor ikke egne OpenAPI/Swagger-dokumentasjon. Klikk her for FREG sin Swagger-dokumentasjon.\nLes mer om hvordan tjenestene virker hos Skatteetaten:\n Hendelsesliste Oppslag Uttrekk  Vi har en annen oppbygging av URL-stien enn Skatteetaten. Vi har erstattet rettighetspakke (offentlig med hjemmel og offentlig uten hjemmel) med en rolleid.\nURL-sti for Fiks sitt proxy-api er på formen: \u0026lt;MILJØ_URL\u0026gt;/folkeregister/api/v1/{ROLLE_ID}/{FREG_RESSURS}\n ROLLE_ID - Id for rollen som brukes FREG_RESSURS - URL-sti for oppslag/uttrekk/hendelser fra skatteetatens api, på formen med eksempel v1/personer/{personidentifikator}  Merk at dette er URL-stien som skal brukes uavhengig av om fagsystemet bruker api for offentlig med hjemmel eller offentlig uten hjemmel, da det er rollen som definerer hvilken som blir brukt.\nEksempel på bruk av API-et Eksempelet er utført med httpie: http --pretty format GET https://api.fiks.test.ks.no/folkeregister/api/v1/\u0026lt;ROLLE_ID\u0026gt;/v1/personer/06076301709?part=bostedsadresse Accept: application/json IntegrasjonId:\u0026lt;INTEGRASJONSID\u0026gt; Authorization:Bearer \u0026lt;JWT_TOKEN_FRA_MASKINPORTEN\u0026gt; IntegrasjonPassord:\u0026lt;INTEGRASJONSPASSORD\u0026gt;\n{ \u0026#34;bostedsadresse\u0026#34;: [{ \u0026#34;aarsak\u0026#34;: \u0026#34;Årsakskode fra DSF: \u0026#34;, \u0026#34;adresseIdentifikatorFraMatrikkelen\u0026#34;: \u0026#34;510430318\u0026#34;, \u0026#34;adressegradering\u0026#34;: \u0026#34;ugradert\u0026#34;, \u0026#34;ajourholdstidspunkt\u0026#34;: \u0026#34;2020-03-24T00:00:00+01:00\u0026#34;, \u0026#34;erGjeldende\u0026#34;: true, \u0026#34;grunnkrets\u0026#34;: 5102, \u0026#34;gyldighetstidspunkt\u0026#34;: \u0026#34;2020-03-24T00:00:00+01:00\u0026#34;, \u0026#34;kilde\u0026#34;: \u0026#34;KILDE_DSF\u0026#34;, \u0026#34;kirkekrets\u0026#34;: 2, \u0026#34;skolekrets\u0026#34;: 160, \u0026#34;stemmekrets\u0026#34;: 1701, \u0026#34;vegadresse\u0026#34;: { \u0026#34;adressekode\u0026#34;: \u0026#34;00001\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Ospeskogveien\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;H0101\u0026#34;, \u0026#34;bruksenhetstype\u0026#34;: \u0026#34;fritidsbolig\u0026#34;, \u0026#34;coAdressenavn\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;poststed\u0026#34;: { \u0026#34;postnummer\u0026#34;: \u0026#34;0758\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;OSLO\u0026#34; } } }], \u0026#34;identifikasjonsnummer\u0026#34;: [{ \u0026#34;ajourholdstidspunkt\u0026#34;: \u0026#34;2020-03-25T20:14:54.736+01:00\u0026#34;, \u0026#34;erGjeldende\u0026#34;: true, \u0026#34;foedselsEllerDNummer\u0026#34;: \u0026#34;06076301709\u0026#34;, \u0026#34;identifikatortype\u0026#34;: \u0026#34;foedselsnummer\u0026#34;, \u0026#34;kilde\u0026#34;: \u0026#34;KILDE_DSF\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;iBruk\u0026#34; }] } Oppvekst-API OpenAPI/Swagger-dokumentasjon for oppvekst-API finner man her.\nDette API har spesifikke krav for rollen som brukes. Bruksområde skal være «Søk etter person» og følgende informasjonselementer for «Personbasis» og «Relasjon utvidet» må være valgt:\nPersonbasis:\n Fødselsnummer eller d-nummer Personstatus Fødsel Statsborgerskap Kjønn Navn Bostedsadresse Oppholdsadresse Delt bosted Postadresse Adressebeskyttelse  Identitetsgrunnlag utvidet:\n Utenlandsk personidentifikasjon  Relasjon utvidet:\n Familierelasjon Familieansvar  Historiske data\nKontakt Tekniske spørsmål og henvendelser kan rettes til fiks-utvikling@ks.no, øvrige henvendelser kan rettes til fiks@ks.no\n"
},
{
	"uri": "/fiks-plattform/tjenester/fiksio/",
	"title": "Fiks IO",
	"tags": [],
	"description": "",
	"content": "Fiks IO er en kanal for sikker maskin-til-maskin integrasjon. Denne kanalen kan benyttes for å bygge prosesser på tvers av systemer og organisasjoner, for eksempel når et fagsystem skal arkivere et dokument i et arkivsystem eller spørre om informasjon som er lagret i et annet system.\nFiks IO tilbyr:\n Rask leveranse: ved hjelp av kø-basert arkitektur (AMQP) kan Fiks IO levere meldinger raskt, stort sett på under ett sekund plus eventuelt overføring av data. Dette oppnås ved at meldinger nå sendes til det mottakende fagystemet i det øyeblikket de ankommer (push), i stede for at fagsystemet må hente meldingen (pull). Svar på melding: Fiks IO lar en mottaker svare på en spesifikk melding, f.eks. for å svare på en spørring eller å bekrefte at en forespurt handling er utført. Sikker kommunikasjon med ende-til-ende kryptering: Fiks IO tilbyr ende-til-ende kryptering av meldinger. Merk at dette ikke gjelder alle bruks-scenarioer, se \u0026ldquo;Sikkerhet\u0026rdquo; for detaljer. Sikker identifisering av avsender: Bruk av standard for kryptografisk signatur (ASiC-E) for meldinger gjør at man kan være sikker på identiteten til avsender. Levetid på meldinger: En melding har en brukerdefinert levetid. Avsender vil få beskjed hvis en melding ikke har blitt lest av mottaker innen levetidens utløp. Sending av store filer: Fiks IO integrerer mot Fiks Dokumentlager for å støtte sending av store filer, helt opp til dokumentlagers grense på fem gigabyte.  Hvordan tar man i bruk Fiks IO? Fiks IO baserer seg på at organisasjoner benytter Fiks Konfigurasjon for å opprette en eller flere kontoer. Andre organisasjoner kan så sende meldinger til disse kontoene, som mottaker kan lese ved å koble seg til io.fiks.ks.no.\nFor å gjøre det lettere å finne en konto, og vite hvilke meldingstyper systemet som benytter kontoen kan håndtere kan man konfigurere adresser. Adresser består av en eller flere organisasjonsnummer, meldingsprotokoller og sikkerhetsnivåer. Avsendere kan så slå opp i Fiks IOs katalogtjeneste for å finne f.eks. hvilken konto som skal motta digisos meldinger med sikkerhetsnivå fire for Bergen kommune.\nFunksjonalitet for å sende og lese meldinger vil typisk bli tilbudt av fagsystemleverandører eller offentlig virksomheter, som når Fiks Digisos formidler sosialsøknader fra Nav til kommunens sosialsystem, men kommuner og andre organisasjoner må fortsatt ha et forhold til hvilke kontoer de har, hvilke meldingstyper disse håndterer, og ikke minst hvem som har tilgang til å lese inkommende meldinger.\nI eksempelet over ser man en konto opprettet for å formidle Digisos meldinger til en kommunes fagsystem for behandlig av sosialsøknader. Det er opprettet en adresse på kontoen, \u0026ldquo;Digisos\u0026rdquo;, man har konfigurert støtte for meldingsprotokollen \u0026ldquo;no.nav.digisos.fagsystem.v1\u0026rdquo;, og sagt at dette systemet kan håndtere meldinger for både sikkerhetsnivå tre og fire.\nForhold til SvarUt og SvarInn Fiks IO er en selvstendig kanal, og er ikke bygget for å være en erstatning for SvarUt/SvarInn, som begge vil bli videreført i sin nåværende form. Bruksområdene til tjenestene kan overlappe, og dette gjør at det noen ganger kan være tvil om SvarUt/SvarInn eller Fiks IO er riktig verktøy for et problem.\nHovedsakelig bør man benytte svarut/svarinn for \u0026ldquo;post\u0026rdquo;: meldinger hvor payload er menneske-lesbar (f.eks. en pdf), hvor automatisk håndtering begrenses til f.eks. opprettelse av sak i et arkivsystem, og hvor sending til Altinn eller som brevpost er gode alternativer hvis den automatiske håndteringen feiler. Andre faktorer kan være:\nEr dette en maskin-til-maskin integrasjon? Benytt Fiks IO, denne leverer utelukkende til spesifisert mottakerkonto og benytter ingen alternative kanaler, som for eksempel printet post.\nSkal meldingen sikres gjennom ende-til-ende kryptering? Benytt Fiks IO, SvarUt/SvarInn meldinger kan bare krypteres med Fiks-plattformens nøkkel, ikke mottakers. Se \u0026ldquo;Sikkerhet\u0026rdquo; for deltajer om hvordan man oppnår trygg ende-til-ende kryptering gjennom Fiks-io\nTrenger man rask levering? Benytt Fiks IO for å få leveranse på sekunder, ved bruk av SvarUt/SvarInn kan levering ta lang tid, siden SvarUt prøver flere kanaler etter tur og defaulter til print ved leveranseproblemer.\nVil man at fiks-plattformen skal garantere at meldingen blir levert? Benytt SvarUt, ved Fiks IO forsendelser risikerer man at meldingen ikke blir håndtert eller avvist av mottaker. Man vil få melding om dette, men man må håndtere evt. retry eller sending via alternative kanaler selv.\nØkonomiske aspekter kan også spille inn her, Fiks IO meldinger koster vesentlig mindre pr. stykk enn SvarUt forsendelser.\nHvordan virker Fiks IO En Fiks organisasjon oppretter en Fiks IO konto. Andre kontoer kan nå sende til denne kontoen gjennom Fiks IOs REST api ved å spesifisere kontoens KontoId som mottaker. Organisasjonen får meldingene ved å etablere en AMQP kobling til io.fiks.ks.no.\nFiks IO tar i utgangspunktet ikke stilling til hva payloaden i meldingen består i. Metadataformat, filformat, kryptering og lignende er opp til brukeren, men Fiks plattformen tilbyr tjenester og verktøy for å etablere format for integrasjoner:\n Fiks-IO Kontokatalog: Gir mulighet for å registrere adresser bestående av organisasjonsnummer, sikkerhetsnivå, og hvilke meldingsprotokoller en gitt konto støtter. Andre kan så gjøre oppslag mot denne katalogen for å finne riktig konto å sende en melding til. Fiks-IO Protokollkatalog: Tilbyr en katalog over registrerte meldingsprotokoller. En protokoll er en oversikt over hvilke meldingstyper som inngår i en kommunikasjon, gjerne også med skjema som spesifiserer syntax for de enkelte typene. Fiks-IO java klient: Java klient som tilbyr funksjonalitet for å bygge, signere, kryptere, og sende meldinger som ASiC-E pakker, samt mottak og dekryptering på andre siden. Fiks-IO .net klient: .net core implementasjon av samme funksjonalitet som klienten over.  Sikkerhet Autentisering av klienter mot REST service for sending av meldinger og AMQP service for leveranse av meldinger skjer gjennom virksomhetssertifikat-basert maskinporten autentisering.\nI utgangspunktet legger ikke Fiks IO føringer på hvordan (eller om) en melding sendt over plattformen sikres, men alle klienter som utvikles av KS, og alle protokoller som Fiks spesifiserer, vil benytte signerte og krypterte meldinger gjennom ASIC-E containere. Denne standarden benyttes også av DIFI i forbindelse med integrasjonspunktet. I klientene skjer signering med samme sertifikat som blir benyttet for autentisering mot maskinporten, kryptering skjer med sertifikatet som mottaker har publisert i Fiks IO Kontokatalog.\nMerk at man for å oppnå reell ende-til-ende kryptering, i betydningen at KS ikke har noen mulighet til å lese den overførte meldingen, bør innhente mottakers sertifikater gjennom egne kanaler og selv verifisere disse. Fiks-IO tilbyr automatisk oppslag i katalogen som en tjeneste for å lette dette arbeidet, men man bør være klar over at det å benytte denne gir noe svekket sikkerhet.\nKontokatalogen For å sende en melding i Fiks IO må man kjenne konto-id\u0026rsquo;en til mottakeren, men for å støtte mer dynamisk bruk tilbys Fiks IO Kontokatalog. Dette er et register over Fiks IO kontoer og tilknyttede adresser. En adresse består av:\n Identifikator: Autoriserende identifikator for adressen. Dette vil i første omgang være begrenset til organisasjonsnummer, men kan senere utvides. For organisasjonsnummer benyttes Altinn for autorisering: personen som legger til adressen må ha rollen \u0026ldquo;post/arkiv\u0026rdquo; på den aktuelle organisasjonen. Protokoll: Spesifiserer hvilken protokoll adressen gjelder for. En protokoll vil som regel omfatte flere meldingstyper. Sikkerhetsnivå: Spesifiserer hvilket sikkerhetsnivå meldingen skal ha. Typisk benyttes nivå 3 for ikke sensitive og nivå 4 for sensitive meldinger.  Adresser opprettes og forvaltes gjennom Fiks Konfigrasjon. Katalogen gir også mulighet for å laste opp en offentlig nøkkel i form av et X509 sertifikat. Dette sertifikatet blir benyttet for å kryptere meldinger sendt til kontoen, slik at de kan dekrypteres med den private delen av nøkkelen ved mottak.\nFiks Organisasjoner kan gjøre oppslag i registrerte adresser gjennom katalog-api\u0026rsquo;et.\nMerk at bruk av dette api\u0026rsquo;et i stede for manuell innhenting av sertifikater kan gi noe redusert sikkerhet. Se \u0026ldquo;Sikkerhet\u0026rdquo; for detaljer.\nProtokollkatalogen Som nevnt over har Fiks IO i utgangspunktet ingen formening om hva innholdet i en melding er, men det er i mange integrasjon-scenarioer nyttig å ha et felles repository med kontrakter for hvordan meldinger skal bygges opp. Protokollkatalogen tilbyr en slik oversikt, og man kan her referere til spesifikasjoner for meldingstypene som inngår i protokollen, og hvordan disse skal benyttes.\nDigisos bruker som nevnt over meldingsprotokollen \u0026ldquo;no.nav.digisos.fagsystem.v1\u0026rdquo;, som er beskrevet i mer detalj under Fiks Digisos.\nTa kontakt med fiks@ks.no om du ønsker å etablere eller gjøre endringer i en protokoll.\nStandardmeldingstyper Tidsavbrudd (under utfasing) I tillegg til meldinger definert i protokollkatalogen det er også definert en standard meldingstype som forteller at meldingens ttl har utløpt uten at mottaker har mottat den. Meldingstypen er no.ks.fiks.kvittering.tidsavbrudd. Denne meldingen blir sendt til avsender når originalmeldingen kommer fremst i køen til mottaker. Dette betyr at meldingen ikke trenger å komme når ttl utløper men kan komme en stund senere. Hvis mottaker er nede og ikke leser meldinger og første melding har ttl på 2 timer. Vil ikke meldinger bak denne trigge tidsavbrudd melding før 2 timer meldingen som er først utløper.\nDisse meldingene inneholder ingen body, men kun headere deriblant svar-til som vil være en referanse til den opprinnelige meldingen (melding-id), svar-til-type som inneholder den originale typen på meldingen som har utløpt.\nNB! Siden utløp av meldinger ikke vil fungere godt om det ligger flere meldinger på kø vil denne funksjonaliteten fases ut snart. I stedet vil man få en serverfeil når en melding er avvist tre ganger\nServerfeil Ved serverfeil hos mottaker skal det sendes en no.ks.fiks.io.feilmelding.serverfeil tilbake til sender. Json schema følger med i .net pakken for Fiks-IO-client.\nHåndtering av store filer Fiks IO støtter sending av store filer ved at alle meldinger større enn 5 megabyte mellomlagres i Fiks Dokumentlager, i en dedikert konto som opprettes sammen med Fiks IO kontoen. En referanse til denne lagrede filen blir så sendt over AMQP. Filer sendt på slik måte får en time-to-live i dokumentlager lik time-to-live for meldingen + 24 timer. Etter dette vil de automatisk slettes.\nHvis man benytter java eller .net klienten utviklet av KS vil denne mellomlagringen oppleves sømløst - klienten streamer automatisk filer fra dokumentlageret om dette er benyttet.\nKlienter For å gjøre integrasjon lettere vil KS utvikle klienter som benyttes for både sending og mottak av meldinger fra Fiks IO.\nKlientene er tilgjengelig i Java, og .net core. Andre språk vil vurderes, og vi vil gjerne høre fra deg om du skriver klienter for andre språk.\nHeadere Følgende headere er definert i meldingsutvekslingen.\n   Header Beskrivelse     avsender-id Avsenders Fiks IO-konto   melding-id Meldingens ID   avsender-navn Navnet på avsenderkonto   type Meldingstype   dokumentlager-id ID til eventuell fil lagret i Dokumentlager   svar-til Hvis meldingen er svar på en tidligere Fiks IO-melding, vil svar-til referere til den   svar-til-type På no.ks.fiks.kvittering.tidsavbrudd meldinger legges typen til den opprinnelige meldingen    "
},
{
	"uri": "/fiks-plattform/tjenester/innreise/",
	"title": "Innreiseregister fra Helsedirektoratet",
	"tags": [],
	"description": "",
	"content": "Formål KS har sammen med Helsedirektoratet (HDIR) utviklet et API som gjør det mulig å hente informasjon om innreisende elektronisk fra HDIR sitt nasjonale kontrollsenter for innreise, til kommunen. Tjenesten heter Fiks innreise. Flere leverandører (Fiks smittesporing (DHIS2), ReMin og Oslo kommune) arbeider med utvikling av funksjonalitet for innreiseoppfølging i kommunene. Fiks innreise er sammen med Fiks prøvesvar sentrale komponenter i dette arbeidet. API-et er også tilgjengelig for kommuner som benytter andre løsninger for innreiseoppfølging enn de nevnte.\nProduktbeskrivelse Tjenesten tilbyr et API hvor kommuner kan spørre etter personer som er registrert som innreisende. Dette kan for eksempel være å spørre etter innreisende til et gitt kommunenummer eller fødselsnummer, d-nummer eller nasjonalt hjelpenummer (hentes fra PREG).\nFiks innreise gjør ingenting med dataene som blir importert fra HDIR. Datagrunnlaget vil være basert på en daglig uttrekk fra HDIR. Hver natt vil KS importere data for de siste 10 dager fra HDIR. Siste oppdatering på dataene som ligger hos KS vil være ved midnatt samme dag. Dette betyr at man ikke kan spørre etter innreiser fra dagens dato.\nIntegrasjon (api-spec) Autentisering skjer ved hjelp av en Integrasjon-mekanismen beskrevet her\nEn kan enten velge å sende med fiksOrgId som en del av URL\u0026rsquo;en eller la API\u0026rsquo;et ta seg av å finne tilhørende fiksOrgId til integrasjonsId\u0026rsquo;en som spør.\nUtover dette kan man sende med et request-objekt som inneholder filter-parametrene.\nTestdata Data som ligger i test-miljøet er produksjonsdata KS har fått fra HDIR, som er vasket for personlig informasjon. Det er verdt å merke seg at testdataene stort sett vil vere eldre enn 10 dager. Produksjonsdata vil alltid vere yngre enn 10 dager gamle, så dette vil altså ikke vere gjenspeilet i testdatagrunnlaget.\n"
},
{
	"uri": "/fiks-plattform/tjenester/fiksio/matrikkelfoering/",
	"title": "Fiks IO Matrikkelføring",
	"tags": [],
	"description": "",
	"content": "Fiks Matrikkelføring er en asynkron protokoll over Fiks IO for å overføre grunnlag til matrikkelføring fra eByggesak til Matrikkelklienter. Den er tilsvarende løsningen som er etablert på Fiks SvarUt/SvarInn http://geointegrasjon.no/nytt-grensesnitt-ebyggesak-og-matrikkel/. Denne løsningen benytter altså Fiks IO for maskin til maskin integrasjon.\nLøsningskonsept Hvordan ta i bruk Fiks Matrikkelføring For at eByggesak eller annet fagsystem skal få tilgang til å sende grunnlag for matrikkelføring til matrikkelklienter, så må kommunen aktivere tjenesten Fiks IO i Fiks Konfigurasjon.\nAktuell matrikkelklient må aktiveres for å kunne svare med meldinger på meldingsprotokoll no.ks.fiks.matrikkelfoering.v2\nMeldinger med Fiks IO for Fiks Matrikkelføring Meldingsprotokoll som matrikkelklient må støtte er no.ks.fiks.matrikkelfoering.v2\nHver melding i Fiks IO består av en zip fil ASIC-E som inneholder protokollmeldingen (f.eks. byggesak.xml eller status.xml) i xml format og eventuelt tilhørende vedlegg. For protokollmeldingen no.ks.fiks.matrikkelfoering.v2.grunnlag skal det følge med en index.json fil som beskriver hva hver enkelt fil er i Fiks IO meldingen. Se avsnittet om \u0026ldquo;Overføring av filer\u0026rdquo; med tilhørende tabell lenger nede for forklaring på sammenhengen mellom filer og index.json.\nHver melding kan ikke overskride 5GB totalt, med protokollmelding og vedlegg.\nFiks-IO har støtte for headere på meldinger. For å markere en melding som unik skal man sette headeren klientMeldingId med en unik id. Denne id\u0026rsquo;en skal brukes igjen for alle meldinger som forsøkes på nytt. Dette er for at mottaker skal kunne se at dette er en melding som har vært forsøkt tidligere og kan håndtere meldingen korrekt. Se kode eksempel lenger nede for hvordan man setter klientMeldingId.\nMeldinger Fra eByggesak/fagsystem:\n   Type Navn Skjema Filer     Grunnlag til matrikkelføring no.ks.fiks.matrikkelfoering.v2.grunnlag no.ks.fiks.matrikkelfoering.v2.grunnlag.xsd byggesak.xml, index.json + evt vedlegg   Forespørsel om status no.ks.fiks.matrikkelfoering.v2.status no.ks.fiks.matrikkelfoering.v2.status.xsd status.xml    Fra matrikkelklienter:\n   Type Navn Skjema Filer     Mottak vellykket no.ks.fiks.matrikkelfoering.v2.mottatt Ingen payload Ingen fil   Mottak feilet - Ugyldig forespørsel no.ks.fiks.matrikkelfoering.v2.feilmelding.ugyldigforespoersel no.ks.fiks.matrikkelfoering.v2.feilmelding.ugyldigforespoersel.xsd feilmelding.xml   Mottak feilet - Serverfeil no.ks.fiks.matrikkelfoering.v2.feilmelding.serverfeil no.ks.fiks.matrikkelfoering.v2.feilmelding.serverfeil.xsd feilmelding.xml   Kvittering på føring i matrikkelen no.ks.fiks.matrikkelfoering.v2.kvittering no.ks.fiks.matrikkelfoering.v2.kvittering.xsd kvittering.xml   Svar på forespørsel om status no.ks.fiks.matrikkelfoering.v2.statussvar no.ks.fiks.matrikkelfoering.v2.statussvar.xsd statussvar.xml    Datamodell for meldinger no.ks.fiks.matrikkelfoering.v2.grunnlag.xsd\nno.ks.fiks.matrikkelfoering.v2.kvittering.xsd\nFlyt  eByggesak mottar en søknad med strukturerte data og vedlegg fra eByggesøknad system via Fellestjenester Bygg ved hjelp av Fiks/SvarInn. Samme datastrukturer og vedleggsstruktur kan bygges opp manuelt i eByggesak ved mottak av søknad i andre kanaler enn Fellestjenester Bygg. Saksbehandler behandler saken og kontrollerer at søknaden har tilstrekkelig informasjon til at det kan fattes et vedtak. Saksbehandler kompletterer og korrigerer søknadsdataene ved behov. Før vedtaket fattes, kontrollerer eByggesak at saken har tilstrekkelig data og tegninger til matrikkelføringen. Når vedtak er fattet i eByggesak, kontrollerer eByggesak om tiltaket skal matrikkelføres. Hvis tiltaket (tiltakene) skal matrikkelføres, bygger eByggesak opp en datastruktur for matrikkelføringen som består av data fra saksbehandlingen, matrikkelinformasjon og tegninger som ligger til grunn for vedtaket. eByggesak sender deretter denne datastrukturen og tegningene til Matrikkelklienten ved hjelp av Fiks IO. Matrikkelklienten mottar datastruktur og tegninger ved hjelp av Fiks IO. Matrikkelfører fører tiltaket i Matrikkel / FKB. Her skisseres det også muligheter for at Matrikkelklienten basert på et regelsett kan matrikkelføre enkelte tiltak automatisk. Når tiltaket er matrikkelført / ført i FKB, sender Matrikkelklienten en kvitteringsmelding tilbake til eByggesak via Fiks IO. eByggesak mottar kvitteringsmeldingen via Fiks IO og oppretter milepæl for matrikkelføring i saken  Flyt for status meldinger Fagsystem kan sende status forespørsel for en innsendt matrikkelføring med meldingstypen no.ks.fiks.matrikkelfoering.v2.status. Matrikkelsystem svarer da med status med meldingstypen no.ks.fiks.matrikkelfoering.v2.statussvar. For at dette skal fungere krever protokollen at det blir sendt unik klientMeldingId header (se eksempel lenger nede) på alle no.ks.fiks.matrikkelfoering.v2.grunnlag meldinger.\nEksempel på status:\n\u0026lt;StatusMatrikkel xmlns=http://rep.geointegrasjon.no/Matrikkel/foeringstatus/v2\u0026gt; \u0026lt;klientMeldingId\u0026gt;02c5187a-5bd7-43a0-a99c-aa5e8bcc0cd3\u0026lt;/klientMeldingId\u0026gt; \u0026lt;svarMedKvittering\u0026gt;true\u0026lt;/svarMedKvittering\u0026gt; \u0026lt;/StatusMatrikkel\u0026gt; Her sender klient id på meldingen den forespør om status på, samt at det er et flagg svarMedKvittering (default=false) som kan brukes til å be matrikkelsystemet sende kvitteringsdokumentet på nytt, så sant meldingen allerede er kvittert.\nEksempel på svar hvor meldingen er ukjent for matrikkelsystemet:\n\u0026lt;StatusMatrikkelSvar xmlns=http://rep.geointegrasjon.no/Matrikkel/foeringstatussvar/v2\u0026gt; \u0026lt;klientMeldingId\u0026gt;02c5187a-5bd7-43a0-a99c-aa5e8bcc0cd3\u0026lt;/klientMeldingId\u0026gt; \u0026lt;statusBehandling\u0026gt;IkkeMottatt\u0026lt;/statusBehandling\u0026gt; \u0026lt;/StatusMatrikkelSvar\u0026gt; klientMeldingId er her ikke kjent og da svarer vi med status IkkeMottatt. Da kan man anta at meldingen ikke er sendt eller den er tapt, da må man sende grunnlag-melding for å starte prosessen. Mulige verdier for statusBehandling er Mottatt, IkkeMottatt, Feil og Kvittert. Feil vil bety at meldingen som ble sendt fra sakssystem ikke var gyldig, kvittert betyr at meldingen er ferdig behandlet ved at den er ført i matrikkel (eller ikke). Mottatt er mellomstadie som forteller at meldingen er under behandling, slik at man slipper å sende på nytt.\nEksempel på statussvar der meldingen er mottatt, men ennå ikke kvittert (en status den kan ligge i veldig lang tid uten at det nødvendigvis betyr at noe er feil):\n\u0026lt;StatusMatrikkelSvar xmlns=http://rep.geointegrasjon.no/Matrikkel/foeringstatussvar/v2\u0026gt; \u0026lt;klientMeldingId\u0026gt;02c5187a-5bd7-43a0-a99c-aa5e8bcc0cd3\u0026lt;/klientMeldingId\u0026gt; \u0026lt;statusBehandling\u0026gt;Mottatt\u0026lt;/statusBehandling\u0026gt; \u0026lt;meldingId\u0026gt;02c5187a-5bd7-43a0-a99c-aa5e8bcc0cd4\u0026lt;/meldingId\u0026gt; \u0026lt;/StatusMatrikkelSvar\u0026gt; Her får man også tilbake den faktiske meldingId-en som meldingen hadde fra fiksio.\nSiste eksempel, der meldingen er kvittert:\n\u0026lt;StatusMatrikkelSvar xmlns=http://rep.geointegrasjon.no/Matrikkel/foeringstatussvar/v2\u0026gt; \u0026lt;klientMeldingId\u0026gt;02c5187a-5bd7-43a0-a99c-aa5e8bcc0cd3\u0026lt;/klientMeldingId\u0026gt; \u0026lt;statusBehandling\u0026gt;Mottatt\u0026lt;/statusBehandling\u0026gt; \u0026lt;meldingId\u0026gt;02c5187a-5bd7-43a0-a99c-aa5e8bcc0cd4\u0026lt;/meldingId\u0026gt; \u0026lt;statusKvittering\u0026gt;IkkeForespurt\u0026lt;/statusKvittering\u0026gt; \u0026lt;/StatusMatrikkelSvar\u0026gt; Her følger det med en statusKvittering. Den vil gjenspeile svarMedKvittering-elementet i forespørselen, og kan være IkkeForespurt, Vedlagt eller Utloept. De to første korresponderer til false/true på svarMedKvittering. Utloept brukes der kvittering er sendt, og svarMedKvittering er true, men samtidig at dokumentet ikke lenger er lagret på matrikkelsystem-siden pga. f.eks. at det blir slettet etter en stund.\nOverføring av filer Meldingen no.ks.fiks.matrikkelfoering.v2.grunnlag vil inneholde en byggesak.xml fil som er matrikkelføringen, eventuelle vedlegg og en index.json fil som beskriver innholdet i hele meldingen. Filen index.json har følgende struktur:\n[ { \u0026#34;dokumenttype\u0026#34;: \u0026#34;Byggesak\u0026#34;, // Vedleggstype - Se eksempel tabell nedenfor  \u0026#34;tittel\u0026#34;: \u0026#34;Underlag for matrikkelføring\u0026#34;, \u0026#34;dokumentnummer\u0026#34;: 1, // Dette tilsvarer index for denne filen i payloads for Fiks IO meldingen  \u0026#34;filnavn\u0026#34;: \u0026#34;byggesak.xml\u0026#34; // Filnavn i Fiks IO meldingen  }, { \u0026#34;dokumenttype\u0026#34;: \u0026#34;Situasjonsplan\u0026#34;, // Vedleggstype - Se eksempel tabell nedenfor  \u0026#34;tittel\u0026#34;: \u0026#34;Situasjonsplan\u0026#34;, \u0026#34;dokumentnummer\u0026#34;: 2, // Dette tilsvarer index for denne filen i payloads for Fiks IO meldingen  \u0026#34;filnavn\u0026#34;: \u0026#34;DokSitplan.pdf\u0026#34; // Filnavn i Fiks IO meldingen  }, ] Vedleggstyper er definert her på Geonorge.\nHer er noen eksempler hentet derfra:\n   Tittel Vedleggstype     Situasjonsplan Situasjonsplan   Tegning eksisterende plan TegningEksisterendePlan   Tegning ny plan TegningNyPlan   Tegning eksisterende snitt TegningEksisterendeSnitt   Tegning nytt snitt TegningNyttSnitt   Tegning eksisterende fasade TegningEksisterendeFasade   Tegning eksisterende snitt TegningEksisterendeSnitt   Tegning ny fasade TegningNyFasade   ByggesaksBIM ByggesaksBIM   Tegning eksisterende snitt TegningEksisterendeSnitt   Tegning eksisterende snitt TegningEksisterendeSnitt   Matrikkelføring XML Byggesak    Nivå på grunnlaget til matrikkelføring Det er definert 4 trappetrinn/nivå i løsningskonseptet som illustrerer hvor godt et tiltak er tilrettelagt for effektiv matrikkelføring.\nNivå 0:\n Overføringen inneholder kun saksnummer/url på vedtaket. Dette er tilsvarende løsning som «papirmappe på pulten» bortsett fra at all informasjon og alle tegninger foreligger elektronisk. Matrikkelfører må navigere til saken og sette seg inn i saksbehandlingen og tegningene for å kunne matrikkelføre.  Nivå 1:\n Overføringen inneholder i tillegg tegningene som ligger til grunn for vedtaket, men lite data for øvrig. Matrikkelfører slipper å lete etter riktig grunnlag, men må sette seg inn i saken.  Nivå 2:\n Overføringen inneholder i tillegg komplett saksinformasjon og matrikkelopplysninger. Matrikkelfører har tilgjengelig all nødvendig informasjon for å kunne matrikkelføre og slipper å gå inn i eByggesaken for å finne informasjon. Matrikkelklienten kan pre-utfylle matrikkelinformasjonen slik at Matrikkelfører slipper å fylle inn dataene på nytt. Matrikkelklienten kan, basert på et regelsett, føre enkelte tiltak automatisk.  Nivå 3:\n Overføringen inneholder i tillegg en ByggesaksBIM. Matrikkelfører bedre arealinformasjon. Muliggjør automatisk uttrekk av tiltakets omriss for effektivisering av føringen i FKB.  Nivå 4:\n Overføringen inneholder i tillegg digital situasjonsplan. Gir Matrikkelfører informasjon om delelinjer / grensejusteringer ved Delesaker.  Videresending av grunnlag som skal føres i en annen matrikkelklient Hvis matrikkelfører finner ut at en melding skal registreres ved bruk av en annen matrikkelklient så kan denne meldingen videresendes. Det skal da brukes egne headere for å angi hvilken opprinnelig konto og hvilken opprinnelig meldingsid som skal besvares med mottatt melding, evt feilmelding og kvitteringsmelding.\n   Header Beskrivelse     videresendt-fra-konto Opprinnelig konto som melding kom fra   opprinnelig-melding-id Opprinnelig meldingsid som svar-til skal sendes tilbake til    Eksempel 1 - viser eksempel på en nivå 1 melding Kodeeksempel på sending av melding med grunnlag for matrikkelføring. Fiks-IO klienten støtter å sette egne headere og som tidligere nevnt skal klientMeldingId settes som parameter slik at den komme med i headeren.\nvar messageRequest = new MeldingRequest( mottakerKontoId: receiverId, avsenderKontoId: senderId, klientMeldingId: klientMeldingId, meldingType: \u0026#34;no.ks.fiks.matrikkelfoering.v2.grunnlag\u0026#34;); List\u0026lt;IPayload\u0026gt; payloads = new List\u0026lt;IPayload\u0026gt;(); payloads.Add(new StringPayload(jsonPayload, \u0026#34;index.json\u0026#34;)); payloads.Add(new StringPayload(payload, \u0026#34;byggesak.xml\u0026#34;)); payloads.Add(new FilePayload(\u0026#34;DokSitplan.pdf\u0026#34;)); payloads.Add(new FilePayload(\u0026#34;DokTegning.pdf\u0026#34;)); var msgSent = client.Send(messageRequest, payloads).Result; index.json innhold\n[ { \u0026#34;dokumenttype\u0026#34;: \u0026#34;Byggesak\u0026#34;, \u0026#34;tittel\u0026#34;: \u0026#34;Underlag for matrikkelføring\u0026#34;, \u0026#34;dokumentnummer\u0026#34;: 1, \u0026#34;filnavn\u0026#34;: \u0026#34;byggesak.xml\u0026#34; }, { \u0026#34;dokumenttype\u0026#34;: \u0026#34;Situasjonsplan\u0026#34;, \u0026#34;tittel\u0026#34;: \u0026#34;Situasjonsplan\u0026#34;, \u0026#34;dokumentnummer\u0026#34;: 2, \u0026#34;filnavn\u0026#34;: \u0026#34;DokSitplan.pdf\u0026#34; }, { \u0026#34;dokumenttype\u0026#34;: \u0026#34;TegningNyFasade\u0026#34;, \u0026#34;tittel\u0026#34;: \u0026#34;Tegning ny fasade\u0026#34;, \u0026#34;dokumentnummer\u0026#34;: 3, \u0026#34;filnavn\u0026#34;: \u0026#34;DokTegning.pdf\u0026#34; } ] byggesak.xml innhold\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;Byggesak xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns=\u0026#34;http://rep.geointegrasjon.no/Matrikkel/foering/v2\u0026#34;\u0026gt; \u0026lt;tittel\u0026gt;Rammesøknad for enebolig i Byggestedgate 1\u0026lt;/tittel\u0026gt; \u0026lt;saksnummer\u0026gt; \u0026lt;saksaar\u0026gt;2018\u0026lt;/saksaar\u0026gt; \u0026lt;sakssekvensnummer\u0026gt;123456\u0026lt;/sakssekvensnummer\u0026gt; \u0026lt;/saksnummer\u0026gt; \u0026lt;kategori\u0026gt; \u0026lt;kode\u0026gt;RS\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Søknad om rammetillatelse\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kategori\u0026gt; \u0026lt;tiltakstype\u0026gt; \u0026lt;tiltaktype\u0026gt; \u0026lt;kode\u0026gt;nyttbyggboligformal\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Nytt bygg - boligformål\u0026lt;/beskrivelse\u0026gt; \u0026lt;/tiltaktype\u0026gt; \u0026lt;/tiltakstype\u0026gt; \u0026lt;vedtak\u0026gt; \u0026lt;beskrivelse\u0026gt;Vedtak om rammetillatelse\u0026lt;/beskrivelse\u0026gt; \u0026lt;vedtaksdato\u0026gt;2020-04-02T16:09:14.7947093+02:00\u0026lt;/vedtaksdato\u0026gt; \u0026lt;status\u0026gt; \u0026lt;kode\u0026gt;1\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Godkjent\u0026lt;/beskrivelse\u0026gt; \u0026lt;/status\u0026gt; \u0026lt;/vedtak\u0026gt; \u0026lt;adresse\u0026gt;Byggestedgate 1\u0026lt;/adresse\u0026gt; \u0026lt;saksbehandler\u0026gt;Michael\u0026lt;/saksbehandler\u0026gt; \u0026lt;/Byggesak\u0026gt; Eksempel på XML på nivå 2 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;Byggesak xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns=\u0026#34;http://rep.geointegrasjon.no/Matrikkel/foering/v2\u0026#34;\u0026gt; \u0026lt;systemId xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;tittel\u0026gt;Rammesøknad for oppføring av 5 tomannsboliger\u0026lt;/tittel\u0026gt; \u0026lt;saksnummer\u0026gt; \u0026lt;saksaar\u0026gt;2018\u0026lt;/saksaar\u0026gt; \u0026lt;sakssekvensnummer\u0026gt;123456\u0026lt;/sakssekvensnummer\u0026gt; \u0026lt;/saksnummer\u0026gt; \u0026lt;kategori\u0026gt; \u0026lt;kode\u0026gt;RS\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Søknad om rammetillatelse\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kategori\u0026gt; \u0026lt;tiltakstype\u0026gt; \u0026lt;tiltaktype\u0026gt; \u0026lt;kode\u0026gt;nyttbyggboligformal\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Nytt bygg - boligformål\u0026lt;/beskrivelse\u0026gt; \u0026lt;/tiltaktype\u0026gt; \u0026lt;/tiltakstype\u0026gt; \u0026lt;vedtak\u0026gt; \u0026lt;beskrivelse\u0026gt;Vedtak om rammetillatelse\u0026lt;/beskrivelse\u0026gt; \u0026lt;vedtaksdato\u0026gt;2020-04-02T16:16:45.1760034+02:00\u0026lt;/vedtaksdato\u0026gt; \u0026lt;status\u0026gt; \u0026lt;kode\u0026gt;1\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Godkjent\u0026lt;/beskrivelse\u0026gt; \u0026lt;/status\u0026gt; \u0026lt;dispensasjoner xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/vedtak\u0026gt; \u0026lt;ansvarligSoeker\u0026gt; \u0026lt;foedselsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;organisasjonsnummer\u0026gt;123456789\u0026lt;/organisasjonsnummer\u0026gt; \u0026lt;navn\u0026gt;Arkitekt Flink\u0026lt;/navn\u0026gt; \u0026lt;adresse xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;telefonnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;mobilnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;epost xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/ansvarligSoeker\u0026gt; \u0026lt;tiltakshaver\u0026gt; \u0026lt;foedselsnummer\u0026gt;12345678901\u0026lt;/foedselsnummer\u0026gt; \u0026lt;organisasjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;navn\u0026gt;Hans Utbygger\u0026lt;/navn\u0026gt; \u0026lt;adresse xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;telefonnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;mobilnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;epost xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/tiltakshaver\u0026gt; \u0026lt;matrikkelopplysninger\u0026gt; \u0026lt;eiendomsidentifikasjon\u0026gt; \u0026lt;matrikkelnummer\u0026gt; \u0026lt;kommunenummer\u0026gt;9999\u0026lt;/kommunenummer\u0026gt; \u0026lt;gaardsnummer\u0026gt;260\u0026lt;/gaardsnummer\u0026gt; \u0026lt;bruksnummer\u0026gt;109\u0026lt;/bruksnummer\u0026gt; \u0026lt;festenummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/matrikkelnummer\u0026gt; \u0026lt;/eiendomsidentifikasjon\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;3\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;3\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;5\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;5\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;7\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;7\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;9\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;9\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;11\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;11\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;bygning\u0026gt; \u0026lt;bygning\u0026gt; \u0026lt;bygningsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;naeringsgruppe\u0026gt; \u0026lt;kode\u0026gt;X\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/naeringsgruppe\u0026gt; \u0026lt;bygningstype\u0026gt; \u0026lt;kode\u0026gt;121\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Tomannsbolig, vertikaldelt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bygningstype\u0026gt; \u0026lt;bebygdAreal\u0026gt;100\u0026lt;/bebygdAreal\u0026gt; \u0026lt;bruksenheter\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;3\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;3\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;/bruksenheter\u0026gt; \u0026lt;etasjer\u0026gt; \u0026lt;etasje\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;antallBoenheter\u0026gt;1\u0026lt;/antallBoenheter\u0026gt; \u0026lt;bruksarealTilAnnet\u0026gt;0\u0026lt;/bruksarealTilAnnet\u0026gt; \u0026lt;bruksarealTilBolig\u0026gt;200\u0026lt;/bruksarealTilBolig\u0026gt; \u0026lt;bruksarealTotalt\u0026gt;200\u0026lt;/bruksarealTotalt\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/etasje\u0026gt; \u0026lt;/etasjer\u0026gt; \u0026lt;avlop\u0026gt; \u0026lt;kode\u0026gt;OffentligKloakk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig avløpsanlegg\u0026lt;/beskrivelse\u0026gt; \u0026lt;/avlop\u0026gt; \u0026lt;energiforsyning xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;vannforsyning\u0026gt; \u0026lt;kode\u0026gt;TilknyttetOffVannverk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig vannverk\u0026lt;/beskrivelse\u0026gt; \u0026lt;/vannforsyning\u0026gt; \u0026lt;harHeis\u0026gt;false\u0026lt;/harHeis\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bygning\u0026gt; \u0026lt;bygning\u0026gt; \u0026lt;bygningsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;naeringsgruppe\u0026gt; \u0026lt;kode\u0026gt;X\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/naeringsgruppe\u0026gt; \u0026lt;bygningstype\u0026gt; \u0026lt;kode\u0026gt;121\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Tomannsbolig, vertikaldelt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bygningstype\u0026gt; \u0026lt;bebygdAreal\u0026gt;100\u0026lt;/bebygdAreal\u0026gt; \u0026lt;bruksenheter\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;5\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;5\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;/bruksenheter\u0026gt; \u0026lt;etasjer\u0026gt; \u0026lt;etasje\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;antallBoenheter\u0026gt;1\u0026lt;/antallBoenheter\u0026gt; \u0026lt;bruksarealTilAnnet\u0026gt;0\u0026lt;/bruksarealTilAnnet\u0026gt; \u0026lt;bruksarealTilBolig\u0026gt;200\u0026lt;/bruksarealTilBolig\u0026gt; \u0026lt;bruksarealTotalt\u0026gt;200\u0026lt;/bruksarealTotalt\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/etasje\u0026gt; \u0026lt;/etasjer\u0026gt; \u0026lt;avlop\u0026gt; \u0026lt;kode\u0026gt;OffentligKloakk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig avløpsanlegg\u0026lt;/beskrivelse\u0026gt; \u0026lt;/avlop\u0026gt; \u0026lt;energiforsyning xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;vannforsyning\u0026gt; \u0026lt;kode\u0026gt;TilknyttetOffVannverk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig vannverk\u0026lt;/beskrivelse\u0026gt; \u0026lt;/vannforsyning\u0026gt; \u0026lt;harHeis\u0026gt;false\u0026lt;/harHeis\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bygning\u0026gt; \u0026lt;bygning\u0026gt; \u0026lt;bygningsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;naeringsgruppe\u0026gt; \u0026lt;kode\u0026gt;X\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/naeringsgruppe\u0026gt; \u0026lt;bygningstype\u0026gt; \u0026lt;kode\u0026gt;121\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Tomannsbolig, vertikaldelt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bygningstype\u0026gt; \u0026lt;bebygdAreal\u0026gt;100\u0026lt;/bebygdAreal\u0026gt; \u0026lt;bruksenheter\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;7\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;7\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;/bruksenheter\u0026gt; \u0026lt;etasjer\u0026gt; \u0026lt;etasje\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;antallBoenheter\u0026gt;1\u0026lt;/antallBoenheter\u0026gt; \u0026lt;bruksarealTilAnnet\u0026gt;0\u0026lt;/bruksarealTilAnnet\u0026gt; \u0026lt;bruksarealTilBolig\u0026gt;200\u0026lt;/bruksarealTilBolig\u0026gt; \u0026lt;bruksarealTotalt\u0026gt;200\u0026lt;/bruksarealTotalt\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/etasje\u0026gt; \u0026lt;/etasjer\u0026gt; \u0026lt;avlop\u0026gt; \u0026lt;kode\u0026gt;OffentligKloakk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig avløpsanlegg\u0026lt;/beskrivelse\u0026gt; \u0026lt;/avlop\u0026gt; \u0026lt;energiforsyning xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;vannforsyning\u0026gt; \u0026lt;kode\u0026gt;TilknyttetOffVannverk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig vannverk\u0026lt;/beskrivelse\u0026gt; \u0026lt;/vannforsyning\u0026gt; \u0026lt;harHeis\u0026gt;false\u0026lt;/harHeis\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bygning\u0026gt; \u0026lt;bygning\u0026gt; \u0026lt;bygningsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;naeringsgruppe\u0026gt; \u0026lt;kode\u0026gt;X\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/naeringsgruppe\u0026gt; \u0026lt;bygningstype\u0026gt; \u0026lt;kode\u0026gt;121\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Tomannsbolig, vertikaldelt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bygningstype\u0026gt; \u0026lt;bebygdAreal\u0026gt;100\u0026lt;/bebygdAreal\u0026gt; \u0026lt;bruksenheter\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;9\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;9\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;/bruksenheter\u0026gt; \u0026lt;etasjer\u0026gt; \u0026lt;etasje\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;antallBoenheter\u0026gt;1\u0026lt;/antallBoenheter\u0026gt; \u0026lt;bruksarealTilAnnet\u0026gt;0\u0026lt;/bruksarealTilAnnet\u0026gt; \u0026lt;bruksarealTilBolig\u0026gt;200\u0026lt;/bruksarealTilBolig\u0026gt; \u0026lt;bruksarealTotalt\u0026gt;200\u0026lt;/bruksarealTotalt\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/etasje\u0026gt; \u0026lt;/etasjer\u0026gt; \u0026lt;avlop\u0026gt; \u0026lt;kode\u0026gt;OffentligKloakk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig avløpsanlegg\u0026lt;/beskrivelse\u0026gt; \u0026lt;/avlop\u0026gt; \u0026lt;energiforsyning xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;vannforsyning\u0026gt; \u0026lt;kode\u0026gt;TilknyttetOffVannverk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig vannverk\u0026lt;/beskrivelse\u0026gt; \u0026lt;/vannforsyning\u0026gt; \u0026lt;harHeis\u0026gt;false\u0026lt;/harHeis\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bygning\u0026gt; \u0026lt;bygning\u0026gt; \u0026lt;bygningsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;naeringsgruppe\u0026gt; \u0026lt;kode\u0026gt;X\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/naeringsgruppe\u0026gt; \u0026lt;bygningstype\u0026gt; \u0026lt;kode\u0026gt;121\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Tomannsbolig, vertikaldelt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bygningstype\u0026gt; \u0026lt;bebygdAreal\u0026gt;100\u0026lt;/bebygdAreal\u0026gt; \u0026lt;bruksenheter\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;11\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;A\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;bruksenhet\u0026gt; \u0026lt;bruksenhetsnummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;loepenummer\u0026gt;01\u0026lt;/loepenummer\u0026gt; \u0026lt;/bruksenhetsnummer\u0026gt; \u0026lt;bruksenhetstype\u0026gt; \u0026lt;kode\u0026gt;B\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Bolig\u0026lt;/beskrivelse\u0026gt; \u0026lt;/bruksenhetstype\u0026gt; \u0026lt;bruksareal\u0026gt;100\u0026lt;/bruksareal\u0026gt; \u0026lt;kjoekkentilgang\u0026gt; \u0026lt;kode\u0026gt;0\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Ikke oppgitt\u0026lt;/beskrivelse\u0026gt; \u0026lt;/kjoekkentilgang\u0026gt; \u0026lt;antallRom\u0026gt;3\u0026lt;/antallRom\u0026gt; \u0026lt;antallBad\u0026gt;1\u0026lt;/antallBad\u0026gt; \u0026lt;antallWC\u0026gt;1\u0026lt;/antallWC\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adressekode\u0026gt;1001\u0026lt;/adressekode\u0026gt; \u0026lt;adressenavn\u0026gt;Byggestedgate\u0026lt;/adressenavn\u0026gt; \u0026lt;adressenummer\u0026gt;11\u0026lt;/adressenummer\u0026gt; \u0026lt;adressebokstav\u0026gt;B\u0026lt;/adressebokstav\u0026gt; \u0026lt;seksjonsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;matrikkelnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bruksenhet\u0026gt; \u0026lt;/bruksenheter\u0026gt; \u0026lt;etasjer\u0026gt; \u0026lt;etasje\u0026gt; \u0026lt;etasjenummer\u0026gt;01\u0026lt;/etasjenummer\u0026gt; \u0026lt;etasjeplan\u0026gt; \u0026lt;kode\u0026gt;H\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;H\u0026lt;/beskrivelse\u0026gt; \u0026lt;/etasjeplan\u0026gt; \u0026lt;antallBoenheter\u0026gt;1\u0026lt;/antallBoenheter\u0026gt; \u0026lt;bruksarealTilAnnet\u0026gt;0\u0026lt;/bruksarealTilAnnet\u0026gt; \u0026lt;bruksarealTilBolig\u0026gt;200\u0026lt;/bruksarealTilBolig\u0026gt; \u0026lt;bruksarealTotalt\u0026gt;200\u0026lt;/bruksarealTotalt\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/etasje\u0026gt; \u0026lt;/etasjer\u0026gt; \u0026lt;avlop\u0026gt; \u0026lt;kode\u0026gt;OffentligKloakk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig avløpsanlegg\u0026lt;/beskrivelse\u0026gt; \u0026lt;/avlop\u0026gt; \u0026lt;energiforsyning xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;vannforsyning\u0026gt; \u0026lt;kode\u0026gt;TilknyttetOffVannverk\u0026lt;/kode\u0026gt; \u0026lt;beskrivelse\u0026gt;Offentlig vannverk\u0026lt;/beskrivelse\u0026gt; \u0026lt;/vannforsyning\u0026gt; \u0026lt;harHeis\u0026gt;false\u0026lt;/harHeis\u0026gt; \u0026lt;endring\u0026gt;Ny\u0026lt;/endring\u0026gt; \u0026lt;/bygning\u0026gt; \u0026lt;/bygning\u0026gt; \u0026lt;/matrikkelopplysninger\u0026gt; \u0026lt;adresse\u0026gt;Byggestedgate 3 - 11\u0026lt;/adresse\u0026gt; \u0026lt;referanseAndreSaker xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;referanseKlagesaker xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;registrertDato\u0026gt;0001-01-01T00:00:00\u0026lt;/registrertDato\u0026gt; \u0026lt;saksbehandler\u0026gt;Michael\u0026lt;/saksbehandler\u0026gt; \u0026lt;posisjon xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/Byggesak\u0026gt; "
},
{
	"uri": "/fiks-plattform/tjenester/fiksio/arkiv/",
	"title": "Fiks Arkiv",
	"tags": [],
	"description": "",
	"content": " Tjenesten er under utvikling/testing/pilotering\n Fiks Arkiv er en asynkron protokoll over Fiks IO eller andre transportmekanismer for å søke, arkivere og hente data fra et arkiv. For implementasjonseksempler, brukerhistorier og teknisk dokumentasjon les mer i wiki på github repoet fiks-arkiv.\nMeldinger Hver melding består av en zip fil ASIC-E som inneholder arkivmelding.xml eller sok.xml og tilhørende vedlegg som er definert i xml filen. Hver melding kan ikke overskride 5GB.\nMeldingsformat og skjema For mer informasjon rundt meldingsformatet arkivmelding kan man lese om definisjonen her hos Digdir. XSD skjema for meldingsformatene er tilgjengelig for nedlasting på github prosjektet fiks-arkiv-specification eller i bibliotek for .NET og Java. Dette spesifikasjonsprosjektet brukes som felles kilde for bygging av bibliotek/moduler for .NET og Java.\n.NET bibliotek og prosjekter Prosjekter og evt nuget pakker:\n   Type Nuget Github     Modeller og XSD skjema KS.Fiks.Arkiv.Models.V1 https://github.com/ks-no/fiks-arkiv-models-dotnet   Forenklet arkivering KS.Fiks.Arkiv.Forenklet.Arkivering.V1 https://github.com/ks-no/fiks-arkiv-forenklet-arkivering-dotnet   Fiks protokoll validator - https://github.com/ks-no/fiks-protokoll-validator   Valideringstester - https://github.com/ks-no/fiks-arkiv-integration-tests-dotnet    Modeller og XSD skjema\nKS har gjort tilgjengelig nuget pakken KS.Fiks.Arkiv.Models.V1 som inneholder modeller for at man skal enklere kunne bygge meldingene i henhold til spesifikasjon. Modellene er generert av XSD skjema fra github prosjektet fiks-arkiv-specification. XSD skjemane følger også med i pakken. Koden er tilgjengelig på github her og er tilgjengelig for nedlasting og bruk i prosjekter på nuget.org.\nForenklet arkivering\nDenne pakken er uferdig og vil bli utbedret når V1 av protokollen er ferdig lansert\nDette er en nuget-pakke for \u0026ldquo;forenklet arkivering\u0026rdquo;, KS.Fiks.Arkiv.Forenklet.Arkivering.V1, som inneholder forenklete metoder for å bygge arkivmelding for diverse brukstilfeller. Denne bruker modellene fra KS.Fiks.Arkiv.Models.V1 til byggingen av arkivmelding. Koden er tilgjengelig på github her og er også tilgjengelig for bruk i prosjekter på nuget.org\nFiks protokoll validator\nDette er en applikasjon som kjører i KS sitt testmiljø. Med denne kan man teste protokollene mot sitt eget arkiv-testmiljø ved å sende ferdige meldinger med statisk XML innhold til den aktuelle FIKS-IO kontoen.\nValideringstester\nDette prosjekter inneholder valideringstester (integrasjonstester) som tester at et arkiv som har implementert Fiks Arkiv protokollen fungerer som forventet i meldings-utvekslinger. F.eks. at arkivet kan ta i mot og lagre en ny journalpost, oppdatere journalposten, og levere den oppdaterte journalposten på en hent-melding. Disse testene kan gjennomføre flere meldingsutvekslinger og steg enn Fiks protokoll validator som kun tester å sende en melding og så sjekker svaret.\nTestene kjøres ved at man laster ned prosjektet og kjører de lokalt.\nGithub prosjektet for validatortestene er her og kan lastes ned og brukes for testing. Det oppfordres til å bidra med enda flere tester.\nJava bibliotek og prosjekter Maven\n   Type Navn Github     Modeller og XSD skjema fiks-arkiv https://github.com/ks-no/fiks-arkiv-client-java   Forenklet arkivering fiks-arkiv-forenklet-arkivering https://github.com/ks-no/fiks-arkiv-client-java    Tilsvarende som for .NET finnes det tilgjengelige moduler på Maven Central. Prosjektet er tilgjengelig på github her.\nModeller og XSD skjema\nModulen fiks-arkiv-api inneholder autogenerert typer, definert i skjema prosjektet fiks-arkiv-specification. XSD skjema fra fiks-arkiv-specification er inkludert i jar under schemas.v1\nForenklet arkivering\nModulen fiks-arkiv-forenklet-arkivering tilsvarer pakken i .NET for \u0026ldquo;forenklet arkivering\u0026rdquo; og inneholder buildere for forenklet oppbygging av gyldig arkivmelding. XSD skjema fra fiks-arkiv-specification er inkludert i jar under schemas.v1\nAsynkrone meldinger og retry Siden denne protokollen er asynkron betyr det at man må ta forbehold om at man kanskje ikke får svar på en melding som ble sendt. Det kan være mange ulike årsaker til dette som f.eks. at mottaker midlertidig feilet ved persistering eller andre tekniske feil. Men det kan også være at mottaker faktisk har lagret arkivmelding som den skal, men det er mottat og kvitteringsmelding tilbake til avsender som aldri kom fram.\nAvsender må da velge om man skal gjøre nytt forsøk på å sende melding. Når man sender en melding til Fiks IO så vil meldingen få en unik id hver gang. Dermed kan det i noen tilfeller kanskje være vanskelig for mottaker å vite at dette er en melding som sendes på nytt.\nDette løses ved at meldinger til Fiks IO kan gis en id med navnet klientMeldingId for å markere at det er en unik melding fra avsender, som man kan gjenbrukes ved nytt forsøk. Mottaker kan da sende mottatt og kvittering på nytt.\nDet kan være lurt at man tar med seg noen kjøreregler for sending og retry av meldinger:\n Ha et maks antall forsøk på å sende meldinger på nytt Ikke forsøk å sende en melding på nytt med en gang. Gi det litt tid for å ikke \u0026ldquo;plage\u0026rdquo; mottaker. Bruk klientMeldingId på alle meldinger. Både ved første forsøk og retry. Dette kan gjøre det lettere å gjenkjenne duplikate meldinger hos mottaker.  Ack Når en melding er mottatt skal mottaker persistere meldingen og sende ack tilbake til Fiks-IO. Sending av ack tilbake til Fiks-IO sørger for at meldingen blir tatt bort fra køen.\nEn ack melding må ikke forveksles med mottattmeldingene som sendes tilbake i noen tilfeller. En mottattmelding er en melding tilbake til avsender, en ackmelding er kun en beskjed tilbake til køen om å fjerne meldingen.\nHvis ack for en melding uteblir vil meldingen bli værende på køen inntil den er blitt hentet 3 ganger uten å få en ack tilbake. Da vil Fiks-IO sende en no.ks.fiks.io.feilmelding.serverfeil melding tilbake til avsender. Med andre ord er det viktig at man sender ack når man vellykket har hentet en melding.\nOBS: Dette erstatter tidligere TTL-håndtering på Fiks-IO køene. Det vil ikke lenger sendes noen tidsavbrudd meldinger basert på TTL.\nArkivering Meldingstyper:\n   Type Navn     Arkiver melding no.ks.fiks.arkiv.v1.arkivering.arkivmelding   Mottatt melding no.ks.fiks.arkiv.v1.arkivering.arkivmelding.mottatt   Kvittering på arkivering no.ks.fiks.arkiv.v1.arkivering.arkivmelding.kvittering    For å arkivere data må en bruke meldingsformatet arkivmelding.xml. Se xsd schema arkivmelding.xsd for definsjon av meldingsformatet.\nBegrensninger og regler for arkivering  Arkivmelding støtter ikke å registrere flere mapper i et hierarki, altså mapper i mapper, i en enkelt arkivmelding. Registrering av ny undermappe må da registreres hver for seg. Mapper kan altså bare referere til eksisterende mappe, som må da ha vært opprettet tidligere. En foreldermappe kan ikke inneholde registreringer. Altså en mappe som inneholder andre mapper skal bare inneholde mapper.  Mottatt og kvittering Hvis meldingen er gyldig som arkivmelding skal man så sende melding tilbake av typen no.ks.fiks.arkiv.v1.arkivering.arkivmelding.mottatt. Når arkivering er arkivert til arkivet skal det komme en arkivmelding tilbake i meldingsformatet arkivmelding-kvittering.xml av typen no.ks.fiks.arkiv.v1.arkivering.arkivmelding.kvittering. Se arkivmeldingKvittering.xsd for definisjon av meldingsformatet på kvitteringsmelding.\nFeilmeldinger for arkivmelding Hvis arkivmeldingen ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes no.ks.fiks.arkiv.v1.feilmelding.serverfeil tilbake. Les mer om disse feilmeldingene lenger nede under feilmeldingstyper\nSøk etter data Meldingstyper:\n   Type Navn     Søk melding no.ks.fiks.arkiv.v1.innsyn.sok   Søkeresultat utvidet no.ks.fiks.arkiv.v1.innsyn.sok.resultat.utvidet   Søkeresultat minimum no.ks.fiks.arkiv.v1.innsyn.sok.resultat.minimum   Søkeresultat nøkler no.ks.fiks.arkiv.v1.innsyn.sok.resultat.noekler    Meldingsformatet for søk er definert i xsd schema sok.xsd. I meldingsformatet sok.xml kan man definere om man ønsker et resultat tilbake av typen utvidet, minimum eller noekler.\nSøkeresultat utvidet Hvis søk forespørsel har satt responsType = \u0026ldquo;utvidet\u0026rdquo; kan søket returnere et utvidet resultat med maksimalt mengde felter tilgjengelig gjennom søk. Se sokeresultatUtvidet.xsd for definisjon av returmelding.\nSøkeresultat minimum Hvis søk forespørsel har satt responsType = \u0026ldquo;minimum\u0026rdquo; kan søket returnere et mer begrenset resultat tilgjengelig gjennom søk. Se sokeresultatMinimum.xsd\nSøkeresultat nøkler Hvis søk forespørsel har satt responsType = \u0026ldquo;noekler\u0026rdquo; kan søket returnere bare tilgjengelige nøkler. Se sokeresultatNoekler.xsd\nFeilmeldinger for søk Hvis søket ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes no.ks.fiks.arkiv.v1.feilmelding.serverfeil tilbake. Les mer om disse feilmeldingene lenger nede under feilmeldingstyper\nHente data Meldingstyper:    Type Navn     Hent mappe no.ks.fiks.arkiv.v1.innsyn.mappe.hent   Hent journalpost no.ks.fiks.arkiv.v1.innsyn.journalpost.hent   Hent dokumentfil no.ks.fiks.arkiv.v1.innsyn.dokumentfil.hent   Hent mappe resultat no.ks.fiks.arkiv.v1.innsyn.mappe.hent.resultat   Hent journalpost resultat no.ks.fiks.arkiv.v1.innsyn.journalpost.hent.resultat   Hent dokumentfil resultat no.ks.fiks.arkiv.v1.innsyn.dokumentfil.hent.resultat    Hent mappe: Meldingsformatet for hent mappe er definert i xsd schema mappeHent.xsd og sendes som meldingstypen no.ks.fiks.arkiv.v1.innsyn.mappe.hent. Resultatet skal sendes tilbake som meldingstypen no.ks.fiks.arkiv.v1.mappe.hent.resultat og formatet er definert i xsd schema mappeHentResultat.xsd.\nHent journalpost: Meldingsformatet for hent journalpost er definert i xsd schema journalpostHent.xsd og sendes som meldingstypen no.ks.fiks.arkiv.v1.innsyn.journalpost.hent. Resultatet skal sendes tilbake som meldingstypen no.ks.fiks.arkiv.v1.journalpost.hent.resultat og formatet er definert i xsd schema journalpostHentResultat.xsd.\nHent dokumentfil: Meldingsformatet for hent dokumentfil er definert i xsd schema dokumentfilHent.xsd og sendes som meldingstypen no.ks.fiks.arkiv.v1.innsyn.dokumentfil.hent. Resultatet skal sendes tilbake som typen no.ks.fiks.arkiv.v1.dokumentfil.hent.resultat. Merk at det er ikke noe xsd schema for resultat da det ikke er noe behov for meta-data for dokumenfilen. Ønsker man meta-data for et dokument må hent journalpost brukes. Dokumentfilen kommer som payload i Fiks-IO meldingen med meldingsypen no.ks.fiks.arkiv.v1.dokumentfil.hent.resultat.\nFeilmeldinger for hent meldinger Hvis hent meldingen ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes no.ks.fiks.arkiv.v1.feilmelding.serverfeil tilbake og hvis det blir forsøkt å hente noe som ikke eksisterer i arkivet leveres det tilbake en no.ks.fiks.arkiv.v1.feilmelding.ikkefunnet melding. Les mer om disse feilmeldingene lenger nede under feilmeldingstyper\nOppdatering Meldingstyper:    Type Navn     Arkivmelding oppdatering no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater   Mottatt melding no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater.mottatt   Arkivmelding oppdatering kvittering no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater.kvittering    Arkivmelding oppdatering: Meldingsformatet for arkivmelding oppdatering er definert i xsd schema arkivmeldingOppdatering.xsd og sendes som meldingstypen no.ks.fiks.arkiv.v1.arkivering.arkivmelding.oppdater.\nFeilmeldinger for oppdater meldinger Hvis oppdater meldingen ikke er gyldig, f.eks at den ikke validerer i henhold til schema, så sender man en no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespoersel melding tilbake. Ved interne feil som gjør at man ikke får håndtert meldingen sendes no.ks.fiks.arkiv.v1.feilmelding.serverfeil tilbake og hvis det blir forsøkt å oppdatere noe som ikke eksisterer i arkivet leveres det tilbake en no.ks.fiks.arkiv.v1.feilmelding.ikkefunnet melding. Les mer om disse feilmeldingene lenger nede under feilmeldingstyper\nFeilmeldingstyper Som svar kan man få feilmeldinger som tilhører denne protokollen. Feilmeldingstypene kan være like i innhold som feilmeldinger i andre protokoller men de vil ha navn som tilsier at de tilhører en spesifikk protokoll. Altså vil de ha en no.ks.fiks.arkiv.v1.feilmelding prefix for denne protokollen.\nFeilmeldingstyper    Type Navn     Ugyldigforespørsel no.ks.fiks.arkiv.v1.feilmelding.ugyldigforespørsel   Serverfeil no.ks.fiks.arkiv.v1.feilmelding.serverfeil   Ikkefunnet no.ks.fiks.arkiv.v1.feilmelding.ikkefunnet    Ugyldig forespørsel Hvis noe er galt med forespørselen, altså den er ugyldig, så skal mottaker sende en no.ks.fiks.kvittering.ugyldigforespoersel.v1 tilbake til sender. Json schema følger med i .NET pakken for Fiks-IO-client. Serverfeil Ved serverfeil hos mottaker skal det sendes en no.ks.fiks.kvittering.serverfeil.v1 tilbake til sender. Json schema følger med i .net pakken for Fiks-IO-client.\nIkkefunnet For meldinger som skal hente eller oppdatere noe i arkivet vil det returneres en ikkefunnet melding tilbake.\nFiks-io feilmelding når meldinger ikke er hentet Når en melding er mottatt skal mottaker persistere meldingen og sende ack tilbake til Fiks-IO. Sending av ack tilbake til Fiks-IO sørger for at meldingen blir tatt bort fra køen.\nHvis ack for en melding uteblir vil meldingen bli værende på køen inntil den er blitt hentet 3 ganger uten å få en ack tilbake. Da vil Fiks-IO sende en no.ks.fiks.io.feilmelding.serverfeil melding tilbake til avsender. Med andre ord er det viktig at man sender ack når man vellykket har hentet en melding.\nDette erstatter tidligere TTL-håndtering på Fiks-IO køene. Det vil ikke lenger sendes noen tidsavbrudd meldinger basert på TTL.\nTesting av meldingsutveksling Det er opprettet en test-applikasjon, fiks-protokoll-validator, som kjører i KS sitt testmiljø. Med denne kan man teste protokollene mot sitt eget arkiv-testmiljø ved å sende ferdige meldinger med statisk XML innhold til den arkivets FIKS-IO konto. Fiks-protokoll-validator vil validere svaret den får tilbake via Fiks-IO og gi en pekepinn på om implementasjon fungerer som det skal. Applikasjonen er kun tilgjengelig i KS test-miljø: fiks-validator\nKoden for validatoren er tilgjengelig på github.\nIntegrasjonstester Som tidligere nevnt er det også laget et .NET prosjekt som inneholder integrasjonstester som tester at et arkiv som har implementert Fiks Arkiv protokollen fungerer som forventet i meldings-utvekslinger. Github prosjektet finner man her.\n"
},
{
	"uri": "/fiks-plattform/sentralisert-brukerstyring/azure/",
	"title": "Sette opp Azure AD",
	"tags": [],
	"description": "",
	"content": "Oppsett for Azure AD i test Dette trenger du får å få satt opp test:\n bruker med admintilgang på organisasjon på Fiks test admin tilgang til test-tennant på Azure AD  Guide Først må du logge på Azure portalen, velge Active directory og sikre at du er på rett tennant. Kopier Tenant ID som fra skjermbildet under:\nÅpne en ny fane og logg på Fiks forvaltning i test med bruker som har administrasjonstilgang til den organisasjonen du skal synkronisere brukere til. Velg konfigurasjon i det første skjermbildet\nI venstremenyen nederst ligger det et valg som heter Brukerstyring. Trykk på dette\nI det neste skjermbildet trykker du på knappen Legg til ekstern kilde og får opp en veiviser der du må velge Azure AD som kildesystem, legge inn et navn og Tennant ID fra Azure AD som du fant tidligere. Til slutt vil du få presentert URL til vårt SCIM endepunkt samt et token som Azure skal bruke for autentisering. Kopier disse verdiene eller hold vinduet åpent, for disse skal vi bruke i Azure portalen\nGå tilbake til Azure AD fanen. Nå skal vi sette opp selve konfigurasjonen. I Active Directory grensesnittet velger du først Enterprise applications og deretter trykker du på New application. Lag et navn på integrasjonen og velg Integrate any other application you don\u0026rsquo;t find in the gallery (Non-gallery)\nI det neste skjermbildet velger du 3. Provision User Accounts (evt. Provisioning fra venstremenyen). Deretter trykker du på Get started. I det neste skjermbildet velger du Automatic for Provisioning Mode. Kopier den URL-en du fikk da du opprettet kilden i Fiks forvalgning under Tenant URL og legg inn tokenet i feltet Secret Token. Trykk Test connection for å verifisere at oppsettet er rikitig. Trykk Save når du er ferdig.\nEndre mapping for Azure AD til også å levere fødselsnummer Om brukerene skal kunne bruke ID-porten til å logge på Fiks må du også se til at fødselsnummer blir levert vårt SCIM endepunkt. For å få til dette må du endre standardmappingen for brukerprovisjonering i Azure AD. I så fall går du inn på den Enterprise application-instansen du laget tidlgere, velger Provisioning i venstremenyen. Velg så\n Edit provisioning Ekspander Mappings Trykk på Provision Azure Active Directory Users Nederst i det neste skjermbilde er det en boks for Show advanced options. Sjekk av denne Under Supported Attributes, velg Edit attribute list for customapsso (se skjermbilde under) I bunnen av listen, legg til nytt element av typen String med verdi urn:ietf:params:scim:schemas:extension:ks:personidentifikasjon:1.0:foedselsnummer. Dette er det feltet vi forventer å få inn fødselsnummeret i. Du kan nå mappe det feltet du har valgt å legge fødselsnummer i din AD tennant til det nye fødselsnummerfeltet.  "
},
{
	"uri": "/kslering/",
	"title": "KS læring",
	"tags": [],
	"description": "",
	"content": "KS-læring kjøres på Moodle-plattform.\n"
},
{
	"uri": "/fiks-plattform/tjenester/vaksine/",
	"title": "Vaksine fra FHI",
	"tags": [],
	"description": "",
	"content": "Formål KS har sammen med Folkehelseinstituttet (FHI) utviklet et API som gjør det mulig å hente vaksineinformasjon elektronisk fra FHIs SYSVAK register til kommunen. API-et er tilgjengelig for kommuner som har behov for å hente større mengder med informasjon fra SYSVAK.\nProduktbeskrivelse Tjenesten vil tilby et api hvor kommunen kan spørre etter vaksineinformasjon på et fødselsnummer/dnummer.\nBrukeradministrasjon og tilgangsstyring Autentisering skjer ved hjelp av en IntegrasjonPerson-mekanismen beskrevet her Merk at token som sendes med må være et personlig HelseID-token.\nVedkommende det gjøres oppslag for må også ha blitt gitt søke-privilegiet på tjenestesiden for Fiks Vaksine på Fiks forvaltning.\nSikkerhet Kommunikasjonen vil være kryptert med TLS. Autentisering med HelseID og Fiks integrasjon.\nEndepunkt (api-spec) For alle endepunktene hentes autentisert bruker fra access token i \u0026ldquo;Authorization\u0026rdquo;-headeren på requesten. Dette tokenet må være utstedt av HelseID med aud-verdi ks:fiks, scope-verdier ks:fiks/sysvak, fhi:personoppslag/api, fhi:sysvaknett/fiks/api, fhi:sysvaknett/api, helseid://scopes/hpr/hpr_number, helseid://scopes/identity/pid og helseid://scopes/identity/security_level og nivå 4.\n"
},
{
	"uri": "/svarut/integrasjon/kodeeksempeldotnet/",
	"title": "Kodeeksempel .Net",
	"tags": [],
	"description": "",
	"content": "Eksempel på Soap integrasjon: kodeeksempel\nKlient api til rest servicen, laget av dibk: https://bitbucket.org/dibk/ftpb-svarut-client/src/master/\n"
},
{
	"uri": "/svarut/integrasjon/kodeeksempeljava/",
	"title": "Kodeeksempel Java",
	"tags": [],
	"description": "",
	"content": "Kodeeksempel soap på github kodeeksempel\nRest klient for java https://github.com/ks-no/svarut-rest-klient\n"
},
{
	"uri": "/fiks-plattform/tjenester/klinikermelding/",
	"title": "Klinikermelding hos FHI",
	"tags": [],
	"description": "",
	"content": "Formål Tjeneste for å sende klinikermeldinger til FHI.\nProduktbeskrivelse KS har sammen med Folkehelseinstituttet (FHI) utviklet et API som gjør det mulig å sende MSIS klinikermelding direkte fra smittesporingsverktøyet eller EPJ til MSIS ved FHI. Tjenesten heter Fiks klinikermelding. API-et vil bli tatt i bruk av Fiks smittsporing så snart som mulig, og er tilgjengelig for kommuner som benytter andre løsninger til smittesporing enn de nevnte.\nBrukeradministrasjon og tilgangsstyring Autentisering skjer ved hjelp av en IntegrasjonPerson-mekanismen beskrevet her Merk at token som sendes med må være et personlig HelseID-token.\nKommunen må også gi tilgang til applikasjonen sin integrasjon samt alle sluttbrukere som skal kunne sende klinikermeldinger på Fiks forvaltning.\nSikkerhet Kommunikasjonen vil være kryptert med TLS. Autentisering med HelseID og Fiks integrasjon.\nEndepunkt (api-spec) For alle endepunktene hentes autentisert bruker fra access token i \u0026ldquo;Authorization\u0026rdquo;-headeren på requesten. Dette tokenet må være utstedt av HelseID med aud-verdi ks:fiks, scope-verdi fhi:msisklinikermeldingapi/api, helseid://scopes/hpr/hpr_number helseid://scopes/identity/security_level helseid://scopes/identity/pid og nivå 3.\n"
},
{
	"uri": "/fiks-plattform/tjenester/provesvar/",
	"title": "Prøvesvar fra FHI",
	"tags": [],
	"description": "",
	"content": "Formål Tjeneste for å tilgjengeliggjøre Covid19 prøvesvar for smittesporere i kommunene.\nProduktbeskrivelse Tjenesten vil tilby et api hvor smittesporer kan spørre etter prøvesvar basert på:\n et fødselsnummer/dnummer en kombinasjon av fornavn/etternavn/kjønn/fødselsdato/prøvetidspunkt hente ut prøvesvar for egen kommune  Brukeradministrasjon og tilgangsstyring Autentisering skjer ved hjelp av en IntegrasjonPerson-mekanismen beskrevet her Merk at token som sendes med må være et personlig HelseID-token.\nKommunen må også gi tilgang til applikasjonen sin integrasjon samt alle sluttbrukere som skal kunne hente prøvesvar på Fiks forvaltning.\nSikkerhet Kommunikasjonen vil være kryptert med TLS. Autentisering med HelseID og Fiks integrasjon.\nEndepunkt (api-spec) For alle endepunktene hentes autentisert bruker fra access token i \u0026ldquo;Authorization\u0026rdquo;-headeren på requesten. Dette tokenet må være utstedt av HelseID med aud-verdier ks:fiks og fhi:labdatabase scope-verdier fhi:labdatabase/fiks fhi:personoppslag/api ks:fiks/labdatabase helseid://scopes/hpr/hpr_number helseid://scopes/identity/pid ks:fiks/labdatabase og nivå 4.\n"
},
{
	"uri": "/fiks-plattform/tjenester/digisos/",
	"title": "Digisos",
	"tags": [],
	"description": "",
	"content": "Fiks Digisos er en tjeneste for å tilrettelegge for kommunal behandling av sosialsøknader via et brukergrensesnitt på nav.no.\nFiks Digisos tilbyr:\n Enkelt oppsett for den enkelte kommune gjennom Fiks Konfigurasjon. Innbygger får fortløpende oppdatering på saksgang, tilgjengelig på nav.no. Innbygger får tilgang til alle dokumenter og mulighet til å sende inn nye søknader basert på data fra tidligere søknader. Ansatte/brukerstøtte i NAV kan se utvalgte deler av saken via NAV sine systemer.  Hvordan tar man i bruk Fiks Digisos? For at fagsystemet skal få tilgang til å motta sosialsøknader og sende saksoppdateringer til NAV via Digisos-API-et for en kommune, må kommunen først konfigurere og aktivere tjenesten Digisos gjennom Fiks Konfigurasjon, som viser en veiviser for å sette opp tjenesten. Her konfigurerer man opp hvordan kommunens fagsystem skal motta søknader, enten via Fiks IO (anbefalt kanal) og/eller SvarUt. Det må også oppgis kontaktpersoner med minst èn epost for både en fagansvarlig og en teknisk ansvarlig, som kan bli kontaktet ved behov.\nEtter at veiviseren er fullført må man inne på Digisos-tjenesten gi fagsystemet sin integrasjon tilgang til å bruke Digisos. For mer informasjon om utvikling og opprettelse av integrasjoner for kommunen sitt fagsystemet, se avsnittet Integrasjonsutvikling Fagsystem.\nHvordan virker Fiks Digisos? Digisos består av flere komponenter fra Fiks-plattformen, der Fiks Digisos er hovedkomponenten som bruker andre komponenter:\n Fiks Digisos API: API for innsending av søknader fra nav.no og innsending av saksoppdateriger fra kommunenes fagsystemer. Fiks Dokumentlager: Brukes for lagring av krypterte søknader og saksoppdateringer, der innbyggeren får tilgang til sine dokumenter sendt over Digisos API-et. Fiks IO: Brukes som leveringskanal for søknader fra NAV til kommunene, som er en sikker kanal for maskin-til-maskin integrasjon, hvor søknadene blir meldingskryptert med mottakers offentlige nøkkel. SvarUt/SvarInn: Brukes som en alternativ leveringskanal for søknader fra NAV til kommunene, med leveranse med print dersom kommunens fagsystem ikke klarer å motta digitale forsendelser via SvarInn.  Flyt  Innbygger fyller ut søknad om sosialstønad på nav.no, som sender denne til Fiks Digisos gjennom et synkront http api. Fiks Digisos mottar søknaden.  Søknadsfilen legges i Fiks Dokumentlager, og innbyggeren autoriseres for tilgang. Fiks Digisos henter valgt leveransekanal for søknaden fra kommunens konfigurasjon, enten anbefalt kanal 2a) Fiks IO med SvarUt som alternativ eller 2b) Bare SvarUt.  a. Fiks IO - Kommunens konfigurasjon inneholder en konto-id som blir brukt som mottaker. Digisos-meldingene vil bli validert før de sendes til denne kontoen via Fiks IO. Den vil være tilgjengelig for henting fra Fiks IO-køen i en fastsatt periode. Dersom den oppgitte kontoen ikke støtter digisos-meldinger eller om kommunen ikke bekrefter mottak før denne perioden går ut vil meldingen bli trukket og alternativ kanal SvarUt benyttes for levering av søknaden (se punkt 5). b. SvarUt/SvarInn - Søknaden sendes til SvarUt til kommunenes SvarInn mottakersystem, enten fordi den er valgt som eneste leveransekanal, eller fordi kommunen ikke kan motta digisos-meldinger gjennom Fiks IO (se punkt 5).   Fiks returnerer 202 ACCEPTED på http-kallet fra NAV. Dette markerer ansvarsoverføring fra NAV til Fiks, som fra nå garanterer at saken leveres til kommune for behandling.   Søknanden opprettes i kommunalt fagsystem etter vellykket mottak via Fiks IO eller SvarInn. Det kommunale fagsystemet bekrefter mottak av søknaden og oppdaterer status i Fiks Digisos.  Evt. nye filer legges til saken, autorisert for innbygger. Saken er tilgjengelig for innbygger på nav.no.   Om fagsystemet avviser eller unnlater å bekrefte mottak av saken via Fiks IO vil SvarUt benyttes som alternativ kanal, der det inkluderes en fil som inneholder både NAV og Fiks Digisos sin id for saken. I praksis betyr dette at meldingen blir sendt til kommunens SvarInn mottakersystem, evt. sendt til print og postlagt ved problemer med mottak til kommunens fagsystem. Søknader mottatt via SvarUt kan også manuelt lastes ned av kommunen via SvarUt-brukergrensesnittet.  Sikkerhet Systemet er lagt opp slik at NAV ikke trenger å lagre data, disse fjernes fra NAVs systemer når søknaden sendes til Fiks. All tilstand lagres dermed på Fiks-plattformen og hos kommunen. Innsending av søknad kan utelukkende gjøres med brukerens ID-Porten autentisering.\nKommunikasjonen mellom aktørene (NAV, Fiks, fagsystem) foregår med SSL-kryptering, i tillegg er alle dokumenter kryptert med mottakers nøkkel. NAV krypterer med Fiks sin nøkkel, Fiks krypterer med fagsystemets, og fagsystemet vil igjen bruke Fiks-nøkkelen.\nInnbygger har tilgang til alle sine opplastede dokumenter, der et begrenset utvalg av metadata også er tilgjengelig for NAV-ansatte. Uthenting av disse metadataene krever autentisering med NAVs virksomhetssertifikat og integrasjonsinnlogging, og alle slike spørringer logges i Fiks Audit. Ansvaret for den videre autorisering av den enkelte NAV-ansatte ligger hos NAV.\nIntegrasjonsutvikling Fagsystem Det anbefales å lese gjennom dokumentasjonen for generell integrasjonsutvikling mot Fiks, der siste avsnitt, \u0026ldquo;Hvordan komme i gang med utvikling\u0026rdquo;, er svært nyttig. På denne siden beskrives blant annet oppsett av IDPorten og autentisering mot Fiks, der fagsystemet bruker Integrasjon som autentiseringsmetode. Fiks tilbyr både en Java-klient og en .net-klient som kan brukes for å generere access token fra Maskinporten (IDPorten). Avsnittet Konfigurasjon beskriver hvordan en integrasjon opprettes og tilknyttes en tjeneste (Digisos). Integrasjons-id-en og passordet generert her må dermed brukes sammen med access token fra Maskinporten for å få tilgang til Digisos-API-et.\nMottak av søknader Fagsystemet kan motta søknader enten via Fiks IO eller SvarInn/SvarUt. I tillegg til søknadsfilene sendt fra NAV, vil det inkluderes en ekstra json-fil med metadata. Denne metadataen vil være forskjellig basert på om det er en søknad eller ettersendelse som er sendt fra NAV. I begge tilfellene vil den inneholde en Fiks DigisosId for å kunne sende saksoppdateringer til Fiks Digisos API og en unik referanse fra NAV, eksternRef. For ettersendelser vil den i tillegg inneholde informasjon om hvilken søknad ettersendelsen tilhører, og om selve søknaden ble sendt over Fiks IO eller SvarUt.\nSøknad: Eksempel på innholdet i metadata-file for søknader er definert i søknad-metadata-eksempel.\nEttersendelse: Eksempel på innholdet i metadata-file for ettersendelser er definert i ettersendelse-metadata-eksempel.\nSelve data-feltene i metadata-filen vil være definert likt for både Fiks IO og SvarUt. Følgende er spesifikt for de ulike leveringskanalene:\nFiks IO Ved bruk av Fiks IO som leveringskanal må fagsystemet støtte meldingsprotokollen no.nav.digisos.fagsystem.v1, som er definert for bruk av Digisos-meldinger, som inneholder kontrakter i form av json-schema som gjelder både for mottak og svar på Fiks IO meldinger. Fagsystemet må derfor støtte meldingstypene for denne protokollen, for mottak og sending av meldinger for både søknader og ettersendelser:\nTil fagsystem - mottak av søknad og ettersendelse Dette er de samme metadataene som blir beskrevet ovenfor.\nFor ny søknad, no.nav.digisos.soknad.v1, som definert i json-skjema for søknad.\nFor ettersendelse, no.nav.digisos.ettersendelse.v1, som definert i json-skjema for ettersendelse.\nFra fagsystem - kvittering på mottatt søknad og ettersendelse For ny søknad, no.nav.digisos.soknad.mottatt.v1, med tom body.\nFor ettersendelse, no.nav.digisos.ettersendelse.mottatt.v1, med tom body.\nFor mer informasjon om Fiks IO, se dokumentasjon for Fiks IO.\nSvarInn/SvarUt Ved bruk av SvarUt som leveringskanal må fagsystemet støtte mottak av metadata-filen som definert ovenfor, Mottak av søknader. Denne metadata filen vil være lagt med selve SvarUt forsendelsen, kalt forsendelseMetadata.json.\nSøknad: Eksempel på innholdet i forsendelseMetadata.json for søknader er definert i søknad-metadata-eksempel.\nEttersendelse: Eksempel på innholdet i forsendelseMetadata.json for ettersendelser er definert i ettersendelse-metadata-eksempel.\nEksempel på mottak av søknad med tilhørende ettersendelse Mottak av søknad med tilhørende fil forsendelseMetadata.json:\n{ \u0026quot;eksternRef\u0026quot;: \u0026quot;110004PCC\u0026quot;, \u0026quot;digisosId\u0026quot;: \u0026quot;3fa85f64-5717-4562-b3fc-2c963f66afa6\u0026quot; } eksternRef: NAV sin referanse på innsendt søknad.\ndigisosId: DigisosId som brukes for å sende saksoppdateringer (innsyn) til Fiks Digisos API. (må ikke forveksles med ForsendelsesId, som er id-en til selve SvarUt-forsendelsen)\nMottak av ettersendelse tilknyttet samme søknad, med tilhørende fil forsendelseMetadata.json:\n{ \u0026quot;eksternRef\u0026quot;: \u0026quot;110003EFF\u0026quot;, \u0026quot;digisosId\u0026quot;: \u0026quot;3fa85f64-5717-4562-b3fc-2c963f66afa6\u0026quot;, \u0026quot;soknadLeveranseId\u0026quot;: { \u0026quot;sendtKanal\u0026quot;: \u0026quot;SVARUT\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4c7ca4bf-d2c2-4eaa-9a53-4544c9261c18\u0026quot; } } eksternRef: NAV sin referanse på innsendt søknad.\ndigisosId: DigisosId, samme Id som den orginale søknaden.\nsoknadLeveranseId: Blokk som inneholder informasjon om hvor den orginale søknaden ble sendt, med tilknyttet meldingsId. Denne kan inneholde noen forskjellige verdier:\n Dersom søknaden ble sendt til SvarUt/SvarInn vil feltet sendtKanal ha verdi SVARUT. Feltet id vil da tilsvare Forsendelses-id-en til den orginal søknadens sin SvarUt/SvarInn forsendelsen. Dersom fagsystemet bruker Fiks IO i kombinasjon med SvarUt/SvarInn kan det oppstå situasjoner hvor søknad blir sendt til Fiks IO, men ettersendelsen blir sendt til SvarUt/SvarInn. Da vil feltet sendtKanal ha verdi FIKS_IO. Feltet id vil være meldingsId-en til Fiks IO forsendelsen.  For mer informasjon om SvarUt/SvarInn, se dokumentasjon for SvarUt.\nSak oppdatering fra Fagsystem Fiks Digisos tilbyr en api-spec for alle operasjoner utenom filopplasting, som er beskrevet under avsnittet \u0026ldquo;Opplasting av filer\u0026rdquo;.\nSak oppdaterings api-spec er API-et der hvert endepunkt opererer på en angitt søknad, DigisosId, der førlgene operasjoner er tilgjengelige:\n Opprette en ny sak for en søker, der man får tildelt en unik DigisosId for opprettet sak. Oppdatere en sak med nye hendelser, der gammel sakoppdatering vil bli erstattet med den nye. Slette sakoppdatering, (refererte filer fra saken slettes ikke). Hente liste av dokumenter som tilgjengelige på søknaden, som tidligere er lastet opp via Fiks Digisos (se avsnitt \u0026ldquo;Opplasting av filer\u0026rdquo;). Slette dokument fra søknaden, som tidligere er lastet opp via Fiks Digisos (se avsnitt \u0026ldquo;Opplasting av filer\u0026rdquo;).  Filformatet brukt for sakoppdateringer for json-data, digisos-soker.json, er definert her: soknadsosialhjelp-filformat .\nDigisos API-et har vi eksponert i en uavhengig tredjeparts-applikasjon, \u0026ldquo;Swagger Editor\u0026rdquo;, som også tilbyr funksjonalitet for å generere en klient i valgt programmeringsspråk basert på api-specen vi har definert. Denne klienten kan brukes som et utgangspunkt for integrasjon mot Fiks Digisos, men der man må tilpasse klienten til eget fagsystem, med å blant annet legge til nødvendig autentisering og access token.\nReferering til filer\nFiler må lastes opp på forhånd, da digisos-soker.json inneholder referanse-id til dokumentene som kan linkes til søkeren, som gjelder både for filer som lastes opp til Fiks Dokumentlager via Digios-api (som beskrevet under) eller som er sendt via SvarUt.\nDet anbefales å laste opp alle filene via Digisos-api (som beskrevet under, \u0026ldquo;Opplasitng av filer\u0026rdquo;), da vil følgende gjelde:\n Når en sakoppdatering skjer, vil Fiks Digisos validere at refererte filer faktisk er tilgjenglige på saken (DigisosId). Når man sletter en fil via Fiks Digisos vil man bare kunne slette filer som ikke er referert til på saken (DigisosId). Man kan hente en liste av alle tilgjengelige filer for en gitt sak (DigisosId).  Ved å referere til et SvarUt dokument, består denne filreferansen av SvarUt sin forsendelsesId og nummeret for dokumentet i denne forsendelsen, der indekseringen begynner fra 1. Ved referanse til SvarUt filer har ikke Fiks Digisos-api noe relasjon eller tilgang til disse filene, slik at fagsystemet selv er ansvarlig for at alle referte filer til en hver tid er tilgjengelige for søkeren når filreferansene linkes til på nav.no.\nGenerelle vilkår for sakoppdatering:\n Når en sakoppdatering skjer, må derfor alle filer være tilgjenglige på saken. Filer som ikke lenger skal ligge på sak, kan fjernes etter at sakoppdatering uten filene er lastet opp. Fagsystemet må ha kontroll på listen med filer og sjekke at denne er korrekt. Når en sakoppdatering skjer, må saken eksistere i Fiks Digisos, enten fordi skjema fra NAV er sendt via Digisos eller at fagsystem har opprettet en sak. Hver sakoppdatering inneholder en komplett historikk av alle tidligere hendelser, og vil alltid overskrive tidligere sakoppdatering lagret i Fiks Digisos.  Opplasting av filer\nFiks tilbyr en referanseimplementasjon i Java som kan brukes for filopplasting til Fiks Digisos: https://github.com/ks-no/fiks-digisos-klient.\nFør en sakoppdatering, må alle refererte filer være lastet opp på forhånd.\nFiler lastes opp til Fiks Digisos ved bruk av en multipart streaming request, der man spesifiserer HTTP-headeren \u0026ldquo;Transfer-Encoding\u0026rdquo; til å sende data i chunks, Transfer-Encoding: chunked.\nAlle filene må krypteres før opplasting, med public-key fra Fiks som kan hentes fra endepunktet /digisos/api/v1/dokumentlager-public-key.\nURL-stien til filopplasting er /digisos/api/v1/{fiksOrgId}/{digisosId}/filer, der {fiksOrgId} og {digososId} er FiksOrgId-en og FiksDigisosId-en som filene skal legges til.\nEndepunktet tar inn en liste, der man for hver fil som skal lastes opp legger til en metadata-blokk som inneholder informasjon om filen og en blokk som inneholder selve filen (InputStream). Multipart-requesten til Digisos API-et må da for hver fil inneholde to data-fields, der den første inneholder metadataen og den andre inneholder filen. Metadata består av filnavn på filen (filnavn), type (mimetype) og størrelse på filen i bytes (storrelse), der metadata-blokken er av typen \u0026ldquo;application/json\u0026rdquo;. Alle felter må oppgis.\nEksempel på metadata-blokk:\n{ \u0026quot;filnavn\u0026quot;: \u0026quot;test.pdf\u0026quot;, \u0026quot;mimetype\u0026quot;: \u0026quot;application/pdf\u0026quot;, \u0026quot;storrelse\u0026quot; : 1024 } fiks-digisos-klient beskriver hvordan en slik request skal defineres, som krypterer alle filene og sender til Fiks Digisos.\nReturtype Ved en vellykket opplasting får man tilbake en liste av dokumentmetadata som inneholder filnavn, unik referanse (UUID) til Fiks-Dokumentlager, og størrelse på filen.\nEksempel:\n200 OK { [ { \u0026quot;filnavn\u0026quot;: \u0026quot;test.pdf\u0026quot;, \u0026quot;dokumentlagerDokumentId\u0026quot;: \u0026quot;ab35e9088-bcfa-4096-ba68-f07777ed167c\u0026quot;, \u0026quot;storrelse\u0026quot; : 1024 } ] } Ved feil ved opplasting får man 400 Bad Request når multipart-requesten ikke er definert med riktige data.\nIntegrasjonsutvikling (for NAV) For generell integrasjonsutvikling mot Fiks, se Integrasjonsutvikling\nInnsending av søknad Soknad api (api-spec)\nFor innsending av søknad/ettersendelse brukes person-integrasjon autentisering med OIDC, se Integrasjonsutvikling for mer detaljer.\nInnsending av ny søknad\nInnsending av ny søknad til Fiks Digisos bruker multipart streaming request, på lik linje som opplasting av filer for fagsystemene, der man spesifiserer HTTP-headeren \u0026ldquo;Transfer-Encoding\u0026rdquo; til å sende data i chunks, Transfer-Encoding: chunked.\nURL-stien til ny søknad er /digisos/api/v1/soknader/{kommunenummer}/{navEkseternRefId}, der {kommunenummer} er kommunenummer søknaden skal sendes til og {navEkseternRefId} er en unik id fra NAV for søknaden.\nEndepunktet tar inn påkrevde felter for innsending av en ny søknad, som består av metadataene soknad.json (json-encodet String) og vedlegg.json (json-encodet String), samt filen soknad.pdf (metadata + fildata) pluss eventuelle vedlegg (metadata + fildata). Disse dataene må da være definert i denne rekkefølgen i multipart requesten.\nFor hver fil som skal lastes opp (soknad.pdf og hvert vedlegg) legger man til en metadata-blokk som inneholder informasjon om filen og en blokk som inneholder selve filen. Filene må også være kryptert med public key til Fiks Dokumentlager, som blir eksponert via endepunktet /digisos/api/v1/dokumentlager-public-key, på lik linje med kryptering av filer for for fagsystemene, som definert i Fiks Digisos klienten. Metadata består av filnavn på filen (filnavn), type (mimetype) og størrelse på filen i bytes (storrelse), der metadata-blokken er av typen \u0026ldquo;application/json\u0026rdquo;. Alle felter må oppgis.\nEksempel på metadata-blokk, som må defineres for hver fil:\n{ \u0026quot;filnavn\u0026quot;: \u0026quot;soknad.pdf\u0026quot;, \u0026quot;mimetype\u0026quot;: \u0026quot;application/pdf\u0026quot;, \u0026quot;storrelse\u0026quot; : 1024 } Innholdet i en request vil da kunne bestå av:\nsoknadJson, vedleggJson, metadata + soknad.pdf, metadata + vedlegg1.pdf, metadata + vedlegg2.pdf Returtype Ved en vellykket innsending får man tilbake 202 ACCEPTED og en unik Fiks DigisosId (UUID) som er ID-en til opprettet søknad i Fiks Digisos.\nVed feil ved opplasting får man 400 Bad Request når multipart-requesten ikke er definert med riktige data.\nInnsending av ny ettersendelse\nInnsending av ny ettersendelse til Fiks Digisos bruker også multipart streaming request.\nURL-stien til ny ettersendelse er /digisos/api/v1/soknader/{kommunenummer}/{soknadId}/{navEkseternRefId}, der {kommunenummer} er kommunenummer søknaden tilhører, {soknadId} er Fiks DigisosId-en for søknaden det skal ettersendes til og {navEkseternRefId} er en unik id fra NAV for denne ettersendelsen.\nEndepunktet tar inn påkrevde felter for innsending av en ny ettersendelse, som består av metadataen vedlegg.json (String), samt en liste med vedlegg (metadata + fildata). Filene må krypteres på lik linje som for ny søknad.\nFor hvert vedlegg som skal lastes opp legger man til en metadata-blokk som inneholder informasjon om filen (samme som innsending av ny søknad) og en blokk som inneholder selve filen.\nReturtype Det er ingen returtype på dette endepunktet.\nVed feil ved opplasting får man 400 Bad Request når multipart-requesten ikke er definert med riktige data.\nInnsending av søknad med mellomlagring For å sende inn søknad og ettersendelse med mellomlagring av vedlegg er det laget et nytt api: [(api-spec)](https://editor.swagger.io/?url=https://ks-no.github.io/api/digisos-mellomlagring-api-v1.json\nHer bruker man en multipart request på samme måte som ved innsending av søknad, men det skal kun legges ved en enkelt fil. Om det er flere vedlegg må de lastes opp en om gangen. Hver request må da bruke den samme {navEkseternRefId}. Vedleggene kan deretter lastes ned eller slettes fra mellomlageret ved bruk av dette api\u0026rsquo;et.\nNår det er klart for å sende inn søknad eller ettersendelse brukes et nytt api endepunkt på søknad spi\u0026rsquo;et med følgende URL: /digisos/api/v2/soknader/{kommunenummer}/{navEkseternRefId}\nDette fungerer på samme måte som det gamle api\u0026rsquo;et for søknad, men uten vedlegg. Vedleggene vil nå hentes fra mellomlager, knyttet til {navEkseternRefId} som oppgis her, og som ble benyttet til mellomlagring. Når innsending er ferdig, vil alle filene knyttet til denne {navEkseternRefId} slettes fra mellomlagring.\nAutomatisk sletting av mellomlagrede filer for søknader som ikke er sendt inn vil komme i en senere releas.\nHenting av filer Soknad api (api-spec)\nVed henting av søknad vil det for hver fil returneres en UUID til Fiks Dokumentlager eller en forsendelsesid og filnummer for SvarUt, der filen kan lastes ned. Filene soknad.json, vedlegg.json og digisos-soker.json vil være tilgjengelige for NAV gjennom endepunktet /digisos/api/v1/nav/soknader/{digisosId}/dokumenter/{dokumentlagerId} fra Digisos API-et, der dokumentet blir returnert som en inputstream fra HttpServletResponse. Alle andre filreferanser vil bli eksponert for søkeren, som søkeren selv må laste ned fra Fiks Dokumentlager, https://minside.kommune.no/dokumentlager/nedlasting/niva4/{id}, eller fra SvarUt, https://svarut.ks.no/forsendelse/{forsendelseId}/{filnummer}.\n"
},
{
	"uri": "/kslering/integrasjon/",
	"title": "KS læring integrasjon",
	"tags": [],
	"description": "",
	"content": "SIDEN ER UNDER UTVIKLING\nProsedyre for KS Læring HR API   Kommunens representant sender inn en bestilling via bestillingsskjemaet https://skjema.kf.no/FormsEngine/?wizardId=5497\u0026amp;externalid=ks Med bakgrunn i dette skjemaet, opprettes en sak hos KS. All skriftlig kommunikasjon går via den saken.\n  Teknisk dokumentasjon til kommune og utvikler\n  ks-hrdataapi_v3-20200128.pdf Dette dokumentet inneholder teknisk beskrivelse av KS HR API. Beskrivelsen er utarbeidet av Catalyst.\nPresentasjon API.pptx\nSaksbehandler i KS-læring kan kalle inn til et teamsmøte mellom de som skal utføre det tekniske arbeidet på begge sider, hvis ønskelig. En slik henvendelse tas via saken som ble opprettet under punkt 1\nEksempelkode for KS Læring HR-adapter mot Visma: https://github.com/ks-no/kslaring-hradapter-visma\nUtvikler hos kommunen leverer endepunktene som de har utviklet, til KS-læring (via saken som ble opprettet under punkt 1) Her må KS Læring få URLene til de obligatoriske endepunktene. Bekreft at IP 18.185.188.40 (jumpserver for lab-miljøet) og 18.197.107.188 (jumpserver for prod-miljøet) er whitelisted.  Loginmetode: Basic Auth med brukernavn og passord.\n KS læring tester alle endepunktene via curl i serveren\n  KS Læring tester endepunktene Authority og Organisation først i LAB\n  Når data er på plass må KS bekrefte med bestiller at org strukturen ser riktig ut før KS begynner med Person og Employee_position\nKS Læring tester endepunktene Person og Employee_position Når kunden/kommunen har bekreftet at organisasjonsstrukturen i LAB er riktig kan vi gå over til å teste Person og Employee_position.  Når data har kommet inn kan kunde logge inn og bekrefte at dataene ser riktig ut og personer ligger i riktig enhet. Hvis alt er på plass, kan databasen rulles tilbake og KS kan sette det opp i produksjon\nNår testingen er ferdig og alt ser bra ut i LAB kan KS sette opp APIet i prod.  "
},
{
	"uri": "/fiks-plattform/tjenester_under_utvikling/",
	"title": "Tjenester under utvikling",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-plattform/difiidportenklient/",
	"title": "Hvordan lage klient hos maskinporten",
	"tags": [],
	"description": "",
	"content": "For å ta i bruk maskinporten må dere ha:\n Avtale med Difi om bruk av maskinporten Virksomhetssertifikater for test- og produksjonsmiljøet Sendt e-post til fiks-utvikling@ks.no hvor dere informerer om at det er inngått en avtale med Difi om bruk av maskinporten og hvilket organisasjonsnummeret det gjelder  Godkjenne bruksvilkår for bruk av maskinporten  En må først ha godkjent bruksvilkår hos difi. Det har de fleste kommuner: https://samarbeid.difi.no/felleslosninger/maskinporten/ta-i-bruk-maskinporten/1-planlegge-og-akseptere-bruksvilkar  Virksomhetssertifikat  Dere må ha virksomhetsertifikat fra Commfides eller Buypass. Test sertifikat for test og vanlig for produksjon.  Opprette maskinporten-klient   Husk å sende e-post til fiks-utvikling@ks.no med organisasjonsnummeret. Det er mulig å fullføre opprettelsen av maskinport-klient uten at dette er på plass, men det må etterregistreres for å få klienten til å virke på Fiks-plattformen.\n  Gå til https://selvbetjening-samarbeid.difi.no/#/\n  logg inn\n  velg \u0026ldquo;Gå til integrasjoner\u0026rdquo;, for ver2 for test. Produksjon for prod.   velg \u0026ldquo;Ny integrasjon\u0026rdquo;   Sett Integrasjon for: for egen virksomhet -\u0026gt; integrasjonstype = maskinporten, -\u0026gt; velg scopes, Der skal du se ks:fiks i lista.\n  client_name: til et navn som passer\n  Difi-tjeneste: Maskinporten (for personinnlogging må du kontakte idporten@difi.no)\n  legg til scopes: ks:fiks ( Vises ikke dette har vi ikke fått korrekt org.nr fra dere, send det til fiks-utvikling@ks.no)\n  grant_types: urn:ietf:params:oauth:grant-type:jwt-bearer må være valgt\n  token_endpoint_auth_method: private_key_jwt   lagre -\u0026gt; Da får du client_id.   Hvis du skal ha personinnlogging med ks:fiks scope må du sende en henvendelse til servicedesk@digdir.no\n  "
},
{
	"uri": "/fiks-plattform/tjenester/dhis2/",
	"title": "Smittesporing ved bruk av DHIS2",
	"tags": [],
	"description": "",
	"content": "Formål Det er et fortløpende behov for å kartlegge hvor smitte foregår i samfunnet for å begrense spredningen av covid-19 og vurdere effekten av iverksatte smitteverntiltak og målrette nye tiltak ved behov. Denne type informasjon er ofte ukjent eller samlet inn på en usystematisk måte, som vanskeliggjør dens bruk som kunnskapsgrunnlag for vurdering av effekten av iverksatte smitteverntiltak.\nFolkehelseinstituttets (FHI) risikovurdering datert 5. april 2020, anbefaler at: \u0026ldquo;Tiltak for testing og isolering av smittede og oppsporing og oppfølging av deres nærkontakter må styrkes med tanke på at disse kan kompensere for kontaktreduserende tiltak som tas bort. [..] Dette vil også gi bedre kunnskap om epidemiens utvikling i befolkningen og dens fordeling i landet og i grupper av befolkningen [..]\u0026quot;\nSmittesporing er ressurskrevende og smitteverneffekten avhenger av hvor stor andel av nærkontaktene som blir smittet. Smittesporingstiltaket har også ringvirkninger ved at personer som defineres som nærkontakt må oppholde seg i hjemmekarantene. Folkehelseinstituttet arbeider med tre initiativer for å effektivisere smittesporingen:\n Vi forsterker veiledningen om smittesporing på vår hjemmeside og er i direkte dialog med kommuneoverleger. Vi arbeider med KS og kommunene med å tilrettelegge et digitalt verktøy, DHIS2 for å forenkle arbeidet med oversikt, dokumentasjon, oppfølging og statistikk for smittesporing. Vi jobber sammen med Simula og direktoratet for e-helse om en mobiltelefonapplikasjon som automatisk vil lage lister over personer (dvs. mobiltelefoner tilhørende disse) som indekspasienten har vært i nærkontakt med i relevant periodeog sende SMS varsel  Det er kommuneoverlegen som har ansvar for å følge opp covid-19 tilfeller, identifisere nærkontakter og følge opp disse i sine respektive kommuner. Kommunesektoren driver i dag manuell smittesporing hvor det er ønske med digitale verktøy til støtte for denne oppgaven. Enkelte kommuner har satt i gang prosesser for å anskaffes slike verktøy.\nBehov og bruksområdene for et digitalt verktøy for smittesporing i den enkelte kommune vil variere avhengig både av størrelsen på kommunen og antall bekreftede covid-19 tilfeller. De aller fleste kommuner vil kunne ha nytte av et digitalt verktøy som er brukervennlig og har informasjon om både covid-19 tilfeller og deres nærkontakter. Et verktøy som kan støtte kommunen i oppfølgingsarbeidet av personer i isolasjon og i karantene, og et verktøy som kan fremstille enkle statistiske oversikter, lage oppsummeringer over hvor personer smittes, og kunne sammenstille rapporter til deling internt og eksternt.\nNasjonalt er det også viktig å få en oversikt og kartlegge hvor smittespredning foregår i samfunnet, både for sporadiske tilfeller og utbrudd, Smitte kan forekomme blant husstandsmedlemmer, på jobb, på skole, i helseinstitusjon, på utesteder, arrangementer mv. Å vite hvor smitten skjer er viktig for å kunne vurdere effekten av de iverksatte smitteverntiltak og kunne målrette nye tiltak mot der smittespredningen skjer i samfunnet. I tillegg danner slik informasjon kunnskapsgrunnlag for bedre forståelse av epidemiens utvikling i Norge, spesielt i ulike grupper av befolkningen, og derav grunnlag for vurderinger rundt iverksetting av målrettede smitteverntiltak.\nKS har tatt initiativ til å få en felles løsning for kommunsektoren innenfor prosessene for smittesporing. Da det er tidskritisk å få en løsning tilgjengelig i kommunene er det lagt vekt på å implementere minimumskrav til en felles løsning uten å gå på bekostning av kvalitet. Dette dokumentet beskriver løsningen basert på applikasjonen DHIS2 covid-19 som er utviklet av Universitetet i Oslo (UiO) i programmet Health Information Systems Programme (HISP).\nDa dette er en ferdig løsning for alle kommunene er det i dokumentet ikke beskrevet funksjonalitet i løsningen. Det er lagt vekt på beskrivelse sett fra en brukerkommune – hva må kommunen ta stilling til utover det som leveres som felles? Dette for tydelig å beskrive hvilket ansvar den enkelte kommune har når den tar i bruk løsningen.\nProduktbeskrivelse Arkitektur og funksjonalitet KS skal levere en digital tjeneste for smittesporing til bruk i landets kommuner. I dag foregår manuell smittesporing i de fleste kommuner, ved hjelp av telefon og papir. Noen kommunner har opprettet enkle excel-baserte databaser. Smittesporing utføres av ansatte (lege, kommunelege, andre ansatte) i kommunene som intervjuer den som er smittet og etterpå personer den smittede har vært i kontakt med, og det settes i gang tiltak for å følge opp disse personene. Denne informasjonen ønskes nå innsamlet gjennom DHIS2, slik at kommunen skal kunne få hjelp til å identifisere og systematisere tilfeller og deres kontakter, og danne seg en oversikt over hvor smitte foregår i samfunnet for rapportering til FHI og for iverksetting av målrettede smitteverntiltak.\nLøsningen er basert på systemet DHIS2 som har en egen modul for behandling av covid-19. Når det i dokumentet står DHIS2 menes covid-19 modulen. Data bygges opp manuelt i systemet eller ved excel-import. ID-porten blir benyttet for autentisering. Det er ingen grensesnitt til andre systemer.\nSystemet har en felles installasjon for alle kommunene og leveres som en skytjeneste. Dette gir en felles forståelse av informasjonen i systemet og effektiviserer rapporteringen i kommunene og til FHI. Rapportering om smittesporing fra kommunene er et viktig verktøy for å vurdere nasjonale smittereduserende tiltak og effekten av disse. En felles skytjeneste forenkler det å ta i bruk løsningen og nye versjoner.\nFiguren under beskriver de overordnede prosessene som inngår i tjenesten Smittsporing.\nFunksjonaliteten i DHIS2 er kort fortalt registrering av informasjon om smittet og hvem den smittede har vært i nærkontakt med, innsamlet gjennom intervju. Nærkontakter er definert av FHI som personer som har hatt tett kontakt med en person som er bekreftet syk med covid-19 fra 48 timer før symptomdebut og til personen er avisolert. Disse er etter covid-19 forskriften pålagt å være i karantene. De som har nærmest kontakt, har størst risiko for å være smittet. Ved sannsynlig, men ikke bekreftet covid-19, anbefales det at husstandsmedlemmer eller tilsvarende nære kontakter oppholder seg i karantene. Gjeldende definsjon og retningslinjer for smittetifeller og nærkontakter finnes på FHI sine nettsider. https://www.fhi.no/nettpub/coronavirus/helsepersonell/definisjoner-av-mistenkte-og-bekreftede-tilfeller-med-koronavirus-coronavir/\nSmittet og nærkontakter samles i et felles personregister slik at en unngår dobbeltregistrering. Ved innsamling av informasjon kan ansatte bruke andre kilder som folkeregisteret, karttjenester, arrangementinformasjon, etc.\nI tillegg til smittet og nærkontakter kan det registreres hendelser som er en samling av mange personer, hvor smittet og nærkontakter har deltatt. Eksempler på hendelser kan være konserter, samlinger, sykehjem, barnehage, etc.\nSmittet og nærkontakter følges opp med tiltak og oppfølging parallelt med rapportering til kommunene og FHI.\nKonfigurasjonen av DHIS2 covid-19 for kommunene består av skjema og indikatorer utarbeides i samarbeid mellom kommunene og FHI. Produkteier i KS koordinerer dette arbeidet.\nOrganisasjon DHIS2 er et fellessystem hvor øverste organisasjonsenhet er Norge. Landet er videre delt opp i fylkeskommuner og kommuner. På denne måten kan det lages rapporter pr. kommune som aggregeres opp til en nasjonal oversikt. Dette er en viktig egenskap ved tjenesten da oppfølging og ansvar for covid-19 smitte og -tiltak ligges hos FHI.\nRegister over Kommuner og fylkeskommuner er registert med kommunenummer i henhold til Kartverkets kommuneregister. Dette kan ikke endres, men det kan legges til organisatoriske enheter innenfor hver kommune. Dette kan være bydel som de største kommunene benytter.\nBrukeradministrasjon og tilgangsstyring DHIS2 er en skytjeneste hvor tilgang (auturisasjon) gis på kommunenivå.\nAutentisering av brukere skjer ved bruk av ID-porten.\nNår en kommune ønsker å ta i bruk DHIS2 må de ha en signert avtale om bruk av Fiks-plattformen med et tjenestevedlegg om bruk av DHIS2. Administrator i kommunen får da tilgang til løsningen og kan registrere flere brukere i sin kommune. Standard roller er definert som:\n   Rolle Beskrivelse Tilgang     Administrator Administrerer brukere og tilganger til systemet Administrasjon av brukere og gi tilgang til systemet I egen kommune   Kommunebruker Se og registrere opplysninger Alt innenfor egen kommune utover å gi nye brukere tilgang    Registrering av roller skjer i Fiks-konfigurasjon. Administrator på Fiks-plattformen opprettes når det inngås avtale mellom kommune og KS om bruk av Fiks-plattformen.\nSkjema og indikatorer DHIS2 er en generisk løsning hvor hvilken informasjon og regler løsningen skal inneholde settes opp i en konfigurasjon. Registrering av disse opplysningene (metadata) og skjema for registrering av løsningen gjøres sentralt av Fiks forvaltning.\nTilpasninger til den enkelte kommune er ikke mulig. Behov meldes inn til produktansvarlig i KS og vurderes tatt med i DHIS2 ved senere versjoner.\nRapportering til FHI Det er en forutsetning at nødvendig data for den nasjonale oversikten av smittespredning i sammfunnet samles inn og rapporteres på en enkel og betimellig måte. For å kunne vurdere effekten av de iverksatte smitteverntiltakene og evaluere hvordan endringer av tiltakene påvirker smittespredningen i samfunnet er det ønskelig at kommunen innhenter og rapporterer ukentlige aggregerte data til FHI om:\ni. antall tilfeller og nærkontakter ii.\tantall og andel påviste covid-19 tilfeller med kjent eksponering til nærkontakt fordelt etter eksponeringssted: husstand, barnehage, skole (1.-12. trinn), universitet eller høyskole, arbeidsplass, helseinstitusjon (sykehjem, aldershjem, rehabilitering, sykehus etc.), arrangement, organisert fritidsaktivitet, reise, ukjent iii.\tantall og andel covid-19 tilfeller etter kjent eksponering til en felles smittekilde (utbrudd) fordelt på smittested\nImport fra registrerte opplysninger i excel Det er utviklet et excel regneark som kan benyttes ved import av registrerte smittede og nærkontakter før DHIS2 tas i bruk. Data fra kommunen må da registreres i regnearket og sendes til Fiks for opplasting i databasen. I første omgang gjøres dette i testdatabasen med anonymiserte data for å verifisere at opplastning gir forventet resultat.\nTidligere smittesporing kan også registreres tilbake i tid direkte i DHIS2. Det vil være en fordel for oversikten av utviklingen av epiemien i Norge over tid å få samlet tidligere smittesporingsdata fra kommunene i DHIS2.\nSikkerhet Ivaretakelse av digital sikkerhet i nasjonale felleskomponenter og andre samfunnskritiske systemer som leveres av virksomheter i offentlig sektor, må ha et særskilt fokus. Med økt fokus på innebygget personvern og informasjonssikkerhet blir Fiks-plattformen stadig bedre sikret, og er i seg selv å anse som et godt sikringstiltak for kommunal sektor.\nKS Fiks har utarbeidet en påbegynt mal for risikovurdering av hele verdikjeden, dvs. fra kommunens forretningskritiske prosesser til innbyggeren. Målet med risikovurderingen er å sette den digitale fellestjenestene inn i rett kommunal kontekst.\nPå samme måte har KS også påbegynt en vurdering av personvernkonsekvenser (DPIA) ved bruk av tjenesten, som kommunene kan velge å benytte.\nDen enkelte digitale fellestjeneste avtalefestes ved et eget tjenestevedlegg til den grunnleggende avtalen om tilknytning og bruk av Fiks-plattformen.\nBruken av DHIS2 Det er viktig å påpeke at hver enkelt kommune selv må ta eierskap til de overnevnte dokumentene KS, som databehandler, utarbeider. Kommunen må se sikringen i egne prosesser og gjøre evt. endringer som er aktuelle for sin kommune før de går god for gjenværende risiko og tar denne tjenesten i bruk.\nKommunene er selv ansvarlig for brukerforvaltning, som å legge til nye brukere, endre roller og sletting av brukere. Dette inngår som en naturlig del av de organisatoriske tiltakene kommunen selv må ta ansvar for og følge opp.\nKlassifisering av informasjon DHIS2 inneholder mye personopplysninger, og en del særlige kategorier av personopplysninger. Dette betyr at det stilles høye krav til sikring av informasjon med hensyn til å ivareta de registrertes rettigheter og friheter. Jf. det tidligere nevnte DPIA-dokumentet.\nTeknologiske sikringstiltak Digdirs fellestjenester ID-porten og maskinporten benyttes til autentisering, og benyttes som identitetsbærer i hele Fiks-plattformen. ID- og maskinporten-tokens benyttes også som grunnlag for plattformens gjennom-gående autorisasjonslag, som benyttes på tvers av alle tjenester. Gjennom faste prinsipper og komponenter oppnår plattformen er veletablert og godt testet funksjonalitet for autentisering og autorisasjon.\nData i bevegelse skal i Fiks-plattformen beskyttes med kryptering (TLS/SSL) og skal også være kryptert . Alle vesentlige operasjoner i Fiks-plattformen skal være sporbare og logges til en tilgangs-beskyttet sikkerhetslogg (audit log).\nUtvikling av Fiks-plattformen følger prinsippene for innebygget personvern med grunnleggende opplæring i personvern og informasjonssikkerhet, avdekking av krav til personvern og informasjonssikkerhet ved systematisk arbeid med DPIA og ROS, sikker design vha. trusselmodellering og STRIDE, sikker koding med bruk av statisk kodeanalyse, automatisk oppdatering av sårbare avhengigheter, sikkerhetstesting på flere nivåer med enhetstesting, integrasjonstesting og akseptansetesting samt automatisert bygging og produksjonssetting som kun gjennomføres etter at tester og kvalitetskriterier er oppfylt.\nDrift av Fiks-plattformen Alle tjenester i Fiks-plattformen går gjennom både ingressfiltrering, WAF (web application firewall) og overvåkes av operative sikkerhetssentre i flere lag. Datasentrene Fiks-plattformen kjører på er begge ISO27001-sertifisert og det blir gjennomført årlige revisjoner av informasjonssikkerhet og personvern. Revisjonene blir gjennomført av tredjeparts revisorer etter revisjonsstandardene ISAE-3402 og ISAE-3000. Driftsmiljøet overvåkes av driftsleverandørens eget sikkerhetsoperasjonssenter og NorCERT.\nTestmiljø All utvikling av Fiks-plattformen foregår i et eget test- og utviklingsnett (heretter testmiljøet). Testmiljøet skal ikke inneholde reelle personopplysninger. Data skal ikke overføres mellom test- og produksjonsmiljø. I testmiljøet skal det kun benyttes anonymiserte, avidentifiserte eller samtykkebaserte data. Alle endringer kjøres først ut i test- og utviklingsmiljøet, før det settes i produksjon. I testmiljøet kjøres blant annet akseptansetest før en vesentlig endring går i produksjon. Testmiljøet er også benyttet i forbindeles med tilgjengeliggjøring av og integrasjon mellom Fiks-plattformen og DHIS2 covid-19.\nAvhengigheter Fiks-plattformen Forutsetning for ta i bruk DHIS2 er at det finnes en SSA-L avtalen mellom KS og kommunen om bruk av Fiks-plattformen i kommunen. Det er en egen avtale for bruk av DHIS2 med covid-19 modul som er et tjenestevedlegg til SSA-L. Tjenestevedlegget inneholder databehandleravtale mm. Når avtaler er på plass setter kommunen selv opp tilgang til løsningen ved at administrator registrere brukere med roller.\nBruk av standarder Begreper    Term Beskrivelse     Testing Prosessen med å diagnostisere covid-19 med påvisning av viruset eller antistoff mot SARS-CoV-2 i en kroppsvæske. Består av tre hovedledd: Prøvetaking, analyse og besvarelse   Prøvetaking Taking av prøve fra biologisk materiale hos en person   Analyse Forsøk på å påvise arvestoff fra SARS-CoV-2 eller antistoffer mot SARS-CoV-2 i en prøve fra en person   Smitteoppsporing (kontaktsporing, smittesporing) Prosessen med å finne, informere og eventuelt følge opp eller teste smittekontakter   Indekspasient En person som får positiv test og som dermed utløser en smitteoppsporing   Smittekontakter (nærkontakter) Personer som har opplevd en smittefarlig hendelse med indekspasienten, altså den type interaksjon som var nær, varte lenge og skjedde i indekspasientens smittsomme periode slik at smitte kan ha skjedd   Smittekilde Den smittekontakten som smittet indekspasienten   Sekundærkontakter De smittekontakter som er blitt smittet av indekspasienten   Smittefarlig hendelse En type interaksjon som var nær, varte lenge og skjedde i indekspasientens smittsomme periode slik at smitte kan ha skjedd    Avgrensning Felles kommunal løsning Tjenesten er en felles kommunal løsning som settes opp likt for alle kommuner. Dette gjør at løsning hurtig blir tilgjengelig for kommunene og nye versjoner kan raskt gjøres tilgjengelig.\nNasjonale felleskomponenter Id-porten benyttes for autentisering av personer som bruker løsningen.\nKompetanse FHI ønsker å veilede og bidra til å forbedre kompentase til helsetjenesten om smittesporingsarbeid og vurderinger rundt karanteneperioder. I den sammenheng er FHI i ferd med å utvikle et opplæringseminar for smittesporingspersonale i kommunene, som er tilpasset de praktiske og faktiske forholdene rundt covid-19, koronavirus.\nKunnskap om koronavirus og smittesporing Det er viktig at de som arbeider med smittesporing, hurtig kan sette seg inn i intervjurollen og har basiskunnskap om covid-19 da personer som kontaktes gjerne har spørsmål. I den sammenheng har FHI utviket en koronaveilder som er tilgjengelig på FHI sine nettsider: https://www.fhi.no/nettpub/coronavirus/\nKunnskap om systemet DHIS2-covid-19 KS arbeider med en veileder for brukere av systemet.\nAlle kurs vil gjøres tilgjengelig på KS-læring.\nReferanser  Bestilling av tilgang til Fiks smittesporing: smittesporing@ks.no Informasjon om DHIS2 Covid-19: https://www.dhis2.org/covid-19 Coronaveileder https://www.fhi.no/nettpub/coronavirus/ Kontaktsporing og oppfølging av kontakter til personer med nytt koronavirus (coronavirus) https://www.fhi.no/nettpub/coronavirus/helsepersonell/definisjoner-av-mistenkte-og-bekreftede-tilfeller-med-koronavirus-coronavir/?term=\u0026amp;h=1 Hjemmekarantene og hjemmeisolering - råd til helsepersonell https://www.fhi.no/nettpub/coronavirus/helsepersonell/hjemmekarantene-og-hjemmeisolering-i-forbindelse-med-covid-19/?term=\u0026amp;h=1  "
},
{
	"uri": "/fiks-plattform/tjenester/fiksio/arkivlett/",
	"title": "Fiks IO Arkivlett Byggesak",
	"tags": [],
	"description": "",
	"content": " Tjenesten er under utvikling/testing/pilotering\n Fiks IO Arkivlett Byggesak er en tjeneste for å spørre etter relevante dokumenter i en byggesak. Løsningen benytter FIKS IO for maskin til maskin integrasjon\nLøsningen vil typisk kunne brukes av et søknadssystem for byggesaker til å finne tidligere tegninger eller vedtak på en eiendom som er relevant for videre tiltak på eiendommen.\nLøsningskonsept Hvordan ta i bruk Fiks IO Arkivlett Byggesak For at søknadssystem for byggesaker skal få tilgang til å sende forespørsel om byggesaker på en eiendom til arkivet, så må kommunen aktivere tjenesten Fiks IO i Fiks Konfigurasjon.\nAktuellt system for mottak av arkivlett meldinger må aktiveres for å kunne svare på meldingsprotokoll no.dibk.arkivlett.byggesak.v1\nSikkerhet sjekkliste Løsningen for å utlevere informasjon må være vurdert av behandlingsansvarlig(kommunen) for å ivareta den registrertes rettigheter. Databehandler(Leverandør) må dokumentere at personopplysninger behandles etter innstruks fra behandlingsansvarlig.\n Skal det tilgjengeliggjøres fra en eksisterende løsning med kun offentlig informasjon? Hva er risiko for at gradert informasjon eller informasjon untatt offentlighet kommer ut? Avklares nærmere i pilot  Flyt  Søknadssystem sjekker om valgt kommune har system som støtter meldingsprotokollen for arkivlett i kontokatalogen Hvis kommune har system som støtter arkivlett kan forespørsel sendes Søknadssystem sender forespørsel om informasjon om byggesaker som gjelder aktuell eiendom Arkivlett system mottar melding og validerer om meldingen er ok Hvis feil i utfylling eller eiendom ikke finnes så returneres feil Hvis melding er ok så sendes mottatt melding Arkivlett system gjør søk i relevante arkivdeler med de sikkerhetsavklaringer som kommunen har gjort om utlevering av informasjon fra disse Resultatmelding lages og sendes tilbake til søknadssystem Søknadssystem vise resultatet til søker  Fiks IO meldingsprotokoll for arkivlett byggesak Meldingsprotokoll som arkivlett mottaksklient må støtte no.dibk.arkivlett.byggesak.v1\nOppslag på kontoer som støtter meldingsprotokoll for arkivlett byggesak For å finne hvilke konto en skal sende meldinger til så kan en slå opp dette i adresse katalogen til FIKS IO\nvar kontoliste = client.Lookup(new LookupRequest(\u0026#34;ORG_NO.987654321\u0026#34;, \u0026#34;no.dibk.arkivlett.byggesak.v1\u0026#34;, 3)); var kontoliste = client.Lookup(new LookupRequest(\u0026#34;KOMM.3817\u0026#34;, \u0026#34;no.dibk.arkivlett.byggesak.v1\u0026#34;, 3)); Fra søknadssystem/fagsystem:  Forespørsel om å hente byggesaker for en eiendom: no.dibk.arkivlett.byggesak.hentbyggesaker.v1 Datamodell hentbyggesaker.v1.schema.json  Eksempel message.json:\n{ \u0026#34;matrikkelnummer\u0026#34;: { \u0026#34;kommunenummer\u0026#34;: \u0026#34;3817\u0026#34;, \u0026#34;gaardsnummer\u0026#34;: \u0026#34;49\u0026#34;, \u0026#34;bruksnummer\u0026#34;: \u0026#34;130\u0026#34;, \u0026#34;festenummer\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;seksjonsnummer\u0026#34;: \u0026#34;0\u0026#34; } } Eksempel kode:\nvar messageRequest = new MeldingRequest( mottakerKontoId: receiverId, avsenderKontoId: senderId, meldingType: \u0026#34;no.dibk.arkivlett.byggesak.hentbyggesaker.v1\u0026#34;); List\u0026lt;IPayload\u0026gt; payloads = new List\u0026lt;IPayload\u0026gt;(); payloads.Add(new StringPayload(jsonMessage, \u0026#34;message.json\u0026#34;)); var msgSent = client.Send(messageRequest, payloads).Result; Fra arkivlett klienter:  Mottak vellykket: no.dibk.arkivlett.mottatt.v1 Mottak feilet: no.dibk.arkivlett.feil.v1 Resultat til forespørsel om eiendommens byggesaker: no.dibk.arkivlett.byggesak.resultat.v1 Datamodell resultatbyggesaker.v1.schema.json  Eksempel resultat.json:\n[ { \u0026#34;byggesak\u0026#34;: { \u0026#34;tittel\u0026#34;: \u0026#34;Svingen 25, 49/130 - Nytt bygg - Boligformål\u0026#34;, \u0026#34;beskrivelse\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;mappeId\u0026#34; : \u0026#34;1969/4567\u0026#34;, \u0026#34;saksstatus\u0026#34;: { \u0026#34;kodeverdi\u0026#34;: \u0026#34;AVSLUTTET\u0026#34;, \u0026#34;kodebeskrivelse\u0026#34;: \u0026#34;Avsluttet\u0026#34; }, \u0026#34;saksdato\u0026#34;: \u0026#34;1969-12-20\u0026#34;, \u0026#34;saksansvarlig\u0026#34;: \u0026#34;Hilde\u0026#34;, \u0026#34;administrativEnhet\u0026#34;: \u0026#34;Teknisk eining/Byggesak\u0026#34;, \u0026#34;adresse\u0026#34;: \u0026#34;Svingen 25\u0026#34;, \u0026#34;avsluttetDato\u0026#34;: \u0026#34;1971-06-10\u0026#34;, \u0026#34;saksnummer\u0026#34;: { \u0026#34;saksaar\u0026#34;: \u0026#34;1969\u0026#34;, \u0026#34;sakssekvensnummer\u0026#34;: \u0026#34;4567\u0026#34; }, \u0026#34;tiltakstype\u0026#34;:{ \u0026#34;kodeverdi\u0026#34;: \u0026#34;nyttbyggboligformal\u0026#34;, \u0026#34;kodebeskrivelse\u0026#34;: \u0026#34;Nytt bygg - Boligformål\u0026#34; }, \u0026#34;tiltakshaver\u0026#34;: \u0026#34;Scott Owren\u0026#34;, \u0026#34;ansvarligSoeker\u0026#34;: \u0026#34;Arkitekt Flink\u0026#34;, \u0026#34;matrikkelnummer\u0026#34; : { \u0026#34;kommunenummer\u0026#34;: \u0026#34;3817\u0026#34;, \u0026#34;gaardsnummer\u0026#34;: \u0026#34;49\u0026#34;, \u0026#34;bruksnummer\u0026#34;: \u0026#34;130\u0026#34;, \u0026#34;festenummer\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;seksjonsnummer\u0026#34;: \u0026#34;0\u0026#34; }, \u0026#34;dokumentlisteBeskrivelse\u0026#34;: \u0026#34;Gjeldende dokumenter som ikke er untatt offentlighet\u0026#34;, \u0026#34;dokumenter\u0026#34;: [ { \u0026#34;tittel\u0026#34;: \u0026#34;Søknad om tillatelse til tiltak i ett trinn\u0026#34;, \u0026#34;dokumenttype\u0026#34;:{ \u0026#34;kodeverdi\u0026#34;: \u0026#34;SØKNAD\u0026#34;, \u0026#34;kodebeskrivelse\u0026#34;: \u0026#34;Søknad\u0026#34; }, \u0026#34;referanseDokumentfil\u0026#34;: \u0026#34;søknad.pdf\u0026#34;, \u0026#34;filstoerrelse\u0026#34;: 12345, \u0026#34;mimeType\u0026#34; : \u0026#34;application/pdf\u0026#34;, \u0026#34;dokumentetsdato\u0026#34; : \u0026#34;1969-12-20\u0026#34; }, { \u0026#34;tittel\u0026#34;: \u0026#34;Fasadetegning sør\u0026#34;, \u0026#34;dokumenttype\u0026#34;:{ \u0026#34;kodeverdi\u0026#34;: \u0026#34;TEGNING\u0026#34;, \u0026#34;kodebeskrivelse\u0026#34;: \u0026#34;Tegning\u0026#34; }, \u0026#34;referanseDokumentfil\u0026#34;: \u0026#34;tegning.pdf\u0026#34;, \u0026#34;filstoerrelse\u0026#34;: 12345, \u0026#34;mimeType\u0026#34; : \u0026#34;application/pdf\u0026#34;, \u0026#34;versjon\u0026#34; : \u0026#34;2\u0026#34;, \u0026#34;dokumentetsdato\u0026#34; : \u0026#34;1969-12-22\u0026#34;, \u0026#34;vedtaksstatus\u0026#34; : { \u0026#34;kodeverdi\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;kodebeskrivelse\u0026#34;: \u0026#34;Godkjent\u0026#34; }, \u0026#34;vedtaksdato\u0026#34; : \u0026#34;1971-06-10\u0026#34;, \u0026#34;SystemId\u0026#34; : \u0026#34;ea495f29-54e5-4c10-b14d-606d7fe92a7f\u0026#34;, \u0026#34;ErstatterTidligereSystemId\u0026#34; : \u0026#34;bf6a8349-4788-41e2-80c1-2a64a9717dd9\u0026#34; } ] } }, { \u0026#34;byggesak\u0026#34;: { \u0026#34;tittel\u0026#34;: \u0026#34;Straumsnesvegen 100B, 15/1/2 - Oppføring av hytte\u0026#34;, \u0026#34;dokumenter\u0026#34;: [ { \u0026#34;tittel\u0026#34;: \u0026#34;testfil1\u0026#34;, \u0026#34;referanseDokumentfil\u0026#34;: \u0026#34;tegninghytte.pdf\u0026#34; }, { \u0026#34;tittel\u0026#34;: \u0026#34;testfil2\u0026#34; } ] } } ] Eksempel kode:\nvar messageRequest = new MeldingRequest( mottakerKontoId: receiverId, avsenderKontoId: senderId, meldingType: \u0026#34;no.dibk.arkivlett.byggesak.resultat.v1\u0026#34;); List\u0026lt;IPayload\u0026gt; payloads = new List\u0026lt;IPayload\u0026gt;(); payloads.Add(new StringPayload(jsonMessage, \u0026#34;resultat.json\u0026#34;)); payloads.Add(new FilePayload(\u0026#34;søknad.pdf\u0026#34;)); payloads.Add(new FilePayload(\u0026#34;tegning.pdf\u0026#34;)); payloads.Add(new FilePayload(\u0026#34;tegninghytte.pdf\u0026#34;)); var msgSent = client.Send(messageRequest, payloads).Result; Overføring av filer Dokumenttyper ihht Arkivlett anbefales https://www.ks.no/fagomrader/digitalisering/felleslosninger/verktoykasse-plan--og-byggesak/enklere-tilgang-til-kommunale-byggesaksarkiv/\n   Tittel Dokumenttype fra Arkivlett     Situasjonsplan KART   Tegning eksisterende plan TEGNING   Tegning ny plan TEGNING   Tegning eksisterende snitt TEGNING   Tegning nytt snitt TEGNING   Tegning eksisterende fasade TEGNING   Tegning eksisterende snitt TEGNING   Tegning ny fasade TEGNING   ByggesaksBIM TEGNING   Tegning eksisterende snitt TEGNING   Tegning eksisterende snitt TEGNING   \u0026hellip;.     "
},
{
	"uri": "/fiks-plattform/sikkerhet/",
	"title": "Sikkerhet og personvern i Fiks-plattformen",
	"tags": [],
	"description": "",
	"content": "Denne siden gir en generell innføring i hvordan personvern og informasjonssikkerhet (sikkerhet) er ivaretatt i Fiks-plattformen. Under beskrives hvordan vi har sikret tjenestene på en ovordnet nivå.\nGenerelt om sikkerhet Ivaretakelse av digital sikkerhet i nasjonale felleskomponenter og andre samfunnskritiske systemer som leveres av virksomheter i offentlig sektor, må ha et særskilt fokus. Med økt fokus på innebygget personvern og informasjonssikkerhet blir Fiks-plattformen stadig bedre sikret, og er i seg selv å anse som et godt sikringstiltak for kommunal sektor.\nKS Fiks har for noen av tjenestene utarbeidet en utfylt mal for risikovurdering av hele verdikjeden, dvs. fra kommunens forretningskritiske prosesser til innbyggeren. Målet med denne risikovurderingen er å hjelpe kommunen med å få gjennomført en slik risikovurdering.\nPå samme måte har KS også påbegynt en vurdering av personvernkonsekvenser (DPIA) ved bruk av tjenesten, som kommunene kan velge å benytte.\nDen enkelte digitale fellestjeneste avtalefestes ved et eget tjenestevedlegg til den grunnleggende avtalen om tilknytning og bruk av Fiks-plattformen.\nStyringsystem for personvern og informasjonssikkerhet Avdeling for digitale fellestjenester har etablert og jobber etter et eget styringssystem for personvern og informasjonssikkerhet. Styringssystemet bygger på anerkjente standarder som ISO27001, ISO27701 og NSMs grunnprinsipper for IKT-sikkerhet. For full beskrivelse av styringsssystem og risiko- og sårbarhetsanalyser for den enkelte tjeneste, se sikkerhetsdokumentasjon på forvaltning.fiks.ks.no. Tilgangen der er begrenset til personer som er administrator for en organisasjon i Fiks-plattformen.\nOverordnet om teknologiske sikringstiltak Digdirs fellestjenester ID-porten og maskinporten benyttes til autentisering, og benyttes som identitetsbærer i hele Fiks-plattformen. ID- og maskinporten-tokens benyttes også som grunnlag for plattformens gjennom-gående autorisasjonslag, som benyttes på tvers av alle tjenester. Gjennom faste prinsipper og komponenter oppnår plattformen er veletablert og godt testet funksjonalitet for autentisering og autorisasjon.\nUtvikling av Fiks-plattformen følger prinsippene for innebygget personvern med grunnleggende opplæring i personvern og informasjonssikkerhet, avdekking av krav til personvern og informasjonssikkerhet ved systematisk arbeid med DPIA og ROS, sikker design vha. trusselmodellering og STRIDE, sikker koding med bruk av statisk kodeanalyse, automatisk oppdatering av sårbare avhengigheter, sikkerhetstesting på flere nivåer med enhetstesting, integrasjonstesting og akseptansetesting samt automatisert bygging og produksjonssetting som kun gjennomføres etter at tester og kvalitetskriterier er oppfylt.\nOpplæring Alle i KS\u0026rsquo; avdeling for digitale fellestjenester får grunnleggende opplæring i personvern og informasjonssikkerhet. Alle utviklere vil jevnlig få opplæring og trening i sikker utvikling.\nAutentisering og autorisering Fiks-plattformens tjenester benytter som hovedregel ID-porten og Maskinporten fra Digitaliseringsdirektoratet (digdir) for autentisering av brukere. Spesifikke mekanismer for autentisering og autorisering avhenger av kontekst:\nPrivatpersoner Dette kan for eksempel være en innbygger som finner barnehagesøknaden sin i Fiks Innsyn.\nPersoner autentiseres ved hjelp av Open-Id Connect løsningen til ID-Porten. Dette vil si at de (om de ikke allerede er innlogget) dirigeres til ID-Porten for innlogging ved hjelp av for eksempel MinId eller BankId. ID-Porten og Fiks utveksler så informasjon for å bekrefte brukerens identitet og hvilket innloggingsnivå som er benyttet. Utgåtte innlogginger vil automatisk bli fornyet.\nDenne typen innlogging krever som regel ikke videre autorisering - en person har tilgang til informasjon og tjenester som er eksponert på det aktuelle fødselsnummeret.\nPersoner som opererer på vegne av en organisasjon Når en person autentiserer seg på Fiks-plattformen (som beskrevet over) vil plattformen hente denne personens roller i næringslivet fra Altinn, og gi personen mulighet til å opptre på vegne av organisasjoner hvor han eventuelt måtte ha en rolle. Han vil så få tilgang til informasjon og tjenester som er eksponert på det aktuelle orgnummeret.\nOm det etterhvert kommer flere kilder for slike fullmakter (som for eksempel gir mulighet for å opptre på vegne av andre organisasjoner) vil Fiks-plattformen kunne støtte dette gjennom samme løsning.\nTjenesteforvaltere Dette er personer som forvalter en tjeneste på Fiks-plattformen på vegne av en Fiks-organisasjon, for eksempel en kommuneansatt som konfigurerer Fiks Innsyn eller sender forsendelser gjennom SvarUt. Disse autentiseres gjennom ID-Porten OpenID-Connect på samme måte som andre personer, og autorisereres for hver enkelt tjeneste og funksjon basert på privilegier organisasjonen har tildelt personen gjennom Fiks-konfigurasjon.\nNår organisasjonen opprettes settes et personnummer som administrator. Dette er en \u0026ldquo;superbruker\u0026rdquo;, administrator-privilegiet gir alle tilganger på en kommune. En administrator kan lage andre administratorer, både på organisasjonsnivå og for de enkelte tjenestene. Han kan også tildele mer spesifikke privilegier, for eksempel ved å gi en person rett til å sende SvarUt forsendelser på vegne av en avdeling i kommunen. KS anbefaler at denne funksjonaliteten benyttes slik at ansatte ikke har tilganger utover det som er nødvendig for å utføre arbeidsoppgavene, og at tildelte privilegier følges opp, slik at endringer (person som bytter rolle, person som slutter i sin stilling) reflekteres i tildelte privilegier.\nTildeling av privilegier er underlagt audit-logging, se under for detaljer.\nIntegrasjoner De fleste tjenestene på Fiks-plattformen har mulighet for maskin-til-maskin integrasjon, for eksempel når et saksystem laster opp meldinger til Fiks Innsyn. Dette gjøres gjennom å opprette integrasjoner, som autentiseres ved hjelp av et virksomhetsertifikat-basert access token utstedt av ID-Porten i kombinasjon med integrasjonsid og passord generert av Fiks-konfigurasjon. Se [integrasjoner]/fiks-plattform/integrasjoner/ for mer informasjon om oppsett av dette.\nIntegrasjoner autentiseres gjennom to mekanismer: for det første trenger man en kombinasjon av integrasjonId og passord som genereres via Fiks Konfigurasjon. For det andre benyttes et virksomhetssertifikat og ID-Porten for å bekrefter identiteten til virksomheten som drifter integrasjonen. Denne identiteten må sammsvare med orgnummer som er registrert som integrasjonseier i Fiks-konfigurasjon. Se \u0026ldquo;Integrasjoner\u0026rdquo; for en mer detaljert beskrivelse.\nAutorisering av integrasjoner gjøres på bakgrunn av privilegier tildelt i Fiks-konfigurasjon. Hver Fiks-organisasjon må eksplisitt si at en integrasjon skal ha tilgang til sine systemer, for eksempel ved å gi svarut integrasjonen tilgang til en kommunes Fiks Innsyn tjeneste.\nEn slik autorisasjon kan når som helst trekkes tilbake.\nSterk autentisering (to-faktor) Sterk autentisering benyttes som standard.\nArkitektur- og trusselmodellering Alle komponenter i Fiks-plattformen blir analysert og risikovurdert underveis som en del av utviklingsprosessen. Resultatet er at alle komponenter i Fiks-plattformen er analysert for å analysere angrepsflaten, finne mulige problemer og gjøre tiltak for å demme opp for avdekkede svakheter. Metodisk gjøres det først en arkitekturmodellering og deretter en STRIDE-analyse.\nTredjepartsbiblioteker (open source) For å sikre oss som best vi kan at ikke vi drar med oss kjente feil inn i egne tjenester benytter vi en av dagens beste løsninger for dette, github sine sikkerhetstjenester \u0026ldquo;Github Security Advisories\u0026rdquo;, \u0026ldquo;Security Alerts\u0026rdquo; og \u0026ldquo;Automated pull requests for security updates\u0026rdquo;.\nBeskyttelse av data (kryptering) All kommunikasjon mellom Fiks-plattformen og integrasjoner/personer er kryptert med TLS. All data som lagres på disk er enten individuelt kryptert (for eksempel gjennom sikker lagring i Fiks Dokumentlager), eller lagres på krypterte filsystemer.\nSporbarhet (sikkerhetslogg/audit logging) Selv om grunnprinsippet er at det bare er innbyggeren selv som har tilgang til sine data vil noen tjenester gjør data om en person tilgjengelig for andre, for eksempel når en kommuneansatt gjør ett oppslag mot et nasjonalt register. I slike tilfeller vil dette bli dokumentert i tjenstebeskrivelsen, autorisert eksplisitt i Fiks-konfigurasjon, og underlagt audit-logging, slik at det blir mulig å se hvem som har hatt tilgang til hvilke data når, og under hvilken lovhjemmel tilgangen ble oppnådd.\nDenne loggen vil, der det er nødvendig, gjøres tilgjengelig for administrator i Fiks-organisasjonen.\nDrift av Fiks-plattformen Alle tjenester i Fiks-plattformen går gjennom både ingressfiltrering, WAF (web application firewall) og overvåkes av operative sikkerhetssentre i flere lag. Datasentrene Fiks-plattformen kjører på er begge ISO27001-sertifisert og det blir gjennomført årlige revisjoner av informasjonssikkerhet og personvern. Revisjonene blir gjennomført av tredjeparts revisorer etter revisjonsstandardene ISAE-3402 og ISAE-3000. Driftsmiljøet overvåkes av driftsleverandørens eget sikkerhetsoperasjonssenter og NorCERT.\nTest- og utviklingsmiljø All utvikling av Fiks-plattformen foregår i et eget test- og utviklingsnett (heretter testmiljøet). I testmiljøet benyttes kun testdata, dvs. at dette mijøet ikke inneholder kundedata. I testmiljøet skal det kun benyttes anonymiserte, avidentifiserte eller samtykkebaserte data. Alle endringer kjøres først ut i test- og utviklingsmiljøet, før det settes i produksjon. I testmiljøet kjøres blant annet akseptansetest før en vesentlig endring går i produksjon. Testmiljøet er også benyttet i forbindeles med tilgjengeliggjøring av og integrasjon mellom Fiks-plattformen og DHIS2 covid-19.\nLeverandøroppfølging Alle leverandørene til KS følges opp med hensyn til ivaretakelse av informasjonssikkerhet og personvern og revideres i henhold til NSMs grunnprinsipper.\n"
},
{
	"uri": "/",
	"title": "KS Fiks dokumentasjon",
	"tags": [],
	"description": "",
	"content": "KS Fiks dokumentasjon På disse sidene finner du dokumentasjon av Fiks-plattformen og SvarUt-tjenesten. SvarUt-tjenesten er fortsatt ikke flyttet over på Fiks-plattformen og kjører derfor som en selvstendig applikasjon med sin egen konfigurasjon og sikkerhetsløsning. Over tid vil også SvarUt migreres over på Fiks-plattformen.\nDokumentasjonen du finner her er rettet mot deg som skal administrere plattformen på vegne av en kommune eller annen organisasjon, eller utvikle integrasjoner mot api-ene Fiks tilbyr.\nDet er utarbeidet et dokument som går igjennom fiks-plattformen. Dette kan lastes ned\nBrukerdokumentasjon Brukerdokumentasjon finner en på https://svarut.wordpress.com\nFeil Hvis du finner feil eller noe som ikke er beskrevet godt nok, setter vi pris på om du sender en e-post til fiks-utvikling@ks.no eller lager en pull request på https://github.com/ks-no/ks-no.github.io.\nAbonner på dokumentasjonsendringer For å abonnere på endringer i dokumentasjonen kan du benytte vår RSS-feed.\nSlack Vi anbefaler også alle integrasjonsutviklere å benytte vår Slack-kanal for spørsmål og kommentarer vedrørende Fiks-plattformen, send en e-post til fiks-utvikling@ks.no for invitasjon.\n"
},
{
	"uri": "/fiks-plattform/tjenester/kjoretoyregister/",
	"title": "Kjøretøyregister",
	"tags": [],
	"description": "",
	"content": "Hva er Fiks Kjøretøyregister Fiks Kjøretøyregister er en tjeneste for å gjøre oppslag i Statens Vegvesen sitt Kjøretøy register (Autosys). Fiks Kjøretøyregister speiler Kjøretøyoppslag og Kjøretøysøk tjenestene til Statens Vegvesen på Fiks plattformen. Den gjør det mulig å slå opp et eller flere kjøretøy basert på kjennemerke, kuid (svv-identifikator), eller understellsnummer. Oppslaget vil gi informasjon om kjøretøyet og eierforhold på nåværende tidspunkt, eller på et spesifisert tidspunkt som angis i søket.\nHvordan tar jeg i bruk Fiks Kjøretøyregister Fiks Kjøretøyregister er en tjeneste for maskin-til-maskin integrasjon. For å ta i bruk Fiks Kjøretøyregister trenger du derfor at en leverandør av fagsystem utvikler en integrasjon tjenesten.\nPå sikt vil de bli vurdert å utvikle et administrativt grensesnitt mot Fiks Kjøretøyregister for kommuneansatte.\nIntegrasjon Api kall gjøres i henhold til swagger spesifikasjonen til Statens Vegvesen, med følgende endringer:\n Autorisering skjer på fiks plattformen med et access token fra Maskinporten basert på organisasjonesn virksomhetssertifikat som beskrevet her. Token må ha scope \u0026ldquo;ks:fiks\u0026rdquo;, og headere for IntegrasjonId og IntegrasjonPassord må settes på requesten. Fiks-org som spørringen gjøres på vegne av blir en del av url\u0026rsquo;en for alle forespørsler.  Swagger filen til SVV spesifiserer en basePath som /ws/no/vegvesen/kjoretoy/felles/v2. Denne må erstattes med https://api.fiks.ks.no/kjoretoyregister/api/{fiksOrgId} hvor {fiksOrgId} er fiks org til organisasjonen spørringen gjøres på vegne av. Resten av url\u0026rsquo;en er som spesifisert for de enkelte endepunktene i swagger filen:\n /rest/distribusjon/kjoretoy/v2.0/bulk/kjennemerke /rest/distribusjon/kjoretoy/v2.0/bulk/kuid /rest/distribusjon/kjoretoy/v2.0/bulk/understellsnummer/{understellsnummer}  Oppslag på understellsummer utføres med en GET request. Oppslag på kjennemerke og kuid utføres med en POST request hvor body inneholder en liste av id\u0026rsquo;er det skal søkes på. Eksempel forespørsel for kjennemerke på angitt dato:\n[ { \u0026quot;kjennemerke\u0026quot;: \u0026quot;br12345\u0026quot;, \u0026quot;dtg\u0026quot;: \u0026quot;2018-11-15T23:00:00.000+01:00\u0026quot; } ] For kjøretøysøk gjøres det en GET request med query parameter. F.eks for å søke på eier-navn:\n /rest/distribusjon/kjoretoy/v2.0/sok/eiernavn?navn=[navn]  I test miljøet (https://api.fiks.test.ks.no/kjoretoyregister/api/{fixOrgId}) går alle api kall mot et syntetisk datasett hos SVV (https://autosys-kjoretoy-api.atlas.vegvesen.no/api-ui/index-kjoretoyoppslag.html#testmiljo).\nHvis du opplever feil som blir returnert med json fra SVV med f.eks en svvguid kan en kontakte akfsupport@vegvesen.no.\n"
},
{
	"uri": "/fiks-plattform/tjenester/bekymringsmelding/",
	"title": "Nasjonal portal for bekymringsmelding",
	"tags": [],
	"description": "",
	"content": "Kort introduksjon Bekymringsmeldinger til barnevernet går i dag i all hovedsak per post, og i samarbeid med Barne-, ungdoms- og familiedirektoratet (Bufdir) lager vi en nasjonal løsning hvor alle meldere, privatpersoner og offentlig ansatte, kan sende inn bekymringsmeldinger digitalt til barnevernet.\nDette skal sikre raskere og sikrere innsending av meldinger, og bedre innholdsmessig kvalitet. Løsningen skiller mellom offentlige og private meldere, og leverer bekymringsmeldinger fra to ulike skjema, siden det er ulike forventinger/krav til offentlige meldere og private meldere.\nMer informasjon om prosjektet finnes hos Bufdir.\nKort beskrivelse av løsningen Brukerne (innbyggere eller offentlig ansatte) som skal melde inn en bekymringsmelding logger seg inn på portalen, fyller ut og sender inn skjemaet. Løsningen vil deretter forsøke å levere bekymringsmeldingen på en eller flere av følgende måter:\n Direkte i fagsystem (Strukturert informasjon) Manuell nedlastning, ustrukturert informasjon i digital form – PDF Tilsendt som brevpost  Når bekymringsmeldingen er sendt vil systemet forsøke å levere den som strukturert data via Fiks-plattformen til kommunens fagsystem. Dersom kommunens fagsystem ikke støtter integrasjon mot Fiks IO finnes det en løsning for å laste ned bekymeringsmeldingen manuelt. Bekymringsmeldinger som ikke markeres som mottatt sendes ut som brevpost.\nBekymringsmeldingen blir omgjort til strukturert data (JSON) for integrasjon mot fagsystem og ustrukturert data (PDF) til manuell nedlastning og for brevpost. All kommunikasjon mellom bruker og løsningen er kanalkryptert. I tillegg lagres både strukturert og ustrukturert data kryptert med mottakersystemets offentlige nøkkel (fagsystem, utskriftsleverandør, manuell nedlastning).\nPortalen tilbyr også et API hvor det er mulig å sende en bekymringsmelding fra fagsystemet til en annen kommunes barneverntjeneste.\nHvordan tar man i bruk Fiks Bekymringsmelding? Portalen inneholder to skjema, en for innbyggere og en for offentlig ansatte, som kan brukes for å melde inn bekymringsmeldinger.\nNoen ganger kan det være hensiktsmessig å ha skjema for offentlig melder som en integrert del av et eget fagsystem (eks: skole, politi, ol) og da kan man benytte API for bekymringsmelding for å implementere dette. API-et støtter maskin-til-maskin integrasjon både som produsent (avsender) av bekymringsmelding og konsument (mottaker) av bekymringsmelding. Ta kontakt med din leverandør av fagsystem og hør om de støtter integrasjon mot bekymringsmelding.\nDersom fagsystemet støtter integrasjon kan dere konfigurere bekymringsmeldingstjeneste til å konsumere og/eller produsere bekymringsmeldinger. Dersom fagsystem ikke støtter maskin-til-maskin integrasjon for å konsumere bekymringsmeldinger er det mulig å laste bekymringsmeldingene ned manuelt.\nDersom en bekymringsmelding ikke er lastet ned innen 2 virkedager vil den bli sendt ut som brevpost.\nFør løsningen kan tas i bruk må kommunen inngå en avtale om bruk.\nIntegrasjonsutvikling Fagsystemet kan produsere og sende inn bekymringsmeldinger til et API eller man kan benytte seg av å sende inn via skjema. Benyttes skjema så vil skjemaet produsere PDF og JSON-fil, men hvis fagsystemet skal sende inn til API, må fagsystemet sende med dette.\nInformasjon om generell integrasjonsutvikling mot Fiks, som blant annet autentisering, finner man her.\nFagsystem som konsument Ved bruk av Fiks IO som leveringskanal må fagsystemet støtte meldingsprotokollen no.ks.fiks.bekymringsmelding.v1, som er definert til bruk av bekymringsmeldinger. Meldingsprotokollen vil inneholde kontrakter i form av JSON-skjema som gjelder både for mottak og svar på Fiks IO-meldinger.\nTil fagsystem - mottak av bekymringsmeldinger Fagsystemet vil motta enten en privat bekymringsmelding, no.ks.fiks.bekymringsmelding.privat.v1, med en ASiC-E-fil i body eller en offentlig bekymringsmelding, no.ks.fiks.bekymringsmelding.offentlig.v1, med en ASiC-E-fil i body. I tillegg vil det være en header «bydel-ressurs-id», som vil være ID til bydelsressursen, og en header «bekymringsmelding-id» som vil være bekymringsmeldingens unike ID. I de fleste tilfeller kan man se bort fra disse.\nAsiC-E-filen er på navneformatet «FiksIO_encrypted_[FIKS_ORG_ID]_[BYDELSNUMMER].zip», hvor FIKS_ORG_ID er en unik ID for kommunen, mens bydelsnummeret vil være et tosifret tall. Er det en kommune uten bydeler, vil bydelsnummeret være «00».\nASiC-E-filen vil inneholde to filer, «bekymringsmelding.json» og «bekymringsmelding.pdf». «bekymringsmelding.json» er en JSON-fil definert i JSON-skjema for privat bekymringsmelding eller offentlig bekymringsmelding - avhengig om meldingstypen er en privat eller offentlig bekymringsmelding. «bekymringsmelding.pdf» vil være bekymringsmeldingen på PDF-format.\nFra fagsystem - kvittering på mottatt bekymringsmelding Når fagsystemet har importert og lagret bekymringsmeldingen må det sendes tilbake en kvittering som bekrefter mottatt bekymringsmelding, no.ks.fiks.bekymringsmelding.mottatt.v1, med tom body.\nDersom fagsystemet ikke klarer å lagre bekymringsmeldingen kan man sende tilbake en kvittering som signaliserer feil ved mottak, no.ks.fiks.bekymringsmelding.feilet.v1, med body bestående av en JSON-fil «feilmelding.json» med hva som gikk galt. JSON-skjema finnes her. Ved feil vil bekymringsmeldingen bli sendt som brevpost.\nFullstendig skjemadefinisjon med eksempler finner man her. Det anbefales at man setter ttl (time-to-live) for en Fiks IO-melding til 24 timer. Får man meldingstype no.ks.fiks.kvittering.tidsavbrudd, så trenger dere ikke sende noe tilbake, da vi alltid har en fallback til brevpost. Men det anbefales at man logger det, og sier fra så vi kan feilsøke. For mer informasjon om Fiks IO, se dokumentasjon for Fiks IO. Trondheim kommune har også laget en Fiks IO-klient i Go som er spesifikt rettet mot bekymringsmelding. Den finner man her.\nFagsystem som produsent Swagger-spesifikasjon for å sende inn bekymringsmeldinger via API finnes her: Bekymringsmelding mottak fagsystem og Bekymringsmelding kommune service. Merk at filene som skal sendes med, sendes som multipart request. Ikke alle Swagger-genererte klienter genererer dette riktig i henhold til OpenAPI 3.0-spesifikasjonen. Du kan se et eksempel på multipartforsendelse i Java her.\nFeltet \u0026ldquo;Leveringskanal\u0026rdquo;, jmf JSON-skjemaene, skal settes til navn på organisasjonen (Politiet, navnet på skolen, etc.) som sender bekymringsmeldingen. Feltet \u0026ldquo;Sendingstidspunkt\u0026rdquo; forventer ISO-8601 norsk tid uten tidssone, eksempelvis \u0026ldquo;2021-11-08T09:24:45\u0026rdquo;.\nFiler Det må sendes med to krypterte filer, en AsiC-E-fil og en PDF-fil. De offentlige nøklene som brukes ved kryptering hentes fra API-et Bekymringsmelding mottak fagsystem.\nAsiC-E-fil AsiC-E-filen må inneholde to filer, «bekymringsmelding.json» og «bekymringsmelding.pdf». «bekymringsmelding.json» er en JSON-fil definert i JSON-skjema for privat bekymringsmelding eller offentlig bekymringsmelding - avhengig om meldingstypen er en privat eller offentlig bekymringsmelding. Skjemadefinisjon med eksempler finner man her. AsiC-E-filen må være kryptert med mottakersystemets offentlige nøkkel.\nPDF-fil «bekymringsmelding.pdf» vil være selve bekymringsmeldingen på PDF-format og må være kryptert med printleverandørens offentlige nøkkel. Fagsystemet har ansvar for å lage PDF. Eksempler på PDF for privat melder og offentlig melder.\nSekvensdiagram 1 - 2. Før fagsystemet skal sende bekymringsmelding må det gjøres et oppslag på kommunenummer for å finne ut hvilke barnevernskontorer (bydeler) som støttes av løsningen. Returnerer liste med bydeler i kommunen. Dersom det returneres en tom liste har ikke kommunen aktivert løsningen. Dersom listen ikke er tom vil det alltid være et element (en bydel) som er satt opp som kan brukes dersom bydel/barnevernskontor er ukjent.\n3 - 4. Når kommune og bydel er valgt må fagsystemet hente krypteringsnøkler. Det returneres en liste med to elementer som inneholder krypteringsnøkler. Den ene nøkkelen brukes for å kryptere PDF-versjonen av bekymringsmeldingen slik at det er mulig å sende den som brevpost. Den andre nøkkelen brukes for å kryptere ASIC-E filen som inneholder både JSON-dokumentet og PDF-dokumentet for nedlastning via fagsystem, alternativt via manuell nedlastning.\n5 - 5. Fagsystemet må lage PDF basert på innholdet i bekymringsmeldingen. PDF må krypteres med printleverandør sin nøkkel.\n6 - 6. Fagsystemet må lage PDF og JSON-dokument basert på innholdet i bekymringsmeldingen. Både PDF og JSON-dokument må pakkes inn i ASiC-E-kontainer, som deretter krypteres med nøkkel for maskinintegrasjon.\n7 - 10. De krypterte filene (bekymringsmelding.pdf og asice.zip) sendes over til bekymringsmeldingsapiet som multipart-filer. Endepunkt bestemmes av om det er en privat melder eller offentlig melder som har skrevet bekymringsmeldingen. API-et returnerer en UUID som referanse på forsendelsen. Størrelsen på forsendelsen kan ikke overstige 5MB.\nEksempel på innsending (Java med Jersey client) StreamDataBodyPart bekymringsmeldingPdf = new StreamDataBodyPart(\u0026#34;bekymringsmelding\u0026#34;, {bekymringsmeldingPdfInputStream}, \u0026#34;bekymringsmelding.pdf\u0026#34;); StreamDataBodyPart asiceZip = new StreamDataBodyPart(\u0026#34;asice\u0026#34;, {bekymringsmeldingAsiceInputStream}, \u0026#34;asice.zip\u0026#34;); Client client = ClientBuilder.newBuilder().register(MultiPartFeature.class).build(); MultiPart multipart = new FormDataMultiPart().bodyPart(bekymringsmeldingPdf).bodyPart(asiceZip); client.target({url}) .request() .header(\u0026#34;IntegrasjonId\u0026#34;, {integrasjonId}) .header(\u0026#34;IntegrasjonPassord\u0026#34;, {integrasjonPassord}) .header(\u0026#34;Authorization\u0026#34;, \u0026#34;Bearer {token}\u0026#34;) .post(Entity.entity(multipart, multipart.getMediaType())); hvor:\n  bekymringsmeldingPdfInputStream: InputStream av bekymringsmelding.pdf\n  bekymringsmeldingAsiceInputStream: InputStream av asice.zip\n  url\n  Privat bekymringsmelding test: https://api.fiks.test.ks.no/bekymringsmelding/api/v1/mottak/fagsystem/{fraFiksOrgId}/{kommunenummer}/{bydelsnummer}/privat\n  Offentlig bekymringsmelding test: https://api.fiks.test.ks.no/bekymringsmelding/api/v1/mottak/fagsystem/{fraFiksOrgId}/{kommunenummer}/{bydelsnummer}/offentlig\n  Privat bekymringsmelding prod: https://api.fiks.ks.no/bekymringsmelding/api/v1/mottak/fagsystem/{fraFiksOrgId}/{kommunenummer}/{bydelsnummer}/privat\n  Offentlig bekymringsmelding prod: https://api.fiks.ks.no/bekymringsmelding/api/v1/mottak/fagsystem/{fraFiksOrgId}/{kommunenummer}/{bydelsnummer}/offentlig\n    Url-param fraFiksOrgId: Fiks Organisasjon ID til organisasjonen som fagsystemet sender meldinger på vegne av\n  Url-param kommunenummer: Kommunenummer man sender til\n  Url-param bydelsnummer: Bydelsnummer man sender til\n  integrasjonsId: Integrasjonsid i form av en UUID\n  integrasjonPassord: Integrasjonspassord\n  token: Gyldig aksesstoken fra maskinporten\n  Hente status for sendt bekymringsmelding Et fagsystem kan hente status med tilhørende historikk for sendte bekymringsmeldinger via API-et Bekymringsmelding mottak fagsystem.\nEndepunktet /bekymringsmelding/api/v1/mottak/fagsystem/{fraFiksOrgId}/bekymringsmelding/{bekymringsmeldingId}/status returnerer en liste av alle hendelsene for den angitte bekymringsmelding-id-en. Hver hendelse inneholder en tilstand for bekymringsmeldingen, som kan inneholde følgende verdier:\n AKSEPTERT (alltid 1. tilstand) - Fiks Bekymringsmelding har mottatt og lagret bekymringsmeldingen. SENDT_FAGSYSTEM (alltid 2. tilstand) - Bekymringsmeldingen er sendt til fagsystemet til mottakeren. AVVIST_FAGSYSTEM - Fagsystemet har avvist mottak av bekymringsmeldingen. Fiks Bekymringsmelding vil automatisk sende denne til brevpost. SENDT_PRINT - Bekymringsmeldingen er sendt til printleverandør for å sende den med brevpost. AVVIST_PRINT - Printleverandøren kan ikke printe ut bekymringsmeldingen for brevpost. Fiks følger opp bekymringsmeldingen manuelt. LEVERT (alltid siste tilstand) - Bekymringsmeldingen er levert fagsystem eller sendt som brevpost til barnevernskontoret.  LEVERT vil alltid være den siste endelige tilstanden til en bekymringsmelding. Da vil den enten ha blitt bekreftet mottatt til fagsystemet, eller i tilfelle man tidligere har mottatt SENDT_PRINT, så vil den ha blitt levert posten for levering som brevpost.\n"
},
{
	"uri": "/fiks-plattform/integrasjoner/",
	"title": "Integrasjonsutvikling",
	"tags": [],
	"description": "",
	"content": "En integrasjon på Fiks-plattformen er en maskin-til-maskin klient som benytter tjenestelaget for å utføre oppgaver på vegne av en fiks-organisasjon. Dette kan for eksempel være et arkivsystem som sender saker gjennom Fiks SvarInn, eller et fagsystem som oppdaterer meldinger i Fiks Innsyn.\nNår en Fiks-organisasjon tar i bruk plattformen vil man se at det allerede finnes en del forhåndsdefinerte integrasjoner, for eksempel en SvarUt-integrasjon mot Fiks Innsyn. Dette er \u0026ldquo;globale integrasjoner\u0026rdquo; som blir tilgjengelig for alle Fiks-organisasjoner uten at hver organisasjon trenger å opprette dem. Ta kontakt med fiks-kundeservice om du på denne måten ønsker å gjøre en av dine integrasjoner tilgjengelig på hele plattformen. Dette er for det meste relevant for leverandører av skyløsninger for flere kommuner.\nHver Fiks-organisasjon kan også opprette sine egne \u0026ldquo;lokale\u0026rdquo; integrasjoner - dette gjøres gjennom Fiks Konfigurasjon. Her opprettes integrasjonen, og man definerer hvilken organisasjon som skal ha rett til å sende forespørseler til Fiks-plattformen på vegne av denne. Organisasjonen kan være Fiks-organisasjonen selv, eller en tredjepart som har driftsansvar. Se under for detaljer om opprettelse av integrasjoner.\nEtter organisasjonen er opprettet må den autoriseres for å kunne handle på vegne av en Fiks-organisasjon. Om man for eksempel ønsker å autorisere en integrasjon for å indeksere meldinger Fiks Innsyn må det relevante privilegiet tildeles på konfigurasjonssiden for denne tjenesten. Dette gjelder også for globale integrasjoner.\nHvordan komme i gang med utviklingen  Bestill virksomhetssertifikat fra comfides eller buypass for test. NB! På grunn av krav fra DIFI/Maskinporten kan du ikke bruke selvsignert sertifikat hverken i test eller produksjonsmiljø Vi må ha org.nr på kontoen hos ID-porten (samme som i virksomhetssertifikatet), slik at vi får gitt dere tilgang til \u0026ldquo;ks:fiks\u0026rdquo;-scopet. Sendes til fiks-utvikling@ks.no Følg oppskrift her for å lage klient hos idporten Send en e-post til fiks-utvikling@ks.no med e-postadresser som vil ha tilgang til vår Slack support-kanal. Vi liker best å ta support på Slack-chat. Har dere personinnlogginger i ID-porten test, send disse i en e-post til oss slik at vi kan sette opp test kommune/organisasjon i test. fiks-utvikling@ks.no Hvis ikke får dere testpersoner av oss. Ta kontakt på Slack-kanalen hvis dere står fast eller ønsker å få tilbakemelding på om dere bruker api-ene korrekt.  Hvordan få tilgang i produksjon  Bestill virksomhetsertifikat fra comfides (https://www.commfides.com/commfides-virksomhetssertifikat/) eller buypass ( https://www.buypass.no/produkter/virksomhetssertifikat-esegl ), hvis dere ikke har et. Send orgnr til oss (hovedorgnr til organisasjonen) det som ligger i virksomhetsertifikatet. fiks-utvikling@ks.no og si dere trenger tilgang til fiks. Bestill tilgang til Maskinporten/Idporten hos difi. For personinnlogga websider må du ha idporten, for applikasjoner der du ikke er logget inn via idporten må en ha maskinporten.   For å opprette tilgang må en bruke selvbetjening: https://samarbeid.difi.no/felleslosninger/maskinporten/ta-i-bruk-maskinporten/2-selvbetjening Gå inn på https://minside-samarbeid.difi.no/organization-home/services/service-admin Følg oppskrift her for å lage klient hos idporten   Gå til https://forvaltning.fiks.ks.no og lag en integrasjon. Og gi tilgang til de tjenestene applikasjonen trenger.  Grensesnitt Integrasjoner mot Fiks-plattformen vil hovedsakelig benytte grensesnitt basert på REST/json.\nVi publiserer OpenAPI-Specification for alle api\u0026rsquo;er. I dag benyttes versjon 3.0, noen tjenester kan være fortsatt være på 2.0. Disse spesifikasjonene er nyttige både som dokumentasjon for rest-grensesnittet og som grunnlag for automatisk generering av klienter og modell-objekter. Dette kan for eksempel gjøres ved bruk av Swagger Codegen.\nKonfigurasjon En Fiks-organisasjon kan opprette egen integrasjoner gjennom Fiks konfigurasjon.\n Sett autorisert organisasjon. Dette vil som regel være organisasjonen som drifter systemet som skal integreres, enten fiks-organisasjonen selv eller en tredjepart. Genererer servicepassord. Dette må opplyses for å autentisere integrasjonen, se under for detaljer. Tildel navn. Et visningsnavn for integrasjonen. Sett beskrivelse. En beskrivelse av hva integrasjonen er og hvilke oppgaver den løsner. Sett tjenester. Hvilke tjenester er denne integrasjonen aktuell for?  Autentisering Integrasjoner autentiseres på to ulike måter: som \u0026ldquo;integrasjon\u0026rdquo; med oAuth 2.0, eller \u0026ldquo;integrasjon-person\u0026rdquo; m. Open Id Connect (OIDC). Fiks har laget klienter for å generere access token fra Maskinporten basert på et virksomhetssertifikat, en issuer (konto hos Difi) og ett eller flere scopes. Java-klient: https://github.com/ks-no/fiks-maskinporten, .net-klient: https://github.com/ks-no/fiks-maskinporten-client-dotnet.\nIntegrasjon Denne metoden benyttes for ren server til server integrasjon, for eksempel når et fagsystem skal laste opp meldinger til Fiks Innsyn. Organisasjonen henter et OAuth 2.0 access token med scope \u0026ldquo;ks:fiks\u0026rdquo; fra ID-Porten, basert på organisasjonens virksomhetssertifikat. Dokumentasjon for dette finnes her. Vi støtter i første omgang kun JWT access_tokens, dette må konfigureres hos ID-Porten. I tillegg til dette tokenet må man ha en header for integrasjonId og for integrasjonPassord.\nKallet mot Fiks-plattformtjenesten trenger dermed følgende HTTP headere:\n Authorization: OAuth-2.0 Jwt Access token som bekrefter organisasjonens identitet, signert av ID-Porten. Scope skal være \u0026ldquo;ks:fiks\u0026rdquo;. IntegrasjonId: Id for integrasjonen, generert i Fiks-konfigurasjon. Org.nr i Jwt\u0026rsquo;en i Authorization header må være konfigurert som autorisert organisasjon for integrasjonen. IntegrasjonPassord: Passord for integrasjonen (fra Fiks-konfigurasjon)  Integrasjon-person Denne metoden benyttes hvis en innbygger er logget inn på en server i en kommune, og man ønsker å gjøre en forespørsel på vegne av denne innbyggeren. Man trenger fortsatt integrasjon-ID og integrasjonpassord, men i stedet for virksomhetens access token sender man brukerens, innhentet med \u0026ldquo;ks:fiks\u0026rdquo; scope via OIDC fra ID-Porten.\nKallet mot Fiks-plattformtjenesten trenger dermed følgende HTTP headere:\n Authorization: OAuth-2.0 Jwt Access token som bekrefter inbyggerens identitet (fnr), signert av ID-Porten. Scope skal være \u0026ldquo;ks:fiks\u0026rdquo;. IntegrasjonId: Id for integrasjonen, generert i Fiks-konfigurasjon. Orgnr i Jwt\u0026rsquo;en i Authorization header må være konfigurert som autorisert organisasjon for integrasjonen. IntegrasjonPassord: Passord for integrasjonen (fra fiks-konfigurasjon)  http POST https://api.fiks.test.ks.no/innsyn-sok/api/v1/sok \\ \u0026#34;IntegrasjonId: \u0026lt;din integrasjon id\u0026gt;\u0026#34; \\ \u0026#34;IntegrasjonPassord: \u0026lt;ditt integrasjon passord\u0026#34; \\ \u0026#34;Authorization: Bearer \u0026lt;gyldig innbygger access token jwt fra id-porten\u0026gt;\u0026#34; Autorisering I tillegg må integrasjonen autoriseres for tilgang til en spesifikk tjeneste. Hvis for eksempel et fagsystem skal kunne laste opp meldinger til Fiks Innsyn må en administrator i kommunen benytte Fiks-Konfigurasjon for å legge til denne tilgangen hos den relvante kommunen.\nDette gjelder også for integrasjoner som leveres som en del av Fiks-plattformen. Skal SvarUt kunne indeksere forsendelse i Fiks Innsyn må også her kommunen eksplisitt autorisere dette.\nFeilmeldinger De fleste REST API-ene returnerer feilmeldinger på følgende format:\n{ \u0026#34;timestamp\u0026#34;: 1637218198035, \u0026#34;status\u0026#34;: 400, \u0026#34;error\u0026#34;: \u0026#34;Bad Request\u0026#34;, \u0026#34;errorId\u0026#34;: \u0026#34;3389ad1b-afa4-42e1-b6f8-76f63e560ad5\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;/tjeneste/api/v1/ressurs/123456\u0026#34;, \u0026#34;originalPath\u0026#34;: \u0026#34;/tjeneste/api/v1/ressurs\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;Beskrivelse av feilen\u0026#34;, \u0026#34;errorCode\u0026#34;: \u0026#34;FEILKODE\u0026#34;, \u0026#34;errorJson\u0026#34;: {\u0026#34;antall\u0026#34;:13} }  timestamp - Tidspunktet feilen oppstod i millisekunder siden epoch. status - HTTP-statuskode, f.eks. 400 eller 500. error - Beskrivelse av HTTP-statuskoden, f.eks. Bad Request eller Internal Server Error. errorId - Intern id som brukes til å finne informasjon relatert til feilen under feilsøking. path - Path requesten ble gjort mot. originalPath - Vil i sjeldne feilsituasjoner være noe annet enn det som er satt i path, og ellers ikke være satt. message - Menneskelig lesbar beskrivelse av feilen som oppstod. errorCode - Tjenestespesifikk feilkode for maskinell tolkning. Vil i de fleste situasjoner ikke være satt. errorJson - Detaljer knyttet til errorCode i JSON-format.  "
},
{
	"uri": "/fiks-plattform/tjenester/minside/innsyn/",
	"title": "Innsyn",
	"tags": [],
	"description": "",
	"content": "Norske kommuner har mengder av informasjon om sine innbyggere. Denne informasjonen er spredd rundt i arkiver, fagsystemer, dokumentlagre og eksterne skyløsninger. Fiks Innsyn lagrer metadata som beskriver denne informasjonen, og gjør den tilgjengelig for innbyggeren via en kraftig søkemotor.\nHvordan tar man i bruk Fiks Innsyn? En kommune kan bruke Fiks Innsyn for å gjøre kommunal informasjon (forsendelser, byggesaker, eiendommer, fakturaer osv) tilgjengelig for innbyggere, endten på minside.kommune.no eller i kommunens eksisterende løsninger. Uansett er første steg å sørge for metadata som beskriver informasjonen finnes i søkemotoren. Dette gjøres ved å legge til datakilder i konfigurasjonen av innsyntjenesten på forvaltning.fiks.ks.no. i form av integrasjoner. Dette kan være \u0026ldquo;nøkkelklare\u0026rdquo; integrasjoner levert av KS eller tredjepartsleverandører, for eksempel forsendelser fra SvarUt eller byggesaker fra GeoMatikk, eller integrasjoner kommunen lager selv. I skjermbildet over har en kommune lagt til SvarUt integrasjonen som kilde for innsyn, som gjør at alle forsendelser fra SvarUt-avsendere spesifisert i integrasjonens konfigurasjon blir tilgjengelig i \u0026ldquo;Post fra kommunen\u0026rdquo; på minside.kommune.no.\nHvis kommunen benytter minside.kommune.no er nå alt klart: innloggede innbyggere vil se sine meldinger i \u0026ldquo;Post fra kommunen\u0026rdquo; og andre innsyn-drevede tjenester.\nHvis kommunen benytter en egen minside-løsning må også søket mot Fiks Innsyn gjøres via en integrasjon, som legges til på samme måte som datakilde-integrasjonene over. I noen tilfeller vil det finnes nøkkelklare leverandør-integrasjoner for dette, i andre må kommunen lage en egen integrasjon som leverandøren kan benytte. Kontakt leverandør for å avklare dette.\nHvordan virker Fiks Innsyn? Tjenesten består av tre hovedkomponenter:\n Innsyn-webapplikasjoner, et sett med SPA (Single Page Applications) på minside.kommune.no som innbyggere benytter for å søke i innsynsdatabasen. Eksempler er \u0026ldquo;Post fra kommunen\u0026rdquo;, \u0026ldquo;Byggesaker\u0026rdquo;, osv. Innsyn-søk, søkemotoren som utgjør back-end for webappliasjonene. Støtter fritekstsøk og score-rangerte resultater. Innsyn-indexer, en indekseringstjeneste som integrasjoner kan benytte for å laste opp metadata om informasjonen kommunen sitter på: hendelser, fakturaer, saker, journalposter, forsendelser, osv.  Søk i innsyn gjøres via applikasjonene på minside.kommune.no, eller direkte via et REST grensesnitt. Uansett baserer autentisering seg på innlogging via ID-Porten. En autentisert innbygger autoriserers for å lese en melding på en av fire måter:\n Meldingen er eksponert for innbyggerens fødselsnummer Innbyggeren har rollene \u0026ldquo;post/arkiv\u0026rdquo; eller \u0026ldquo;kommunale tjenester\u0026rdquo; i Altinn for organisasjonsnummeret meldingen er eksponert for Innbyggeren er markert som eier av matrikkelenheten meldingen er eksponert for, endten direkte eller via organisasjon. Meldingen er eksponert med type \u0026ldquo;offentlig\u0026rdquo;, og er dermed tilgjengelig for alle autentiserte innbyggere.  Søket er i hovedsak basert på fri-tekst, og vil også da kompenserer for stavefeil, bøyeform eller orddeling. Noe filtrering er mulig (for eksempel på dato, avsender-organisasjon osv). Alle søk er også filtrert på innloggingsnivå. Et søk gjort med innlogging på nivå tre vil ikke returnere grupper som er satt til nivå fire, uavhengig av om disse gruppene traff på søket. Hvilket innloggingsnivå som kreves for å se hver enkelt melding er bestemt av interasjonen som indekserte meldingen i Innsyn.\nSøkeresultatet scores og sorteres basert på relevans: nye meldinger scores høyere enn gamle, uleste dokumenter høyere enn de du har lest, ubetalte faktura høyere enn de du har betalt, og så videre. Det er også mulig å få resultatet sortert på dato.\nSøkemotoren inneholder utelukkende metadata, ikke selve dokumentet. Om meldingen skal peke til et dokument, bilde eller annen fil gjøres dette i form av en lenke: denne kan for eksempel peke til en fil i Fiks Dokumentlager, en sak i et kommunalt filarkiv, eller en annen tjeneste. Så lenge disse støtter innlogging gjennom ID-Porten vil nedlastingen oppleves sømløst av innbygger.\nUvikling av integrasjoner som leverer data til Innsyn: Noen grunnleggende prinsipper for forvalting av meldinger i innsyn:\n Alle dokumenter eies av en Fiks Organisasjon. I de fleste tilfeller vil dette være en kommune eller en fylkeskommune. Det er denne organisasjonen som autoriserer indeksering av data, og har rett til å oppdatere eller slette disse, enten direkte eller via tredjepart. Integrasjoner må autoriseres for å indeksere data på vegne av en av organisasjon. Dette gjøres gjennom å tildele \u0026ldquo;Innsyn Index\u0026rdquo; privilegiet til integrasjonen i Fiks Konfigurasjon. Nøkkelklare integrasjoner vil automatisk bli tildelt de nødvendige privilegiene når de blir lagt til i Innsyn konfigurasjonen. Hver integrasjon styrer dokumentene de har lastet opp på vegne av organisasjonen. Dvs. at integrasjon A ikke kan slette eller oppdatere dokumenter lastet opp av integrasjon B. Merk at tjenesteadministrator når som helst kan slette meldinger gjennom Fiks Konfigurasjon, uavhengig av hvilke integrasjon som har indeksert meldingene.  API Meldinger til Innsyn indekseres gjennom Innsyn Index API Versjon 2\nMerk at JSON-metadata må Base64 encodes før det sendes til APIet, dette hovedsaklig for å unngå JSON escape problematikk. Gyldige verdier for \u0026ldquo;versjon\u0026rdquo;-feltet er definert i tabellen under.\n   Meldingstype Versjon      Byggesak V1 BYGGESAK_V1 Spec   Faktura V1 FAKTURA_V1 Spec   Innsendt Skjema V1 INNSENDT_SKJEMA_V1 Spec   Skjemakladd V1 SKJEMAKLADD_V1 Spec   Mappe V1 MAPPE_V1 Spec   Journalpost V1 JOURNALPOST_V1 Spec    Alle JSON-schema definisjoner finnes i følgende GitHub repository: ks-no / fiks-innsyn-json-schema. Disse kan også brukes til å generere modeller for deres valgte språk. Det finnes allerede en Maven-modul for Java-brukere som er deployet til Maven Central. Mer informasjon rundt dette finnes i prosjektets README på GitHub.\nGamle APIer Versjon 1 av innsyn index støttes fortsatt for eksisterende integrasjoner, men bør ikke benyttes for nyutvikling.\nHovedforskjellen fra versjon 2 er at metadata for meldingstypene er definert i API-speccen, i stedet for eksterne JSON-schemas.\nIndeksering Indekseringstjenesten lar integrasjoner opprette meldinger, eller fjerne / endre meldinger som alt er opprettet. Hver melding har en meldingId som settes av integrasjonen. Hvis man indekserer to meldinger på samme melding-id vil den første meldingen bli overskrevet av den andre.\nNår man lager en integrasjon mot indekseringstjenesten er det viktig å være bevisst på at Innsyn bør betraktes som en cache: man bør ikke forvente at meldingene man laster opp vil ligge der til evig tid: en forvalter med admin-privilegier på innsyn-tjenesten kan for eksempel når som helst slette meldinger. Hvis man ønsker en robust løsning er det derfor viktig at man støtter replay: muligheten til å re-indexere alle meldinger til Innsyn.\nDe vanlige autentiseringsreglene for Fiks-plattformen gjelder for denne tjenesten, men i tilegg må integrasjonen har rett til å indeksere på vegne av fiks organisasjonen som er satt som eier den aktuelle meldingen.\nEndepunktet støtter batch av opptil 5000 elementer, og integrasjonsutviklere anbefales å benytte denne funksjonaliteten, da det skaper vesentlig mindre trykk på systemet. Merk at indeksering ikke er en atomisk transaksjon: deler av elementene i en batch kan bli indeksert selv om andre feiler.\nEn indekseringsoperasjon kan ha følgende utfall:\n 200. Meldingene ble indexert. Merk at det kan ta noe tid før disse blir synlige for et søk. 4XX. Et problem på klientsiden førte til at meldingene ikke kan behandles. Ved 4XX feil vil ingen av meldingene i batchen bli skrevet til Innsyn.  Hvis deserialisering av json mislykkes får man en ren 400 BAD REQUEST. Dette indikerer som oftest at json modellen i forespørselen ikke stemmer med api-spec. Hvis deserialisering var vellykket men en eller flere meldinger ikke validerte får man en meldinger som feilet, og en beskrivelse av hvorfor. Dette indikerer som oftest at et påkrevet feil mangeler, eller at det har en ugyldig verdi. Dette bør utbedres, eller meldingene med ugyldige verdier bør fjernes før man prøver igjen.   5XX. Indeksering av batchen feilet. Dette betyr som oftest at noe gikk galt på server-siden. Noen av meldingene i batchen kan likevel være indeksert. Man bør derfor forsøke å indeksere alle meldingene på nytt.  Gjennomføring av batch-operasjoner skjer synkront fra ståstedet til en bruker av tjenesten: responsen blir ikke sendt før batchen er gjennomført. Dermed vil man kunne vite at en gruppe opprettet i batch 1 eksisterer når batch 2 gjennomføres, så lenge disse utføres sekvensielt.\nEksponering av meldinger Eksponert for i en indekseringsforespørsel angir hvem som skal kunne se meldingen. Dette kan ha en av følgende verdier:\n fødselsnummer: Meldingen blir tilgjengelig for innbyggeren som er autentisert med det spesifiserte fødselsnummeret. organisasjonsnummer: Meldingen blir tilgjengelig for innbyggere som innehar rollene \u0026ldquo;post/arkiv\u0026rdquo; eller \u0026ldquo;kommunale tjenester\u0026rdquo; i Altinn på det spesifiserte organisasjonsnummeret. matrikkelnummer: Meldingen blir tilgjengelig for personer som er ført som eiere av matrikkelenheten med det spesifiserte nummeret, eller som innehar rollene \u0026ldquo;post/arkiv\u0026rdquo; eller \u0026ldquo;kommunale tjenester\u0026rdquo; for en organisasjon som er ført som eier av den aktuelle matrikkelenheten. Endringer i eierskap vil automatisk bli tatt hensyn til, uten at reindeksering av meldingen er nødvendig. offentlig: Meldingen er åpent tilgjengelig for alle autentiserte personer, denne eksponert-for typen bør benyttes med varsomhet.  Det er viktig at man har et bevisst forhold til hvem meldinger eksponeres for, spesielt når man eksponerer for en matrikkelenhet, da endringer i eierskap vil medføre at nye personer får tilgang til meldingen. Man bør derfor aldri eksponere sensitive data via denne metoden.\nVersjonering Over tid vil json-modellen for en melding endrer seg. Innsyn løser dette ved at alle metadatamodellene er versjonert, for eksempel som Forsendelse V1, Forsendelse V2 osv. Alle tidligere versjoner er støttet, så om din integrasjon indekserer V1 av forsendelser i dag vil dette fortsette å virke selv om V2 blir gjort tilgjengelig.\nHvis man ønsker å oppgradere eksisterende meldinger til ny versjon, for eksempel for å benytte felt som er lagt til i oppdateringen, gjøres dette gjennom replay; alle meldinger re-indekseres på eksisterende meldingId med ny versjon av metadata.\nSletting Indekserte meldinger kan fjernes ved å benytte slette-API. Her gjelder de samme reglene som over: en integrasjon må være autorisert for å handle på vegne av en ansvarlig organisasjon for at sletting kan gjennomføres, og en integrasjon kan bare slette meldinger den selv har indeksert.\nMerk at sletting på samme måte som indeksering ikke gjennomføres i en atomisk transaksjon: deler av meldingene i batchen kan bli slettet selv om andre feiler.\nHåndtering av filer Mange meldingstyper vil referere til filer i eksterne systemer, som for eksempel dokumenter i \u0026ldquo;Forsendelse\u0026rdquo; typen. Innsyn har i seg selv ikke noe forhold til binære filer, og betrakter dem utelukkende som en lenke. Hvis filene allerede er tilgjengelig i et ID-Porten kompatibelt filarkiv trenger man ikke å laste disse opp på nytt, hvis man ikke har en slik tjeneste fra før kan man benytte Fiks Dokumentlager til dette.\nUvikling av integrasjoner for å søke i innsyn Gjennomføring av søk Hvis kommunen benytter minside.kommune.no er det ikke behov for å utvikle noen egne integrasjoner for søk, men det kan ofte være aktuelt å søke i Innsyn fra annen løsning, for eksempel for å få \u0026ldquo;Post fra kommunen\u0026rdquo; fram på kommunens eksisterende minside-løsning.\nInnsyn tilbyr følgende søke-api\u0026rsquo;er for eksterne integrasjoner:\n Byggesak-søk Søk i innbyggerens byggesaker (pågående og historiske). Eiendom-søk Søk i matrikkelenheter fra kartverket. Post-søk Søk i post sendt fra kommunen til inbyggeren via KS-SvarUt. Skjema-søk Søk i skjema og skjemakladder sendt fra innbyggeren til kommunen. Multi-søk Samtidig søk i alle meldingstyper. Legacy-søk Innsyns gamle søke-api. Dette støttes fortsatt for eksisterende integrasjoner, ved nyutvikling bør man velge et av endepunktene over.  I tillegg til søke-apier er det mulig å benytte Innsyn Oppslag api for å hente meldinger. Gjennom dette api\u0026rsquo;et kan man hente en enkeltmelding (basert på melding-id), alle meldinger som har samme korrelasjon-id, eller alle meldinger som er barn av en spesifisert forelder-melding.\nIntegrasjonen som skal utføre søk eller oppslag må benytte integrasjon-person autentisering, dvs at de må fremvise den innloggede innbyggers ID-Porten token i kombinasjon med integrasjonId og Integrasjonpassord. I tillegg må integrasjonen ha \u0026ldquo;innsyn søk\u0026rdquo; privilegiet på den aktuelle Fiks-organisasjonen (tildelse via Innsyn konfigurasjon på forvaltning.fiks.ks.no). Søkeresultatet vil være begrenset til meldinger autorisert for den innloggede personen og eid av den aktuelle Fiks-organisasjonen.\nVersjonering av melding-metadata Meldinger i Innsyn er versjonert, for eksempel som \u0026ldquo;ForsendelseV1\u0026rdquo; eller \u0026ldquo;ForsendelseV2\u0026rdquo;, og nye versjoner av en melding blir lagt til uten forvarsel.\nDet er derfor viktig at man spesifisere \u0026ldquo;aksepterte-versjoner\u0026rdquo; (se api-spek\u0026rsquo;ene over) når man gjør et søk - en nyere versjon av en melding vil da bli nedgradert til den spesifiserte versjonen. Hvis man ikke gjør dette vil man få det som til enhver tid er nyeste versjon, hvor endringer kan brekke parsing av JSON metadata.\nÅ søke på vegne av andre Innsyn tilbyr støtte for å søke på vegne av en organisasjon hvor man innhar rollen \u0026ldquo;Post/Arkiv\u0026rdquo; i Altinn. Denne settes som en query-param på søket (se api-spekk\u0026rsquo;er over). Det vil da bli sjekket om personen faktisk innehar denne fullmakten, og hvis dette er tilfellet vil søkeresultatet inneholde meldinger som er eksponert for organisasjonen eller matrikkelenheter organisasjonen eier heller enn personen som er autentisert gjennom ID-Porten tokenent.\n\u0026ldquo;Legacy søk\u0026rdquo; api\u0026rsquo;et støtter den samme funksjonaliteten gjennom en ON_BEHALF_OF http-header, men et anbefales å ikke benytte denne metoden ved nyutvikling.\n"
},
{
	"uri": "/fiks-plattform/tjenester/minside/kommunaletjenester/",
	"title": "Kommunale Tjenester",
	"tags": [],
	"description": "",
	"content": "Mange kommuner som tar i bruk Fiks Minside har eksisterende innbyggerrettede tjenester, enten egenutviklet eller innkjøpt fra leverandør. \u0026ldquo;Kommunale tjenester\u0026rdquo; lar kommunen eksponere disse tjenestene for sine innbyggere på minside.kommune.no, som illustrert i skjermbildet under:\nNår en innbygger logger seg på Minside vil Fiks-plattformen avgjøre hvilken kommune denne innbyggeren har et forhold til. I første omgang avgjøres dette av hvilke organisasjoner som har sendt innbyggeren post via SvarUt, senere vil Folkeregisteret også benyttes. På forsiden vil innbyggeren se tjenester fra sin primærkommune, men tjenester registrert av andre kommuner vil være tilgjengelig gjennom søk, både ved hovedsøket på minside.kommune.no og via \u0026ldquo;se alle tjenester\u0026rdquo; lenken.\nKommunen kan legge inn disse tjenestene via Fiks-konfigurasjon. Hver tjeneste har:\n Tittel: Kort beskrivelse av tjenesten Lenke: Lenke til tjenesten. Hvis systemet som betjener denne støtter innlogging via ID-porten vil overgangen oppleves som sømløs av innbygger Rettet mot: Her kan man spesifisere at en tjeneste er rettet mot privatpersoner, organisasjoner, eller begge. Organisajonstjenester vil bare vises hvis innbyggeren opererer i kontekst av en organisasjon. Favoritt: Tjenester som er tagget med \u0026ldquo;favoritt\u0026rdquo; vil prioriteres for visning på landingsiden minside.kommune.no.  Det er ingen begrensing på antall tjenester en kommune kan registrere.\n"
},
{
	"uri": "/fiks-plattform/tjenester/minside/",
	"title": "MinSide",
	"tags": [],
	"description": "",
	"content": "minside.kommune.no er en portal for de innbyggerrettede tjenestene på Fiks-plattformen.\nInnbyggere som navigerer til nettsiden blir autentisert via ID-porten og presentert for en oversikt som inkluderer et søkefelt og en rekke tjenester.\nSøkefeltet gir mulighet til å gjøre et fritekstsøk på informasjonen som minside.kommune.no tilbyr innbyggeren: eiendommer, post, byggesaker osv. Denne informasjonen er også tilgjengelig via den enkelte tjeneste.\nMin profil Oversikt over informasjonen minside.kommune.no har om innbyggeren. Hentes fra kontakt-og-reservasjonsregisteret med utgangspunkt i brukerens ID-Porten-autentisering.\nPost fra kommunen Lar innbyggeren søke i post som er sendt til innbyggeren via KS SvarUt. Søket er også tilgjenglig på forsiden. For at disse skal bli tilgjenglig må tjenesten aktiveres via Fiks-konfigurasjon.\nMine eiendommer Viser eiendommer innbyggeren eier, basert på data fra matrikkelen. Disse eiendommene er også søkbare fra forsiden.\n\u0026ldquo;Mine eiendommer\u0026rdquo; er basert på data som automatisk synkroniseres fra Kartverket for alle kommuner. Det er altså ikke nødvendig å aktivere denne tjenesten.\nSom standard kan innbyggeren følge en lenke til seeiendom.kartverket.no for å se detaljer om eiendommen, men her har kommunen mulighet til angi lenker til eget eiendomssystem, se Fiks Konfigurasjon: Matrikkel. Minside vil da vise disse lenkene for innbyggere som har eiendommer i din kommune.\nMine byggesaker Viser byggesaker innbyggeren/organisasjonen har tilgang til. Disse kan være eksponert for nåværende eier av eiendom, fødselsnummer eller organisasjonsnummer.\nMine byggesaker er avhengig av at byggesaksarkivet speiler metadata til Fiks Innsyn.\nNasjonale tjenester Oversikt over viktige nasjonale tjenester. Ta kontakt med fiks@ks.no hvis du har forslag til ytterligere tjenester som bør finnes her.\nSkatt og avgift Lenker til viktige tjenester innen skatt og avgift. Ta kontakt med fiks@ks.no hvis du har forslag til ytterligere tjenester som bør finnes her.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelsesservicev11/",
	"title": "ForsendelsesServiceV11",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nNytt i denne versjonen  EksponertFor: Gir tilgang til andre enn mottaker å laste ned filene. Feltet kunDigitalLevering er fjernet og erstattet med feltet leveringsmetode som er av type Leveringsmetode. Feltet er påkrevd og Leveringsmetode har tre verdier: STANDARD_SVARUT_LEVERANSE, KUN_DIGITAL_UTEN_LEVERANSEGARANTI og KUN_DIGITAL_UTEN_LEVERANSEGARANTI_MASSEUTSENDELSE SigneringsLogg returnerer nå dato og Signeringsstatus.  Tjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse ForsendelsesId Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   sendForsendelseMedId Forsendelse, ForsendelsesId ForsendelsesId Se sendForsendelse.   startNyForsendelse  ForsendelsesId Genererer forsendelsesid som brukes sammen med sendForsendelseMedId.   retrieveForsendelsesStatus ForsendelsesId ForsendelsesStatus Henter status for en forsendelse.   retrieveForsendelsesStatuser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;ForsendelsesStatus\u0026gt; Henter status for flere forsendelser.   retrieveForsendelsesHistorikk ForsendelsesId ForsendelsesHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveSigneringsHistorikk ForsendelsesId SigneringsHistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringsHistorikkForFlereForsendelser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;SigneringsHistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.   setForsendelseLestAvEksterntSystem LestAv  Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelsesTyper  Set\u0026lt;String\u0026gt; Henter alle forsendelsestyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr OrganisasjonsNummer List\u0026lt;MottakerForsendelsesTyper\u0026gt; Henter alle konfigurerte mottakersystem for orgnr.   retrieveForsendelsesIderByEksternRef String List\u0026lt;ForsendelsesId\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   retrieveDokumentMetadata ForsendelsesId List\u0026lt;DokumentMetadata\u0026gt; Henter liste med informasjon om dokumentene til en forsendelse.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV11?wsdl\nOperasjoner sendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.\nSendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nsendForsendelseMedId Samme som sendForsendelse, men avsender setter forsendelsesid. Id må være av type UUID. Se sendForsendelse.\nstartNyForsendelse Genererer forsendelsesid (UUID) som brukes sammen med sendForsendelseMedId.\nretrieveForsendelsesStatus Henter status for en forsendelse. Denne bør brukers når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nretrieveForsendelsesStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall.\nretrieveForsendelsesHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene om en forsendelse.\nretrieveSigneringsHistorikk Henter signeringshistorikk for en gitt forsendelse.\nretrieveSigneringsHistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser.\nsetForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\nretreiveForsendelsesTyper Henter alle forsendelsestyper som Svarinn-mottakersystem kan konfigureres til å bruke.\nretrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\nretrieveForsendelsesIderByEksternRef Henter liste med forsendelseider som har denne eksternRef.\nretrieveDokumentMetadata Henter liste med informasjon om dokumentene til en forsendelse.\nModeller ForsendelsesId    Felt Type Beskrivelse Validering     id UUID      Forsendelse    Felt Type Beskrivelse Validering     mottaker Adresse Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   avgivendeSystem String Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på svarut@ks.no. Obligatorisk felt.    tittel String Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   konteringsKode String Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9-.øæåØÆÅ]{0,20}$   leveringsmetode Leveringsmetode Dersom leveringsmetode er satt til en \u0026ldquo;kunDigital\u0026rdquo;-verdi blir leveransen kun forsøkt levert digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.    kryptert boolean Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. Den offentlige nøkkelen PROD, Den offentlige nøkkelen for TEST    utskriftsKonfigurasjon UtskriftsKonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint    krevNiva4Innlogging boolean Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.    metadataFraAvleverendeSystem NoarkMetadataFraAvleverendeSaksSystem Noark5 metadata fra avleverende system    metadataForImport NoarkMetadataForImport Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak.    svarSendesTil Adresse Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Utfylt adresse blir validert,se PostAdresse.    svarPaForsendelse ForsendelsesId Forsendelsesid til forsendelse dette er et svar på.    dokumenter List Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.    lenker List Rekkefølgen er samme som de vil komme i brevet. Kan være tom.    forsendelsesType String Fritekst felt for å kunne identifisere forsendelse type.    eksternReferanse String Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    svarPaForsendelseLink boolean Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.    signeringUtloper Date Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må angis ved signeringsforsendelser   signaturType SignaturType Velge mellom autentisert eller avansert signering. Må angis ved signeringsforsendelser   eksponertFor List Orgnr og fødselsnr i liste får også log å laste ned forsendelse filene.     LestAv    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     lestAvFodselsNummer String     navnPaEksterntSystem String     datoLest Date      OrganisasjonsNummer    Felt Type Beskrivelse Validering     id String      ForsendelsesStatus    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     sisteStatusEndring Date     status Status      Status    Verdi Beskrivelse     MOTTATT Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen.   AKSEPTERT Meldingen er validert og forsendelsesfil dannet.   KLAR_FOR_MOTTAK Venter på at forsendelse skal bli lastet ned av mottaker.   VARSLET Et varsel om forsendelsen er sendt til varslingstjenesten.   LEST En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker.   SENDT_PRINT Forsendelsen er blitt overført til printleverandør.   SENDT_DIGITALT Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print.   SENDT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse.   LEVERT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker.   PRINTET Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).   AVVIST Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes.   IKKE_LEVERT Kun digital leveranse hvor vi ikke har klart å levere forsendelsen.   MANUELT_HANDTERT Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.    ForsendelsesHistorikk    Felt Type Beskrivelse Validering     hendelsesLogger List\u0026lt;HendelsesLogg\u0026gt;      SigneringsHistorikk    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     logg List\u0026lt;SigneringsLogg\u0026gt;      MottakerForsendelsesTyper    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer     forsendelsesType String     mottakerSystem String     mottakerId String     niva Integer      DokumentMetadata    Felt Type Beskrivelse Validering     mimeType String     filnavn String     kanSigneres Boolean Bare en fil kan signeres og skal være av type PDF Validerer at maks ett dokument pr forsendelse har flagget slått på   sizeInBytes Long     sha256hash String     dokumentType String     nedlasningsUrl String     signeringsUrl String     ekstraMetadata List\u0026lt;Entry\u0026gt;     inneholderPersonsensitivInformasjon Boolean      HendelsesLogg    Felt Type Beskrivelse Validering     tidspunkt String     hendelse String      SigneringsLogg    Felt Type Beskrivelse Validering     tidspunkt Date     type Signeringsstatus     hendelse String      Adresse    Felt Type Beskrivelse Validering     postAdresse PostAdresse Adressen forsendelsen sendes til dersom den går via brevpost Kan ikke være null   digitalAdresse DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse     PostAdresse    Felt Type Beskrivelse Validering     navn String Navn på mottaker Må være utfylt.   adresse1 String Adresselinje1    adresse2 String Adresselinje2    adresse3 String Adresselinje3    postSted String Poststed Må være utfylt dersom forsendelsen ikke er kun digital.   postNummer String Postnummer Må være utfylt dersom forsendelsen ikke er kun digital. Fire siffer for norske adresser.   land String Land Må være utfylt dersom forsendelsen ikke er kun digital.    DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse\nOrganisasjonDigitalAdresse    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer Må være utfylt for å kunne levere til altinn.     PersonDigitalAdresse    Felt Type Beskrivelse Validering     fodselsNummer String Må være utfylt for å kunne levere til altinn. Ved signeringsoppdrag må dette feltet være utfylt.    UtskriftsKonfigurasjon    Felt Type Beskrivelse Validering     utskriftMedFarger boolean     tosidig boolean      NoarkMetadataFraAvleverendeSaksSystem    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalAar Integer     journalSekvensNummer Integer     journalPostNummer Integer     journalPostType String     journalStatus String     journalDato Date     dokumentetsDato Date     tittel String     saksBehandler String     ekstraMetadata List\u0026lt;Entry\u0026gt;      NoarkMetadataForImport    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalPostType String     journalStatus String     dokumentetsDato Date     tittel String      Dokument    Felt Type Beskrivelse Validering     filnavn String Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller ) Disse tegnene er også ugyldige \u0026quot; \u0026lt; \u0026gt; ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows. Skiller ikke mellom store og små bokstaver i filnavnet.   mimeType String Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   skalSigneres Boolean Angir om dokumentet skal signeres Bare et dokument kan signeres og må være av type PDF   dokumentType String Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    data DataHandler Fildata    giroarkSider Set\u0026lt;\\Integer\u0026gt; Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    ekskluderesFraUtskrift Boolean Dette dokumentet blir ikke med i utskrift av forsendelsen. Brukes til filer som kun er interessant for digital levering. F.eks xml, video eller lyd filer    ekstraMetadata List\u0026lt;Entry\u0026gt; Brukes til andre data som avsender vil ha med i forsendelsen    inneholderPersonsensitivInformasjon Boolean Brukes for å gjøre mottaker oppmerksom på at dokumentet kan inneholde sensitiv informasjon     Lenke    Felt Type Beskrivelse Validering     urlLenke String Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   urlTekst String  Må være utfylt   ledeTekst String Teksten som kommer før lenken i brevet     SignaturType    Verdi Beskrivelse     AUTENTISERT_SIGNATUR    AVANSERT_SIGNATUR     Entry    Felt Type Beskrivelse Validering     key String     value String      Leveringsmetode    Verdi Beskrivelse     STANDARD_SVARUT_LEVERANSE Standard leveringsmetode og vil oppføre seg på samme måte som om feltet kunDigitalLevering var satt til usann   KUN_DIGITAL_UTEN_LEVERANSEGARANTI Vil avvise forsendelser til privatpersoner dersom KRR ikke finner vedkommende eller vedkommende har reservert seg   KUN_DIGITAL_UTEN_LEVERANSEGARANTI_MASSEUTSENDELSE Vil oppføre seg på samme måte som om feltet kunDigitalLevering var satt til sann    Signeringsstatus    Verdi Beskrivelse     AVVIST_AV_SVARUT    VENTER_SIGNERING    SIGNERT_AV_MOTTAKER    AVVIST_AV_MOTTAKER    UTLOPT     "
},
{
	"uri": "/fiks-plattform/tjenester/minside/faktura/",
	"title": "MinSide - Faktura",
	"tags": [],
	"description": "",
	"content": "Faktura består av flere tjenester som sammen lager faktura visningen.\nFunksjonalitet levert kun av Innsyn Dette er metadata om fakturaen som blir indeksert i innsyn. For detaljer se Innsyn\nFaktura og fakturastatus Funksjonaliteten skal gjøre det mulig å vise fakturadetaljer og status på alle fakturaer i Min Side slik at man kan redusere henvendelser om betalingsstatus på en faktura.\nFakturadata Funksjonaliteten skal gjøre det mulig å dra ut fakturadetaljer og presentere dem enklere, i tillegg til pdf-versjonen for å tilby bedre informasjon til innbyggere som ikke har PC\nDistribusjonskanal Funksjonaliteten skal vise hvilken distribusjonskanal faktura sendes på i Min Side, slik at man kan ha færre henvendelser om å endre distribusjonsmetode og henvendelser fra innbyggere som melder at «har ikke fått faktura»\nTilgjengeliggjøring av purring i MinSide Funksjonaliteten skal gjøre purringen tilgjengelig på MinSide samt knytte den til opprinnelig faktura. Den vil også tilby varsling på valgt kanal for de som har faktura som purres for slik å ha færre spørsmål om hvilke faktura det purres for.\nFaktura for eier av eiendom Funksjonaliteten skal kunne knytte faktura for eiendomsavgift til Gnr og Bnr fremfor et personnummer. Med dette vil faktura kunne vises i MinSide til begge parter som har betalingsplikt på kommunale avgifter og eier bolig sammen. Det vil føre til færre henvendelser om å bytte fakturamottaker eller ikke-mottatt faktura.\nSende kommentar på faktura - under utvikling Funksjonaliteten skal gi en mulighet for å sende en kommentar direkte på en faktura til riktig fagetat for innbyggere som har spørsmål til innholdet i fakturaen.\nDette er under utvikling, enten kan kommentar sendes via eDialog/SvarUT eller via en Fiks IO melding. Valget er ikke tatt enda.\nBetalingsutsettelse - under utvikling Funksjonaliteten skal gi mulighet til å velge betalingsutsettelse på en faktura for innbyggere som ikke kan betale regningen i tide.\nDet vil bli laget en protokoll for Fiks IO som vil kunne sende en forespørsel om betalingsutsettelse til fakturasystem, fakturasystem må svare tilbake om det er innvilget eller ikke, innen 10 sekund. Dette skjer mens brukeren venter på minside.\nDele opp betaling i flere avdrag - under vurdering Funksjonaliteten skal gi fakturamottaker mulighet til å dele opp betalingen i flere avdrag for innbyggere som ikke klarer å betale hele fakturabeløp i en omfang, og slik redusere henvendelser til kommunene om å dele opp betaling og færre purringer.\nDet vil da bli laget en Fiks IO protokoll slik som for betalingutsettelse med forespørsel om å dele opp faktura. Svar om innvilgelse må gis innen 10 sekund. Nye fakturaer må sendes rett etterpå og oppdateres i innsyn.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelserestservicev1/",
	"title": "ForsendelseRestServiceV1",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn og service-passord. Avsender opprettes, og passord genereres, av administrator for SvarUt via Fiks konfigurasjon.\nNytt i denne versjonen  Erstatter SOAP-tjenesten.  Endepunkter Base URL: /tjenester/api/forsendelse/v1\n   Url Method Innput Utdata Kort beskrivelse     /sendForsendelse POST Forsendelse ForsendelsesId Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   /startNyForsendelse POST  ForsendelsesId Genererer forsendelsesid som brukes sammen med sendForsendelseMedId.   /{id}/sendForsendelse POST Forsendelse, ForsendelsesId ForsendelsesId Se sendForsendelse.   /{id}/status GET ForsendelsesId ForsendelsesStatus Henter status for en forsendelse.   /{id}/dokumentMetadata GET ForsendelsesId List\u0026lt;DokumentMetadata\u0026gt; Henter liste med informasjon om dokumentene til en forsendelse.   /{id}/historikk GET ForsendelsesId ForsendelsesHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   /{id}/signeringhistorikk GET ForsendelsesId SigneringsHistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   /{id}/settLest POST LestAv  Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   /statuser POST List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;ForsendelsesStatus\u0026gt; Henter status for flere forsendelser.   /forsendelseTyper GET  List\u0026lt;String\u0026gt; Henter alle forsendelsestyper som kan brukes i SvarInn.   /mottakersystem/{orgnr} GET OrganisasjonsNummer List\u0026lt;MottakerForsendelsesTyper\u0026gt; Henter alle konfigurerte mottakersystem for orgnr.   /eksternref/{eksternref} String List\u0026lt;ForsendelsesId\u0026gt; Henter liste med forsendelseider som har denne eksternRef.     Klientbibliotek laget i Java finnes her: https://github.com/ks-no/svarut-rest-klient\nFeilmeldinger Beskrivelse av feilmeldinger\nVIKTIG! /sendForsendelse bør ha readtimeout på 16min. SvarUT har Timeout på 15min. SvarUt kan ta i mot ganske store filer, derfor er denne timeouten så høg.\nContent-Type må være \u0026lsquo;multipart/form-data\u0026rsquo; Første part må være name=\u0026quot;forsendelse\u0026rdquo; med JSON\nParts med dokumenter må være content-type application/octet-stream\nEksempel på forsendelse JSON Dette er ment som eksempel på JSON som sendes inn sammen med dokumenter. Utvidet beskrivelse av felter finnes lenger ned på siden.\n{ \u0026#34;mottaker\u0026#34;: { \u0026#34;postAdresse\u0026#34;: { \u0026#34;navn\u0026#34;: \u0026#34;Ole Olsen\u0026#34;, \u0026#34;adresse1\u0026#34;: \u0026#34;Gamleveien 1\u0026#34;, \u0026#34;postNummer\u0026#34;: \u0026#34;5258\u0026#34;, \u0026#34;postSted\u0026#34;: \u0026#34;Poststed\u0026#34; }, \u0026#34;digitalAdresse\u0026#34;: { \u0026#34;fodselsNummer\u0026#34;: \u0026#34;12345678912\u0026#34; } }, \u0026#34;eksponertFor\u0026#34;: [], \u0026#34;avgivendeSystem\u0026#34;: \u0026#34;S002-SAK\u0026#34;, \u0026#34;tittel\u0026#34;: \u0026#34;Tittel for sak\u0026#34;, \u0026#34;kunDigitalLevering\u0026#34;: false, \u0026#34;kryptert\u0026#34;: false, \u0026#34;utskriftsKonfigurasjon\u0026#34;: { \u0026#34;utskriftMedFarger\u0026#34;: false, \u0026#34;tosidig\u0026#34;: false }, \u0026#34;krevNiva4Innlogging\u0026#34;: false, \u0026#34;dokumenter\u0026#34;: [ { \u0026#34;filnavn\u0026#34;: \u0026#34;doc.pdf\u0026#34;, \u0026#34;mimeType\u0026#34;: \u0026#34;application/pdf\u0026#34;, \u0026#34;skalSigneres\u0026#34;: false, \u0026#34;ekskluderesFraUtskrift\u0026#34;: false } ], \u0026#34;lenker\u0026#34;: [], \u0026#34;svarPaForsendelseLink\u0026#34;: false } Request eksempel Dette er eksempel på oppbygging av en gyldig request med multipart\nPOST /tjenester/api/forsendelse/v1/sendForsendelse HTTP/1.1 Host: svarut.fiks.test.ks.no Authorization: Basic QXVkdW5UZXN0ZXJBdnNlbmRlcjpk..... Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW ------WebKitFormBoundary7MA4YWxkTrZu0gW Content-Disposition: form-data; name=\u0026quot;forsendelse\u0026quot; { \u0026quot;mottaker\u0026quot;: { \u0026quot;postAdresse\u0026quot;: { \u0026quot;navn\u0026quot;: \u0026quot;Ole Olsen\u0026quot;, \u0026quot;adresse1\u0026quot;: \u0026quot;Gamleveien 1\u0026quot;, \u0026quot;postNummer\u0026quot;: \u0026quot;5258\u0026quot;, \u0026quot;postSted\u0026quot;: \u0026quot;Poststed\u0026quot; }, \u0026quot;digitalAdresse\u0026quot;: { \u0026quot;fodselsNummer\u0026quot;: \u0026quot;12345678912\u0026quot; } }, \u0026quot;eksponertFor\u0026quot;: [], \u0026quot;avgivendeSystem\u0026quot;: \u0026quot;S002-SAK\u0026quot;, \u0026quot;tittel\u0026quot;: \u0026quot;Tittel for sak\u0026quot;, \u0026quot;kunDigitalLevering\u0026quot;: false, \u0026quot;kryptert\u0026quot;: false, \u0026quot;utskriftsKonfigurasjon\u0026quot;: { \u0026quot;utskriftMedFarger\u0026quot;: false, \u0026quot;tosidig\u0026quot;: false }, \u0026quot;krevNiva4Innlogging\u0026quot;: false, \u0026quot;dokumenter\u0026quot;: [ { \u0026quot;filnavn\u0026quot;: \u0026quot;sample.pdf\u0026quot;, \u0026quot;mimeType\u0026quot;: \u0026quot;application/pdf\u0026quot;, \u0026quot;skalSigneres\u0026quot;: false, \u0026quot;ekskluderesFraUtskrift\u0026quot;: false } ], \u0026quot;lenker\u0026quot;: [], \u0026quot;svarPaForsendelseLink\u0026quot;: false } ------WebKitFormBoundary7MA4YWxkTrZu0gW Content-Disposition: form-data; name=\u0026quot;sample.pdf\u0026quot;; filename=\u0026quot;sample.pdf\u0026quot; Content-Type: application/pdf ------WebKitFormBoundary7MA4YWxkTrZu0gW-- Modeller Datamodellene for REST-servicen finnes i JSON spec på https://github.com/ks-no/svarut-rest-klient/tree/master/svarut-rest-klient/json.\nForsendelsesId    Felt Type Beskrivelse Validering     id UUID      Forsendelse    Felt Type Beskrivelse Validering     mottaker Adresse Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   avgivendeSystem String Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på svarut@ks.no. Obligatorisk felt.    tittel String Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   konteringsKode String Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9-.øæåØÆÅ]{0,20}$   kunDigitalLevering boolean Dersom denne settes til true vil forsendelsen ikke under noen omstendigheter bli printet. INGEN GARANTI OM LEVERANSE. Vi prøver så godt vi kan, men funker ingen digitale kanaler får avsender ingen tilbakemelding. Brukes typisk til reklame.    kryptert boolean Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. Den offentlige nøkkelen PROD, Den offentlige nøkkelen for TEST    utskriftsKonfigurasjon UtskriftsKonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint    krevNiva4Innlogging boolean Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.    metadataFraAvleverendeSystem NoarkMetadataFraAvleverendeSaksSystem Noark5 metadata fra avleverende system    metadataForImport NoarkMetadataForImport Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak.    svarSendesTil Adresse Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Utfylt adresse blir validert,se PostAdresse.    svarPaForsendelse ForsendelsesId Forsendelsesid til forsendelse dette er et svar på.    dokumenter List Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.    lenker List Rekkefølgen er samme som de vil komme i brevet. Kan være tom.    forsendelsesType String Fritekst felt for å kunne identifisere forsendelse type.    eksternReferanse String Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    svarPaForsendelseLink boolean Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.    signeringUtloper Date Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må angis ved signeringsforsendelser   signaturType SignaturType Velge mellom autentisert eller avansert signering. Må angis ved signeringsforsendelser   eksponertFor List Orgnr og fødselsnr i liste får også log å laste ned forsendelse filene.    taushetsbelagtPost boolean Dersom denne settes til true vil forsendelsen, om den går til Altinn og mottaker er en organisasjon, sendes til tjenesten for taushetsbelagt post. Les mer om tilgangsstyring for taushetsbelagt post på https://minside.kommune.no/tbp.     LestAv    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     lestAvFodselsNummer String     navnPaEksterntSystem String     datoLest Date      OrganisasjonsNummer    Felt Type Beskrivelse Validering     id String      ForsendelsesStatus    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     sisteStatusEndring Date     status Status      Status    Verdi Beskrivelse     MOTTATT Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen.   AKSEPTERT Meldingen er validert og forsendelsesfil dannet.   KLAR_FOR_MOTTAK Venter på at forsendelse skal bli lastet ned av mottaker.   VARSLET Et varsel om forsendelsen er sendt til varslingstjenesten.   LEST En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker.   SENDT_PRINT Forsendelsen er blitt overført til printleverandør.   SENDT_DIGITALT Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print.   SENDT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse.   LEVERT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker.   PRINTET Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).   AVVIST Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes.   IKKE_LEVERT Kun digital leveranse hvor vi ikke har klart å levere forsendelsen.   MANUELT_HANDTERT Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.    ForsendelsesHistorikk    Felt Type Beskrivelse Validering     hendelsesLogger List\u0026lt;HendelsesLogg\u0026gt;      SigneringsHistorikk    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     logg List\u0026lt;SigneringsLogg\u0026gt;      MottakerForsendelsesTyper    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer     forsendelsesType String     mottakerSystem String     mottakerId String     niva Integer      DokumentMetadata    Felt Type Beskrivelse Validering     mimeType String     filnavn String     kanSigneres Boolean Bare en fil kan signeres og skal være av type PDF Validerer at maks ett dokument pr forsendelse har flagget slått på   sizeInBytes Long     sha256hash String     dokumentType String     nedlasningsUrl String     signeringsUrl String     ekstraMetadata List\u0026lt;Entry\u0026gt;     inneholderPersonsensitivInformasjon Boolean      HendelsesLogg    Felt Type Beskrivelse Validering     tidspunkt String     hendelse String      SigneringsLogg    Felt Type Beskrivelse Validering     tidspunkt Date     type Signeringsstatus     hendelse String      Adresse    Felt Type Beskrivelse Validering     postAdresse PostAdresse Adressen forsendelsen sendes til dersom den går via brevpost Kan ikke være null   digitalAdresse DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse     PostAdresse    Felt Type Beskrivelse Validering     navn String Navn på mottaker Må være utfylt.   adresse1 String Adresselinje1    adresse2 String Adresselinje2    adresse3 String Adresselinje3    postSted String Poststed Må være utfylt dersom forsendelsen ikke er kun digital.   postNummer String Postnummer Må være utfylt dersom forsendelsen ikke er kun digital. Fire siffer for norske adresser.   land String Land Må være utfylt dersom forsendelsen ikke er kun digital.    DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse\nOrganisasjonDigitalAdresse    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer Må være utfylt for å kunne levere til altinn.     PersonDigitalAdresse    Felt Type Beskrivelse Validering     fodselsNummer String Må være utfylt for å kunne levere til altinn. Ved signeringsoppdrag må dette feltet være utfylt.    UtskriftsKonfigurasjon    Felt Type Beskrivelse Validering     utskriftMedFarger boolean     tosidig boolean      NoarkMetadataFraAvleverendeSaksSystem    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalAar Integer     journalSekvensNummer Integer     journalPostNummer Integer     journalPostType String     journalStatus String     journalDato Date     dokumentetsDato Date     tittel String     saksBehandler String     ekstraMetadata List\u0026lt;Entry\u0026gt;      NoarkMetadataForImport    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalPostType String     journalStatus String     dokumentetsDato Date     tittel String      Dokument    Felt Type Beskrivelse Validering     filnavn String Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller ) Disse tegnene er også ugyldige \u0026quot; \u0026lt; \u0026gt; ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows. Skiller ikke mellom store og små bokstaver i filnavnet.   mimeType String Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   skalSigneres Boolean Angir om dokumentet skal signeres Bare et dokument kan signeres og må være av type PDF   dokumentType String Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    data DataHandler Fildata    giroarkSider Set\u0026lt;\\Integer\u0026gt; Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    ekskluderesFraUtskrift Boolean Dette dokumentet blir ikke med i utskrift av forsendelsen. Brukes til filer som kun er interessant for digital levering. F.eks xml, video eller lyd filer    ekstraMetadata List\u0026lt;Entry\u0026gt; Brukes til andre data som avsender vil ha med i forsendelsen    inneholderPersonsensitivInformasjon Boolean Brukes for å gjøre mottaker oppmerksom på at dokumentet kan inneholde sensitiv informasjon     Lenke    Felt Type Beskrivelse Validering     urlLenke String Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   urlTekst String  Må være utfylt   ledeTekst String Teksten som kommer før lenken i brevet     SignaturType    Verdi Beskrivelse     AUTENTISERT_SIGNATUR    AVANSERT_SIGNATUR     Entry    Felt Type Beskrivelse Validering     key String     value String      Leveringsmetode    Verdi Beskrivelse     STANDARD_SVARUT_LEVERANSE Standard leveringsmetode og vil oppføre seg på samme måte som om feltet kunDigitalLevering var satt til usann   KUN_DIGITAL_UTEN_LEVERANSEGARANTI Vil avvise forsendelser til privatpersoner dersom KRR ikke finner vedkommende eller vedkommende har reservert seg   KUN_DIGITAL_UTEN_LEVERANSEGARANTI_MASSEUTSENDELSE Vil oppføre seg på samme måte som om feltet kunDigitalLevering var satt til sann    Signeringsstatus    Verdi Beskrivelse     AVVIST_AV_SVARUT    VENTER_SIGNERING    SIGNERT_AV_MOTTAKER    AVVIST_AV_MOTTAKER    UTLOPT     "
},
{
	"uri": "/fiks-plattform/tjenester/fullmakt/",
	"title": "Fullmakt",
	"tags": [],
	"description": "",
	"content": "Tjenesten gjør det foreløpig mulig å hente fullmakter for organisasjoner, samt navn for autentisert bruker.\nEndepunkter (api-spec) For alle endepunktene hentes autentisert bruker fra access token i \u0026ldquo;Authorization\u0026rdquo;-headeren på requesten. Dette tokenet må være utstedt av ID-porten.\nMeg Forsøker å hente informasjon om autentisert bruker fra Altinn. Det eneste som hentes i dag er navn. Dersom personen ikke finnes returneres en respons med blankt navn.\nAlle Henter alle organisasjoner som autentisert bruker har rollen \u0026ldquo;Post/arkiv\u0026rdquo; eller \u0026ldquo;Kommunale tjenester\u0026rdquo; for i Altinn. Listen vil også inneholde en fullmakt for autentisert bruker, med navn satt dersom personen ekisterer i Altinn.\nAutoriser for organisasjon Sjekker om autentisert bruker har rollen \u0026ldquo;Post/arkiv\u0026rdquo; eller \u0026ldquo;Kommunale tjenester\u0026rdquo; i Altinn på organisasjonen med organisasjonsnummeret som sendes inn.\nOrganisasjonsnummer kan sendes inn som query parameter \u0026ldquo;orgno\u0026rdquo;, eller i HTTP-header med navn \u0026ldquo;OnBehalfOf\u0026rdquo;. Førstnevnte brukes dersom begge er satt.\n"
},
{
	"uri": "/fiks-plattform/tjenester/dokumentlager/",
	"title": "Dokumentlager",
	"tags": [],
	"description": "",
	"content": "Dokumentlager-tjenesten lar kommunen og andre Fiks-organisasjoner laste opp dokumenter. Ved opplasting autoriseres en eller flere personer og/eller organisasjoner for tilgang til dokumentet. Det er også mulig å laste opp dokumenter med en begrenset levetid, slik at det blir gjort utilgjengelig når denne tiden utløper.\nEn Fiks-organisasjon kan organisere sine dokumenter ved bruk av det som kalles kontoer. Alle dokumenter som lastes opp vil tilhøre en konto. Om man vil bruke en eller flere kontoer er helt opp til hver organisasjon. Kontoer administreres gjennom konfigurasjonsgrensesnittet, hvor man også finner statistikk for diskbruk, metadata for dokumenter, med mer.\nDokumentlageret vil bli benyttet av flere Fiks-tjenester: SvarUt, SvarInn, Digisos og Innsyn, men det kan også benyttes av en Fiks-organisasjons egne integrasjoner.\nDokumentlageret fungerer på følgende måte:\n En laster opp metadata om dokumentet. Her spesifiseres blant annet hvem dokumentet skal eksponeres for, dokumentets levetid, osv. En laster opp dokumentdata Dokumentet blir tilgjengelig for alle som er autorisert til å se det Dokumentet kan bli utilgjengeliggjort og slettet av en av grunnene spesifisert under  Det er tre forskjellige måter et dokument kan bli slettet på:\n Manuelt gjennom webgrensesnitt eller API Ved at dokumentets levetid utløper Dersom kontoen dokumentet hører til blir slettet  Når et dokument slettes vil metadata fortsette å eksistere, men selve dokumentet vil ikke lenger være tilgjengelig.\nKlienter For å gjøre det enklere å ta i bruk Dokumentlageret har KS utviklet en klient for opplasting og nedlasting. Denne støtter blant annet klient-side kryptering ved opplasting.\nPer i dag finnes denne klienten kun for Java, med en egen modul for konfigurering via Spring Boot. Kode og dokumentasjon finnes på GitHub: https://github.com/ks-no/fiks-dokumentlager-klient\nIntegrasjonsutvikling Alle operasjoner i dokumentlageret utføres på en konto, som er en ressurs som hører til dokumentlager-tjenesten til en Fiks-organisasjon. Hvordan disse organiseres er opp til hver organisasjon. Man kan ha én konto for alt, eller dele det opp over mange, slik at man for eksempel kan gi forskjellige tilganger for hver konto.\nDe vanlige autentiseringsreglene for Fiks-plattformen gjelder for denne tjenesten, men i tillegg må integrasjonen ha rett til å laste opp dokumenter på en dokumentlager konto. Disse tilgangene tildeles som vanlig gjennom konfigurasjonsgrensesnittet, men må gis på kontonivå. Dersom man har flere kontoer, men ønsker å gi en integrasjon tilgang til flere av disse må tilgang gis på hver enkelt konto.\nOpplasting Opplasting gjøres med en POST-request mot følgende URL:\n Test: https://api.fiks.test.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/ Prod: https://api.fiks.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/  Ved vellykket opplasting returneres et JSON objekt som inneholder ID for det opplastede dokumentet:\n{ \u0026#34;id\u0026#34;: \u0026#34;9dba7b9e-8fb8-4589-ae3e-740897852a6b\u0026#34; } URL for nedlasting ligger i Location-header på returnert 201 CREATED respons, eller her:\n Test  https://minside.fiks.test.ks.no/dokumentlager/nedlasting/{id} https://minside.fiks.test.ks.no/dokumentlager/nedlasting/niva4/{id} (Krever nivå 4 innlogging)   Prod  https://minside.kommune.no/dokumentlager/nedlasting/{id} https://minside.kommune.no/dokumentlager/nedlasting/niva4/{id} (Krever nivå 4 innlogging)    Metadata Metadata for dokumenter legges i multipart med navn metadata og defineres i JSON. Content-Type må på multiparten må settes til application/json. Et eksempel er vist under:\n{ \u0026#34;dokumentnavn\u0026#34;: \u0026#34;dokument.pdf\u0026#34;, \u0026#34;mimetype\u0026#34;: \u0026#34;application/pdf\u0026#34;, \u0026#34;ttl\u0026#34;: 86400, \u0026#34;sikkerhetsniva\u0026#34;: 3, \u0026#34;korrelasjonsid\u0026#34;: \u0026#34;fa315d73-7ed0-4192-99d1-4049f47e2200\u0026#34; \u0026#34;eksponertFor\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;PERSON\u0026#34;, \u0026#34;fnr\u0026#34;: \u0026#34;12345679810\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;INTEGRASJON\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;249e3fde-e3d8-435e-835f-16a432598c10\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;ORGANISASJON\u0026#34;, \u0026#34;orgnr\u0026#34;: \u0026#34;123456789\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;AUTORISASJON\u0026#34;, \u0026#34;privilegium\u0026#34;: \u0026#34;EN.TILGANG\u0026#34;, \u0026#34;ressurs\u0026#34;: \u0026#34;77e0d6b5-f2cd-4f54-80bb-723c598026da\u0026#34; } ] }  Dokumentnavn - Dokumentets navn, ved nedlasting gjennom en browser vil dette bli satt som default navn på filen som lagres på disk MIME type - Dokumenttype på gyldig MIME-format. Se https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types TTL - Hvor mange sekunder etter opplasting dokumentet skal være tilgjengelig. Ved utløp blir dokumentet utilgjengeliggjort og slettes. Sikkerhetsniva - Sikkerhetsnivå som skal kreves ved nedlasting av dokument. Ved nivå 4 kreves kryptering hos klient før opplasting. Se https://eid.difi.no/nb/sikkerhet-og-informasjonskapsler/ulike-sikkerhetsniva Korrelasjonsid - Id som kan brukes til å indikere at flere dokumenter hører sammen. Feltet er ikke påkrevd. Eksponert for - Liste over aktører som skal ha tilgang til å laste ned dokumentet. Kan være følgende typer:  Person - Eksponeres for en persons fødselsnummer. En gyldig ID-porten innlogging for en person med dette fødselsnummeret vil ha lov til å laste ned dokumentet. Integrasjon - Eksponeres for en UUID som identifiserer en integrasjon. En klient innlogget med integrasjonsid, integrasjonspassord og virksomhetssertifikatet som er autentisert til å bruke integrasjonen vil ha lov til å laste ned dokumentet. Organisasjon - Eksponeres for et organisasjonsnummer. Personer med Post/arkiv- eller Kommunale tjenester-rollen i Altinn på dette organisasjonsnummeret vil ha lov til å laste ned dokumentet. Autorisasjon - Eksponeres for et \u0026ldquo;privilegium, ressurs\u0026rdquo;-par. Personer eller integrasjoner med gitt privilegium på gitt ressurs vil ha lov til å laste ned dokumentet.    Dokument Dokumentdata legges i multipart med navn dokument.\nDersom ikke kryptert query parameter er satt til true vil dokumentet krypteres av tjenesten før det lagres. Dersom man ønsker å laste opp dokumenter på nivå 4, eller bare ønsker ende-til-ende-kryptering ved opplasting, må dette flagget settes til true, og dokumentet må krypteres med dokumentlagerets public-key før opplasting. Uavhengig av hva man velger vil alle dokumenter være kryptert etter opplasting, og vil kun dekrypteres når en aktør som er autorisert til å laste ned dokumentet laster det ned.\nPublic-keyen kan hentes med en GET-request mot følgende endepunkt:\n Test: https://api.fiks.test.ks.no/dokumentlager/api/v1/public-key Prod: https://api.fiks.ks.no/dokumentlager/api/v1/public-key  Responskoder   201 Created - Dokumentet ble lastet opp. Body inneholder metadata:\n{ \u0026#34;id\u0026#34;: \u0026#34;5636b391-41e7-4504-ab3c-1f3df122b483\u0026#34;, \u0026#34;dokumentnavn\u0026#34;: \u0026#34;dokument.pdf\u0026#34;, \u0026#34;mimeType\u0026#34;: \u0026#34;application/pdf\u0026#34;, \u0026#34;ukryptertStorrelse\u0026#34;: 29765, \u0026#34;kryptertStorrelse\u0026#34;: 30680 } Url for personnedlasting returneres i Location-header: Location: https://minside.kommune.no/dokumentlager/nedlasting/5636b391-41e7-4504-ab3c-1f3df122b483\n  400 Bad Request - Request er ikke i henhold til spesifikasjonen.\n  403 Forbidden - Integrasjonen har ikke nødvendige tilganger til å laste opp dokumenter på spesifisert konto og organisasjon.\n  404 Not Found - Fant ingen konto med spesifisert id for organisasjonen.\n  410 Gone - Konto er slettet.\n  Eksempel (cURL) curl -X POST https://api.fiks.test.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/ \\ -H \u0026#34;Authorization: Bearer \u0026lt;gyldig access token\u0026gt;\u0026#34; \\ -H \u0026#34;IntegrasjonId: \u0026lt;integrasjonsid\u0026gt;\u0026#34; \\ -H \u0026#34;IntegrasjonPassord: \u0026lt;integrasjonspassord\u0026gt;\u0026#34; \\ -F \u0026#34;metadata={\\\u0026#34;dokumentnavn\\\u0026#34;:\\\u0026#34;dokument.pdf\\\u0026#34;,\\\u0026#34;mimetype\\\u0026#34;:\\\u0026#34;application/pdf\\\u0026#34;,\\\u0026#34;ttl\\\u0026#34;:3600,\\\u0026#34;eksponertFor\\\u0026#34;:[{\\\u0026#34;type\\\u0026#34;:\\\u0026#34;PERSON\\\u0026#34;, \\\u0026#34;fnr\\\u0026#34;:\\\u0026#34;\u0026lt;fødselsnummer\u0026gt;\\\u0026#34;}],\\\u0026#34;sikkerhetsniva\\\u0026#34;:3};type=application/json\u0026#34; \\ -F \u0026#34;dokument=@dokument.pdf\u0026#34; Sletting Integrasjoner som er autorisert til å laste opp dokumenter har også lov til å slette.\nDette gjøres med en DELETE-request mot følgende URL:\n Test: https://api.fiks.test.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/{dokumentId} Prod: https://api.fiks.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/{dokumentId}  Responskoder  200 OK - Dokumentet med spesifisert id ble slettet. Tom body. 400 Bad Request - Request er ikke i henhold til spesifikasjonen. 403 Forbidden - Integrasjonen har ikke nødvendige tilganger til å slette dokumenter på spesifisert konto og organisasjon. 404 Not Found - Fant ikke et dokument med oppgitt id, eller spesifisert konto og organisasjon. 410 Gone - Dokumentet er allerede slettet, eller konto er slettet.  Feilmeldinger Beskrivelse av feilmeldinger\n"
},
{
	"uri": "/svarut/testmiljo/",
	"title": "SvarUt Testmiljø",
	"tags": [],
	"description": "",
	"content": "Vi ønsker ikke sensetive data i test miljøet.\nFor å lage integrasjoner mot SvarUt kan en teste mot vårt testmiljø. Testmiljøet har ingen garantier for oppetid, men vi prøver at det er tilgjengelig hele tiden. Test miljøet inneholder de siste endringene også endringer som ikke er produksjonsatt.\nTest miljøet er tilgjengelig på https://test.svarut.ks.no\nPrint I test kan en velge grafisk digital som print leverandør, ingen filer vil gå til grafisk digital de vil kun bli simulert sending til print. Vi anbefaler derfor å bruke Manuell print og fra det grensesnittet sette forsendelser til printet.\nAltinn Altinn går i test mot altinn sitt tt02 test miljø. https://tt02.altinn.no Her kan dere lese meldinger sendt til test brukere og test organisasjoner.\nDigital post Digipost/eBoks går i test mot Digipost og eBoks test miljø. Digipost: https://qaoffentlig.digipost.no/ eBoks: http://demo2-www.e-boks.no/default.aspx\nFor å sette at bruker skal bruke digital postkasse må dette gjøres i Kontakt og reservasjonsregisteret ver1: https://brukerprofil-ver1.difi.no/minprofil/\nMinid innlogging Alle testbrukere dere får fra oss har minid innlogging. Her anbefaler vi at dere setter tlfnr og epost slik at brukeren kan låses opp om noen skulle sperre den med feilede innloggingsforsøk.\nSvarinn For å teste svarinn må en registrere orgnr i mottakersystemet. De fleste av testbrukerene har tilgang til et orgnr. Orgnr finner dere ved å logge inn i altinn test. https://tt02.altinn.no . Orgnr du har tilgang til der kan legges inn i SvarInn konfigurasjonen.\nTilgang til SvarUt test Alle får tilgang til SvarUt test, send en mail til svarut-utvikling@ks.no så tildeler vi dere test oppsett. Har dere idporten testbrukere fra før send med fnr til disse. Hvis dere ikke har så får dere en av KS.\n"
},
{
	"uri": "/fiks-plattform/testmiljo/",
	"title": "Testmiljø",
	"tags": [],
	"description": "",
	"content": "Fiks-plattformens testmiljø er tilgjengelig for kommuner,fylkeskommuner og leverandører som ønsker å teste konfigurasjon og integrasjoner. Miljøet er koblet til eksterne testmiljøer for integrerte komponenter: ID-Porten, Altinn og KS-SvarUt. Man kan dermed teste hele løpet, komplett med autentisering og autorisering.\nFiks test blir brukt til å verifisere endringer før de går i produksjon, og vil derfor ligge litt foran produksjon. Vi har ingen garantier på oppetid i test, men forsøker å holde eventuell nedetid så kort som mulig.\nMerk at testmiljøet ikke har de samme sikkerhetsgarantiene som produksjon - det er dermed viktig at man ikke benytter sensitive data under test.\nTilgang til testmiljøet Send e-post til fiks@ks.no for tilgang til testmiljøet. Send gjerne med eventuelle eksisterende testbrukere i ID-porten, slik at disse kan gjenbrukes for tilganger på Fiks-plattformen.\nHvor er testmiljøet? Minside kan nås på https://minside.fiks.test.ks.no, konfigurasjon finnes på https://forvaltning.fiks.test.ks.no. Benytt ID-porten testbruker for innlogging.\nSvarUt data for \u0026ldquo;Post fra kommunen\u0026rdquo; på Minside kommer fra SvarUts testmiljø. Aktiver avsendere i Fiks-konfigurasjonen for å indeksere meldinger.\nPersoninnlogging Alle testbrukere dere får fra oss har \u0026ldquo;Min Id\u0026rdquo;-innlogging i ID-Porten. Her anbefaler vi at dere setter telefonnummer og e-post slik at brukeren kan låses opp om noen skulle sperre den med feilede innloggingsforsøk.\nIntegrasjoninnlogging For å kunne teste integrasjoner mot Fiks-plattformen i test må organisasjonen ha en ID-porten-konto. For å få dette må en henvende seg til idporten@difi.no og sende med orgnr i fra testvirksomhetssertifikat.\nEtter at konto er registrert hos ID-porten kan integrasjonen opprettes og autoriseres i Fiks-konfigurasjon.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelsesservicev10/",
	"title": "ForsendelsesServiceV10",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nNytt i denne versjonen  Ny operasjon: retrieveDokumentMetadata. Denne er lagt inn for å kunne hente ut informasjon om bl.a. hvor dokumentet kan lastes ned og eventuelt lenke til signeringsoppdrag. Endret operasjon: setForsendelseLestAvEksterntSystem. Denne er oppdatert til å ta imot objekt av type LestAv. Endret operasjoner: retrieveForsendelsesStatus og retrieveForsendelsesStatuser, begge returnerer nå samme modell-objekt (ForsendelsesStatus). Sistnevnte operasjon har pakket resultatet i en liste. Forsendelsesid og organisasjonsnummer er kapslet inn i egne typer. Modell-objektet StatusResult heter nå ForsendelsesStatus. Gamle ForsendelseStatus heter nå Status og blir returnert som en del av ForsendelsesStatus. Modell-objektet Brevpost er ikke lenger i bruk og er fjernet. Modell-objektet PrintKonfigurasjon heter nå UtskriftsKonfigurasjon. Alle modell-objektene er oppdatert til å bruke camelCase på felt og attributter.  Tjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse ForsendelsesId Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   sendForsendelseMedId Forsendelse, ForsendelsesId ForsendelsesId Se sendForsendelse.   startNyForsendelse  ForsendelsesId Genererer forsendelsesid som brukes sammen med sendForsendelseMedId.   retrieveForsendelsesStatus ForsendelsesId ForsendelsesStatus Henter status for en forsendelse.   retrieveForsendelsesStatuser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;ForsendelsesStatus\u0026gt; Henter status for flere forsendelser.   retrieveForsendelsesHistorikk ForsendelsesId ForsendelsesHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveSigneringsHistorikk ForsendelsesId SigneringsHistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringsHistorikkForFlereForsendelser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;SigneringsHistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.   setForsendelseLestAvEksterntSystem LestAv  Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelsesTyper  Set\u0026lt;String\u0026gt; Henter alle forsendelsestyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr OrganisasjonsNummer List\u0026lt;MottakerForsendelsesTyper\u0026gt; Henter alle konfigurerte mottakersystem for orgnr.   retrieveForsendelsesIderByEksternRef String List\u0026lt;ForsendelsesId\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   retrieveDokumentMetadata ForsendelsesId List\u0026lt;DokumentMetadata\u0026gt; Henter liste med informasjon om dokumentene til en forsendelse.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV10?wsdl\nOperasjoner sendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.\nSendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nsendForsendelseMedId Samme som sendForsendelse, men avsender setter forsendelsesid. Id må være av type UUID. Se sendForsendelse.\nstartNyForsendelse Genererer forsendelsesid (UUID) som brukes sammen med sendForsendelseMedId.\nretrieveForsendelsesStatus Henter status for en forsendelse. Denne bør brukers når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nretrieveForsendelsesStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall.\nretrieveForsendelsesHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene om en forsendelse.\nretrieveSigneringsHistorikk Henter signeringshistorikk for en gitt forsendelse.\nretrieveSigneringsHistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser.\nsetForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\nretreiveForsendelsesTyper Henter alle forsendelsestyper som Svarinn-mottakersystem kan konfigureres til å bruke.\nretrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\nretrieveForsendelsesIderByEksternRef Henter liste med forsendelseider som har denne eksternRef.\nretrieveDokumentMetadata Henter liste med informasjon om dokumentene til en forsendelse.\nModeller ForsendelsesId    Felt Type Beskrivelse Validering     id UUID      Forsendelse    Felt Type Beskrivelse Validering     mottaker Adresse Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   avgivendeSystem String Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på svarut@ks.no. Obligatorisk felt.    tittel String Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   konteringsKode String Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9-.øæåØÆÅ]{0,20}$   kunDigitalLevering boolean Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.    kryptert boolean Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. Den offentlige nøkkelen PROD, Den offentlige nøkkelen for TEST    utskriftsKonfigurasjon UtskriftsKonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint    krevNiva4Innlogging boolean Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.    metadataFraAvleverendeSystem NoarkMetadataFraAvleverendeSaksSystem Noark5 metadata fra avleverende system    metadataForImport NoarkMetadataForImport Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak.    svarSendesTil Adresse Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Utfylt adresse blir validert,se PostAdresse.    svarPaForsendelse ForsendelsesId Forsendelsesid til forsendelse dette er et svar på.    dokumenter List Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.    lenker List Rekkefølgen er samme som de vil komme i brevet. Kan være tom.    forsendelsesType String Fritekst felt for å kunne identifisere forsendelse type.    eksternReferanse String Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    svarPaForsendelseLink boolean Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.    signeringUtloper Date Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må angis ved signeringsforsendelser   signaturType SignaturType Velge mellom autentisert eller avansert signering. Må angis ved signeringsforsendelser    LestAv    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     lestAvFodselsNummer String     navnPaEksterntSystem String     datoLest Date      OrganisasjonsNummer    Felt Type Beskrivelse Validering     id String      ForsendelsesStatus    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     sisteStatusEndring Date     status Status      Status    Verdi Beskrivelse     MOTTATT Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen.   AKSEPTERT Meldingen er validert og forsendelsesfil dannet.   KLAR_FOR_MOTTAK Venter på at forsendelse skal bli lastet ned av mottaker.   VARSLET Et varsel om forsendelsen er sendt til varslingstjenesten.   LEST En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker.   SENDT_PRINT Forsendelsen er blitt overført til printleverandør.   SENDT_DIGITALT Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print.   SENDT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse.   LEVERT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker.   PRINTET Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).   AVVIST Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes.   IKKE_LEVERT Kun digital leveranse hvor vi ikke har klart å levere forsendelsen.   MANUELT_HANDTERT Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.    ForsendelsesHistorikk    Felt Type Beskrivelse Validering     hendelsesLogger List\u0026lt;HendelsesLogg\u0026gt;      SigneringsHistorikk    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     logg List\u0026lt;SigneringsLogg\u0026gt;      MottakerForsendelsesTyper    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer     forsendelsesType String     mottakerSystem String     mottakerId String     niva Integer      DokumentMetadata    Felt Type Beskrivelse Validering     mimeType String     filnavn String     kanSigneres Boolean Bare en fil kan signeres og skal være av type PDF Validerer at maks ett dokument pr forsendelse har flagget slått på   sizeInBytes Long     sha256hash String     dokumentType String     nedlasningsUrl String     signeringsUrl String      HendelsesLogg    Felt Type Beskrivelse Validering     tidspunkt String     hendelse String      SigneringsLogg    Felt Type Beskrivelse Validering     tidspunkt String     type String     hendelse String      Adresse    Felt Type Beskrivelse Validering     postAdresse PostAdresse Adressen forsendelsen sendes til dersom den går via brevpost Kan ikke være null   digitalAdresse DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse     PostAdresse    Felt Type Beskrivelse Validering     navn String Navn på mottaker Må være utfylt.   adresse1 String Adresselinje1    adresse2 String Adresselinje2    adresse3 String Adresselinje3    postSted String Poststed Må være utfylt dersom forsendelsen ikke er kun digital.   postNummer String Postnummer Må være utfylt dersom forsendelsen ikke er kun digital. Fire siffer for norske adresser.   land String Land Må være utfylt dersom forsendelsen ikke er kun digital.    DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse\nOrganisasjonDigitalAdresse    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer Må være utfylt for å kunne levere til altinn.     PersonDigitalAdresse    Felt Type Beskrivelse Validering     fodselsNummer String Må være utfylt for å kunne levere til altinn. Ved signeringsoppdrag må dette feltet være utfylt.    UtskriftsKonfigurasjon    Felt Type Beskrivelse Validering     utskriftMedFarger boolean     tosidig boolean      NoarkMetadataFraAvleverendeSaksSystem    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalAar Integer     journalSekvensNummer Integer     journalPostNummer Integer     journalPostType String     journalStatus String     journalDato Date     dokumentetsDato Date     tittel String     saksBehandler String     ekstraMetadata List\u0026lt;Entry\u0026gt;      NoarkMetadataForImport    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalPostType String     journalStatus String     dokumentetsDato Date     tittel String      Dokument    Felt Type Beskrivelse Validering     filnavn String Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller ) Disse tegnene er også ugyldige \u0026quot; \u0026lt; \u0026gt; ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows. Skiller ikke mellom store og små bokstaver i filnavnet.   mimeType String Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   skalSigneres Boolean Angir om dokumentet skal signeres Bare et dokument kan signeres og må være av type PDF   dokumentType String Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    data DataHandler Fildata    giroarkSider Set\u0026lt;\\Integer\u0026gt; Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    ekskluderesFraUtskrift Boolean Dette dokumentet blir ikke med i utskrift av forsendelsen. Brukes til filer som kun er interessant for digital levering. F.eks xml, video eller lyd filer     Lenke    Felt Type Beskrivelse Validering     urlLenke String Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   urlTekst String  Må være utfylt   ledeTekst String Teksten som kommer før lenken i brevet     SignaturType    Verdi Beskrivelse     AUTENTISERT_SIGNATUR    AVANSERT_SIGNATUR     Entry    Felt Type Beskrivelse Validering     key String     value String      "
},
{
	"uri": "/svarut/edialog/",
	"title": "Edialog",
	"tags": [],
	"description": "",
	"content": "Sikker innsending av brev via SvarUt til mottakersystem i SvarUt. For å starte å bruke eDialog må du benytte SvarInn. eDialog kan aktiveres i konfigurasjonen for en avsender i SvarUt. Alle brev som blir send til eDialog mottakeren du konfigurerer vil bruke denne avsender for eventuelle kostnader tilknyttet forsendelsen.\neDialog åpen innsending eDialog er tilgjengelig på https://svarut.ks.no/edialog/ Her kan en velge mottaker blandt alle som er registrert i SvarUt.\neDialog med predefinert mottaker Hvis en vil linke til eDialog med ferdigutfylt mottaker kan en brukelinken https://svarut.ks.no/edialog/mottaker/\u0026amp;lt;orgnr\u0026gt; Da vil det ikke være mulig å endre mottaker.\nSvare på forsendelse ved bruk av eDialog Hvis en benytter v6 eller nyere av forsendelseservicen i SvarUt kan en sende med en lenke til eDialog for å besvare forsendelsen. Denne linken vil da ha utfylt avsender, mottaker og tittel.\n En sender inn forsendelse med svarPaForsendelseLink = true, svarSendesTil utfylt med orgnr lik en edialogmottaker sitt orgnr. Avsender får en forsendelseid i retur. SvarUt sender vanlig varsel til SDP/Altinn med link for å kunne svare på forsendelsen. Innbygger/mottaker klikker på \u0026ldquo;svar på forsendelse\u0026rdquo; link i Altinn/SDP. Innbygger/mottaker fyller ut edialog skjema og trykker send. Edialog sender kvittering på innsendt skjema til Innbygger Edialog lager en ny forsendelse til avsender. Dette er utfylt med svarPaForsendelse lik forsendelseid til opprinnelig forsendelse. Sak/Arkivsystem mottar forsendelse via SvarInn og ser at dette er svar på utgående forsendelse og putter svaret på samme sak.  "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev4/",
	"title": "ForsendelseServiceV4",
	"tags": [],
	"description": "",
	"content": "Her beskrives funksjonalitet for ForsendelseServiceV4\nWSDL Tilgang For å benytte webservicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.   "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev5/",
	"title": "ForsendelseServiceV5",
	"tags": [],
	"description": "",
	"content": "Her beskrives funksjonalitet for ForsendelseServiceV5\nWSDL Tilgang For å benytte webservicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   DokumentType - heter forsendelseType i versjon 6 Fritekst felt for å kunne identifisere forsendelse type. Dette feltet blir ikke brukt til noe i dag, men vil bli søkbart og tilgengelig i SvarInn.    eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev6/",
	"title": "ForsendelseServiceV6",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV6?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   dokumentType - blir endret til forsendelseType i nyere versjoner Fritekst felt for å kunne identifisere forsendelse type. Dette feltet blir ikke brukt til noe i dag, men vil bli søkbart og tilgengelig i SvarInn.    eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon.    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt   "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev7/",
	"title": "ForsendelseServiceV7",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV7?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må dette feltet være av type PrivatPerson.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.  Ved signeringsoppdrag må feltet være satt til Organisasjon   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon. Ved signeringsoppdrag må organisasjonsnummer må være fylt ut.   signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt   "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev8/",
	"title": "ForsendelseServiceV8",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelseTyper  List\u0026lt;String\u0026gt; Henter alle forsendelseTyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr organisasjonsnr Liste med  orgnr,  forsendelseType,  nivå,  mottakersystem,  mottakersystemid Henter alle konfigurerte mottakersystem for orgnr    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV8?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   DokumentType Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil Addresse, full post adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut    PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    retrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\n  Felt Beskrivelse Validering     Organisasjonsnr Organisasjonsnr. Må være utfylt    Du vil få tilbake en liste med:, orgnr, forsendelseType, nivå, mottakersystem, og mottakersystemid.\n  Felt Beskrivelse     Orgnr Organisasjonsnr.   ForsendelseType Forsendelsetypen dette systemet vil motta for, hvis null eller tom vil den kunne motta alle forsendelseTyper.   Nivå Hvilket forsendelsenivå dette mottakersystemet støtter.   Mottakersystem Navn på mottakersystem   Mottakersystemid Id for å identifiserere mottakersystem    retreiveForsendelseTyper Henter alle forsnedelseTyper som Svarinn mottakersystem kan konfigureres til å bruke.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev9/",
	"title": "ForsendelseServiceV9",
	"tags": [],
	"description": "",
	"content": "Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelseTyper  List\u0026lt;String\u0026gt; Henter alle forsendelseTyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr organisasjonsnr Liste med  orgnr,  forsendelseType,  nivå,  mottakersystem,  mottakersystemid Henter alle konfigurerte mottakersystem for orgnr   retrieveSigneringshistorikk forsendelsesid Signeringshistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringshistorikkForFlereForsendelser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;Signeringshistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV9?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   DokumentType Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    EkskluderesFraPrint Dette dokumentet blir ikke med i print av forsendelsen. Brukes til filer som kun er interesange ved digital levering. F.eks xml, video eller lyd filer    Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil Addresse, full post adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut    PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    retrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\n  Felt Beskrivelse Validering     Organisasjonsnr Organisasjonsnr. Må være utfylt    Du vil få tilbake en liste med:, orgnr, forsendelseType, nivå, mottakersystem, og mottakersystemid.\n  Felt Beskrivelse     Orgnr Organisasjonsnr.   ForsendelseType Forsendelsetypen dette systemet vil motta for, hvis null eller tom vil den kunne motta alle forsendelseTyper.   Nivå Hvilket forsendelsenivå dette mottakersystemet støtter.   Mottakersystem Navn på mottakersystem   Mottakersystemid Id for å identifiserere mottakersystem    retreiveForsendelseTyper Henter alle forsnedelseTyper som Svarinn mottakersystem kan konfigureres til å bruke.\nretrieveSigneringshistorikk Henter signeringshistorikk for en gitt forsendelse.\nInndata   Felt Type Beskrivelse Validering     forsendelseid String Identifikator som unikt identifiserer en forsendelse. Må være utfylt    Utdata   Felt Type Beskrivelse     forsendelseid String Identifikator som unikt identifiserer en forsendelse.   logg List\u0026lt;Signeringslogg\u0026gt;  Signeringslogg   Felt Type     tidspunkt String   type String   hendelse String   Liste med logg-elementer    retrieveSigneringshistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser. Returnerer liste med signeringshistorikk.\n"
},
{
	"uri": "/svarut/integrasjon/kodeeksempelmottakerrest/",
	"title": "Kodeeksempel MottaksserviceV1",
	"tags": [],
	"description": "",
	"content": "Last ned komplett kodeeksempel\nMaven dependencies \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.httpcomponents\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.3.5\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.httpcomponents\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;httpmime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.3.5\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.10\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; Maven plugin \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-compiler-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.5.1\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;source\u0026gt;1.7\u0026lt;/source\u0026gt; \u0026lt;target\u0026gt;1.7\u0026lt;/target\u0026gt; \u0026lt;encoding\u0026gt;UTF-8\u0026lt;/encoding\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; Kall av tjenesten public class TestMottakerService { public static String host = \u0026#34;https://svarut.ks.no\u0026#34;; public static String mottakerid = \u0026#34;AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\u0026#34;; public static String passord = \u0026#34;AAAAAAAAAAA^AAAAAAAA(BBBBBBBBBBBB.BBBBBBBBB\u0026#34;; public static String forsendelsesId = \u0026#34;BBBBBBB-BBBB-BBBB-BBBB-BBBBBBBBBBBB\u0026#34;; @Test public void testMottakerServiceHentNyeForsendelser(){ String urlHentNyeForsendelser = \u0026#34;/tjenester/svarinn/mottaker/hentNyeForsendelser\u0026#34;; HttpGet request1 = new HttpGet(host+urlHentNyeForsendelser); System.out.println(\u0026#34;Tester pendingForsendelser\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request1, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } @Test public void testMottakerServiceHentForsendelseFil(){ String urlForsendelseFiler = \u0026#34;/tjenester/svarinn/forsendelse/\u0026#34;+forsendelsesId; HttpGet request2 = new HttpGet(host+urlForsendelseFiler); System.out.println(\u0026#34;Tester getForsendelseFil\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request2, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } @Test public void testMottakerServiceKvitterMottak(){ String urlKvitterMottak = \u0026#34;/tjenester/svarinn/kvitterMottak/forsendelse/\u0026#34;+forsendelsesId; HttpPost request3 = new HttpPost(host+urlKvitterMottak); System.out.println(\u0026#34;Tester kvitterMottak\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request3, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } }` Underliggende klient public static void executeHttpsRequest(HttpRequestBase request, String mottakerid, String passord){ DefaultHttpClient client = getDefaultClient(); CredentialsProvider credentialsProvider = new BasicCredentialsProvider(); credentialsProvider.setCredentials( AuthScope.ANY, new UsernamePasswordCredentials(mottakerid, passord)); client.setCredentialsProvider(credentialsProvider); try{ HttpResponse response = client.execute(request); byte[] responseBody = EntityUtils.toByteArray(response.getEntity()); if(response.getStatusLine().getStatusCode() != HttpStatus.SC_OK){ System.err.println(\u0026#34;HTTP kallet feilet med kode: \u0026#34; + response.getStatusLine()); } else { System.out.println(\u0026#34;HTTP kallet suksess med kode: \u0026#34; + response.getStatusLine()); System.out.println(\u0026#34;Respons har data av type \u0026#34;+response.getEntity().getContentType()); } System.out.println(\u0026#34;Respons meldingen er:\u0026#34;); System.out.println(new String(responseBody)); System.out.println(); } catch (ClientProtocolException e) { System.err.println(\u0026#34;Fatal protocol violation: \u0026#34; + e.getMessage()); e.printStackTrace(); } catch (IOException e) { System.err.println(\u0026#34;Fatal transport error: \u0026#34; + e.getMessage()); e.printStackTrace(); } finally { request.releaseConnection(); } }` "
},
{
	"uri": "/svarut/konfigurasjon-av-svarut/",
	"title": "Konfigurasjon av SvarUT",
	"tags": [],
	"description": "",
	"content": "Konfigurasjon av SvarUt Etter at det er signert avtale med KS om bruk av SvarUt oversendes en veiledning i konfigurasjon av tjenesten:\nKonfigurasjon av SvarUt\nInformasjon på nettstedet https://svarut.wordpress.com er i beregnet på kommuner og andre virksomheter som har tegnet avtale om bruk av SvarUt. Informasjon om tilgang finnes på https://svarut.ks.no/hjelp/.\n"
},
{
	"uri": "/svarut/integrasjon/mottaksservice-rest/",
	"title": "MottakService v1",
	"tags": [],
	"description": "",
	"content": "Her beskrives funksjonalitet for Mottaksservice V1. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nBruk av SvarInn til GeoIntegrasjon eksempel kode ligger her: https://github.com/ks-no/svarut-sak-mottak\nTilgang Tjenesten bruker HTTP Basic autentication med brukernavn og generert service-passord. Mottakersystem opprettes av KS-SvarUt administrator og service-passordet genereres av person med tilgang via mottakersystem-siden. Dersom autentiseringen feiler returneres HTTP-status 401 Unauthorized, og ukjent URL gir HTTP-status 404. Detaljerte feilmeldinger følger også ved feil.\nTjenester Forsendelser er tilgjengelig for direkte import til sakssystem i uendelig tid. Dersom forsendelsene markeres som permanent import feil går forsendelsene videre i det normale løpet med varsling i Altinn og til slutt printing. Etter 2 timer vil det bli sendt varsel mail om manglende import 3 ganger om dagen.\nTjenestene er tilgjengelige via https://svarut.ks.no/tjenester/svarinn/\nhentNyeForsendelser (GET) https://svarut.ks.no/tjenester/svarinn/mottaker/hentNyeForsendelser\nHenter nye forsendelser for autentisert mottaker (basert på angitt mottaker). En vellykket forespørsel returnerer en liste av forsendelser (JSON). Dersom ingen forsendelser er tilgjengelig sendes en tom liste. Her følger et eksempel på en forsendelse.\n[{ \u0026#34;avsender\u0026#34;: { \u0026#34;adresselinje1\u0026#34;: \u0026#34;Første adresselinje\u0026#34;, \u0026#34;adresselinje2\u0026#34;: \u0026#34;Andre adresselinje\u0026#34;, \u0026#34;adresselinje3\u0026#34;: \u0026#34;Tredje adresselinje\u0026#34;, \u0026#34;navn\u0026#34;: \u0026#34;Tester testmann\u0026#34;, \u0026#34;poststed\u0026#34;: \u0026#34;Teststad\u0026#34;, \u0026#34;postnr\u0026#34;: \u0026#34;3333\u0026#34; }, \u0026#34;mottaker\u0026#34;: { \u0026#34;adresse1\u0026#34;: \u0026#34;Første adresselinje\u0026#34;, \u0026#34;adresse2\u0026#34;: \u0026#34;Andre adresselinje\u0026#34;, \u0026#34;adresse3\u0026#34;: null, \u0026#34;postnr\u0026#34;: \u0026#34;5258\u0026#34;, \u0026#34;poststed\u0026#34;: \u0026#34;Blomsterdalen\u0026#34;, \u0026#34;navn\u0026#34;: \u0026#34;Orgnavn\u0026#34;, \u0026#34;land\u0026#34;: \u0026#34;Norge\u0026#34;, \u0026#34;orgnr\u0026#34;: \u0026#34;999888777\u0026#34;, //Eller fnr utfylt \u0026#34;fnr\u0026#34;: \u0026#34;22334455566\u0026#34; }, \u0026#34;id\u0026#34;: \u0026#34;AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\u0026#34;, \u0026#34;tittel\u0026#34;: \u0026#34;En tittel\u0026#34;, \u0026#34;date\u0026#34;: 1412668736853, //millis since epoch \u0026#34;metadataFraAvleverendeSystem\u0026#34;: { \u0026#34;sakssekvensnummer\u0026#34;: 0, \u0026#34;saksaar\u0026#34;: 0, \u0026#34;journalaar\u0026#34;: 0, \u0026#34;journalsekvensnummer\u0026#34;: 0, \u0026#34;journalpostnummer\u0026#34;: 0, \u0026#34;journalposttype\u0026#34;: \u0026#34;U\u0026#34;, \u0026#34;journalstatus\u0026#34;: null, \u0026#34;journaldato\u0026#34;: null, //millis since epoch \u0026#34;dokumentetsDato\u0026#34;: null, //millis since epoch \u0026#34;tittel\u0026#34;: null, \u0026#34;saksBehandler\u0026#34;: null, \u0026#34;ekstraMetadata\u0026#34;: [ { \u0026#34;key\u0026#34;: null, \u0026#34;value\u0026#34;: null } ] }, \u0026#34;metadataForImport\u0026#34;: { \u0026#34;sakssekvensnummer\u0026#34;: 0, \u0026#34;saksaar\u0026#34;: 0, \u0026#34;journalposttype\u0026#34;: null, \u0026#34;journalstatus\u0026#34;: \u0026#34;I\u0026#34;, \u0026#34;dokumentetsDato\u0026#34;: \u0026#34;2014-10-21T09:30:13.310+02:00\u0026#34;, //ISO 8601 \u0026#34;tittel\u0026#34;: null }, \u0026#34;status\u0026#34;: \u0026#34;Akseptert\u0026#34;, \u0026#34;niva\u0026#34;: \u0026#34;3\u0026#34;, \u0026#34;filmetadata\u0026#34;: [ { \u0026#34;filnavn\u0026#34;: \u0026#34;dokument-d1c6d795.pdf\u0026#34;, \u0026#34;mimetype\u0026#34;: \u0026#34;application/pdf\u0026#34;, \u0026#34;sha256hash\u0026#34;: \u0026#34;caaa6a09e4b5ad571c596dd31fb93689d402834a1b92ff660abeb59c534c088e\u0026#34;, \u0026#34;dokumentType\u0026#34;: null, \u0026#34;size\u0026#34;: 234563 # 0 hvis ukjent ellers størrelse i bytes. } ], \u0026#34;svarSendesTil\u0026#34;: { \u0026#34;adresse1\u0026#34;: \u0026#34;Første adresselinje\u0026#34;, \u0026#34;adresse2\u0026#34;: \u0026#34;Andre adresselinje\u0026#34;, \u0026#34;adresse3\u0026#34;: null, \u0026#34;postnr\u0026#34;: \u0026#34;5258\u0026#34;, \u0026#34;poststed\u0026#34;: \u0026#34;Blomsterdalen\u0026#34;, \u0026#34;navn\u0026#34;: \u0026#34;Orgnavn\u0026#34;, \u0026#34;land\u0026#34;: \u0026#34;Norge\u0026#34;, \u0026#34;orgnr\u0026#34;: \u0026#34;999888777\u0026#34;, //Eller fnr utfylt \u0026#34;fnr\u0026#34;: \u0026#34;22334455566\u0026#34; }, \u0026#34;svarPaForsendelse\u0026#34;: \u0026#34;BBBBBB-BBBB-CCCC-BBBB-BBBBBBBBBB\u0026#34;, \u0026#34;forsendelseType\u0026#34;: \u0026#34;forsendelseType sett av avsender(heter dokumentType i v5 av servicen)\u0026#34;, \u0026#34;eksternRef\u0026#34;: \u0026#34;en ref fra avsender\u0026#34;, \u0026#34;downloadUrl\u0026#34;: \u0026#34;https://svarut.ks.no/tjenester/svarinn/forsendelse/AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\u0026#34; }] Hvis du får en zip fil i downloadUrlen, inneholder filmetadata mimetype på filene inne i zip fila.\nhentForsendelsefil (GET) URL for å hente forsendelser er oppgitt i downloadUrl-feltet i JSON-resultatet fra hentNyeForsendelser.\nHenter filen for en gitt forsendelse. Kun én fil returneres. Hvis forsendelsen består flere filer er de enten pakket i en samlet PDF eller en .zip fil. Husk at filene kan være store, vi anbefaler å bruke en stream for mottak. MIME-type og filnavn står i headeren. Filen er kryptert med den offentlige nøkkelen til mottakersystemet og må dekrypteres etter nedlasting.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    settForsendelseMottatt (POST) https://svarut.ks.no/tjenester/svarinn/kvitterMottak/forsendelse/{forsendelseid}\nEtter mottatt forsendelse kvitteres den ut fra importtjenesten. Forsendelsesstatus endres til lest slik at varsel ikke sendes til Altinn. Forsendelsen blir heller ikke sendt til print siden den er mottatt.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    settForsendelseMottakFeilet (POST) https://svarut.ks.no/tjenester/svarinn/mottakFeilet/forsendelse/{forsendelseid}\nHvis mottak av forsendelse feilet, kan dette meldes tilbake til SvarUt. Dette vil da framkomme i loggen til avsender.\n   Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   feilmelding Tekst som sier hva som er feil. Må være utfylt   permanent Kan være permanent eller middlertidig. Hvis feilen er ikke mulig å fikse kan den markeres som permanent. Feilen som er markert permanent blir sent via annen kanal.Hvis forsendelsen er kun Digital og markert som permanentfeil vil den velge annen kanal og ikke blir varslet hvis forsendelsen ikke blir hentet. Normal varselmail for ikke hentede forsendelser via SvarInn blir ikke sendt. Må være utfylt    Json body: { \u0026#34;feilmelding\u0026#34;:\u0026#34;En god feilmelding som mennesker kan lese\u0026#34;, \u0026#34;permanent\u0026#34;:true }\nPermanent true vil si at mottaker aldri vil kunne klare å hente denne forsendelsen, den vil da gå videre og prøvd å levert via andre kanaler.\n"
},
{
	"uri": "/svarut/signeringstjeneste/",
	"title": "Signeringstjeneste",
	"tags": [],
	"description": "",
	"content": "Aktivering Avtale om bruk av signeringstjenesten må gjøres med Difi og forutsetter at dere allerede har avtale om SDP. Når avtalene er inngått må dere aktivere tjenesten inne på konfigurasjon under SDP-fanen.\n\nAPI Bruker operasjonen sendForsendelse, i ForsendelseServiceV7 eller senere.\nFølgende eksisterende felter må fylles ut:\n /sendForsendelse/forsendelse/krevNiva4Innlogging - Angir hvilket nivå som skal brukes på signeringen /sendForsendelse/forsendelse/svarSendesTil[@Type=organisasjon]/orgnr - Organisasjonsnummer til enhenten som skal ha det signerte dokumentet i retur /sendForsendelse/forsendelse/mottaker[@Type=privatPerson]/fodselsnr - Fødselsnummer på mottaker av signeringsoppdraget  Følgende nye felter må også fylles ut:\n /sendForsendelse/forsendelse/signeringUtloper - Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. /sendForsendelse/forsendelse/signaturtype - Velge mellom autentisert eller avansert signering. /sendForsendelse/forsendelse/dokumenter/skalSigneres - Markere ett dokument som inngår i signeringsoppdraget  Via send forsendelse Brukergrensesnittet er oppdatert slik at man kan markere et dokument og angi utløpsdato.\n\nSekvensdiagrammer Fra fagsystem via Svarut til innbygger Innføringen av signeringsoppdrag gir ingen endringer i oppførsel utover validering. Varslig vil gå ut til Altinn eller SDP dersom innbygger ikke har reservert seg. Dersom innbygger ikke har åpnet Altinn innen lesefristen vil brev gå ut i posten.\nInnbygger kan signere elektronisk frem til gyldigheten på signeringsoppdraget utløper, selv om brevet er sendt i posten.\nFra innbygger via Digipost og Svarut til fagsystem Innbygger logger på Altinn/SDP og trykker på signeringslenken som er oppgitt i meldingen. Dette er en lenke til Svarut. Svarut vil validere og sjekke at det er et gyldig signeringsoppdrag.\nInnbygger får opp dokumentet og kan velge mellom å signere eller avvise. Dersom innbygger signerer opprettes det en ny forsendelse til det organisasjonsnummeret som er oppgitt i forsendelsen.\nDersom innbygger avviser oppdraget vil oppdraget ikke være mulig å signere på nytt. Dersom innbygger avbryter (lukker nettleser e.l.) er det likevel mulig å signere gitt at gyldigheten på signeringsoppdraget ikke er utløpt.\nOppdragsgiver vil bare få forsendelse i retur dersom mottaker signerer forsendelsen og kan sjekke status på om oppdraget er avvist.\n"
},
{
	"uri": "/svarut/forsendelser-og-sikkerhet/",
	"title": "Sikkerhet",
	"tags": [],
	"description": "",
	"content": "Generelt om forsendelser  Forsendelser kan, men må ikke, krypteres før de sendes inn til SvarUt Forsendelsesfiler lagres kryptert på SvarUt sine servere Forsendelsesfiler dekrypteres i det mottaker laster ned filen, med mindre det er e Forsendelser som lastes ned direkte til mottagende (svarinn) dekrypteres før de blir importert til sakssystemet, men overføres kryptert. Forsendelsesfiler som blir lastet ned av mottaker dekrypteres ellers i det de overføres til mottaker.  Forsendelser på nivå 4 Det er nå mulig å sende forsendelser som inneholder sensitive persondata via SvarUt (ikke gradert informasjon). Dette kan være brev som sendes fra sikker sone.\n En nivå 4-forsendelse må krypteres hos avgivende system før den sendes til SvarUt. Forsendelsen behandles på samme måte som alle andre forsendelser og forsendelsesfilen vil lagres kryptert på disk. Ingen andre enn mottaker har tilgang til forsendelsesfilen (heller ikke superadministratorer eller lokale administratorer hos avsender).  "
},
{
	"uri": "/svarut/svarinn-mottakservice/",
	"title": "SvarInn - Mottaksservice",
	"tags": [],
	"description": "",
	"content": "Mottaksservice gjør det mulig å laste ned og kvittere ut forsendelser før de varsles gjennom Altinn og sendes til eventuell printing.\nHva er Mottaksservice? Primært brukes Mottaksservice til å automatisere nedlasting og import av forsendelser direkte i sakssystemer. Fra en forsendelse er mottatt i SvarUt er den tilgjengelig for nedlasting via mottaksservicen. Dersom forsendelsen ikke blir lastet ned innen 2 timer vil mottakersystem få en advarsel mail.\nMottaksservice gir mulighet for å laste ned sensitive forsendelser. Dette betyr at mottaker må legge inn sitt offentlige sertifikat i SvarUt, og bruke sin private nøkkel til å dekryptere forsendelsesfilene som blir lastet ned. Alle forsendelser blir sendt på denne måten selv, uavhengig av om forsendelsen er nivå 3 eller 4.\nMottaksservicen består av 3 tjenester (se også detaljert beskrivelse):\n hentNyeForsendelser - Henter nye forsendelser som er klar for import. getForsendelsefil - Henter filen for en gitt forsendelse, enten som PDF eller zipfil. Filen vil være kryptert og må dekrypteres etter nedlasting. kvitterMottak - Kvitterer ut en gitt forsendelse. Forsendelsesstatus vil bli satt til lest. Dette stopper varsel til Altinn og senere printing.  Sakssystemer må klargjøres for bruk av mottaksservicen. SvarUt-teamet har laget en modul som kan brukes for noen leverandører, samt fungere som et eksempel på hva som er nødvendig for integrasjon med SvarUt. Denne modulen er tilgjengelig her.\nHvordan bruke Mottaksservice? Mottaksservicen konfigureres under menypunktet Mottakersystem. Her kan administrator opprette nye mottakersystem og gi personer tilgang til mottakersystemet. Deretter kan personene som har fått tilgang selv utføre resten av stegene. De første 3 stegene utføres kun én gang, steg 4 en gang som en test. De siste tre stegene bør settes opp som en regelmessig jobb som kjøres hvert 15. minutt.\n Opprett mottakersystem  En administrator oppretter et mottakersystem som skal ha tilgang til forsendelser. I dette steget legges det inn minst én person som har tilgang til dette mottakersystemet. Personen blir gitt tilgang basert på fødselsnummeret sitt.\nLegg til organisasjon  Personen som ble gitt tilgang i punktet over legger inn organisasjoner som mottakersystemet skal ha tilgang til. SvarUt sjekker om personen har tilgang til organisasjonsnummeret ved å spørre Altinn.\nGenerer servicepassord  Personen genererer et servicepassord. Dette passordet brukes for å validere mottakersystemet mot automatisk importtjeneste. Dette gjøres via Mottakersystem-siden, under \u0026ldquo;Service\u0026rdquo; fanen for et mottakersystem. Mottakersystemet må bruke brukernavnet og servicepassordet for autentisering ved hver nedlasting.\nRegistrér offentlig sertifikat  Personen må laste opp mottakersystemets offentlige sertifikat. Dette gjøres også via Mottakersystem-siden, under \u0026ldquo;Service\u0026rdquo; fanen for et mottakersystem. Den private nøkkelen brukes i mottakersystemet for å dekryptere forsendelsesfiler etter nedlasting (se her for et eksempel på integrasjon).\nSend forsendelse  Opprett minst en forsendelse til en organisasjon som personen har tilgang til.\nHent nye forsendelser  Kall automatisk importtjeneste og oppgi brukernavn og servicepassord ved autentisering. Alle forsendelser mottakersystemet har tilgang til returneres som en liste. Merk at listen ikke inneholder selve filene, kun informasjon om forsendelsen.\nHent forsendelsefil  Etter autentisering og nedlasting av forsendelser, oppgi forsendelseid til en forsendelse til importtjenesten. Dette kallet returnerer selve filen enten som zip-fil eller som PDF.\nKvittér for mottak  Siste steg er å kvittere ut forsendelsen. Oppgi forsendelsesid til importtjenesten, og forsendelsen markeres som lest.\nForsendelsesflyt i SvarUt "
},
{
	"uri": "/svarut/svarut-svarinn-adressering/",
	"title": "SvarUt - SvarInn adressering",
	"tags": [],
	"description": "",
	"content": "Tidligere hadde vi kun orgnr-adressering på forsendelser. Nå har SvarUt fått støtte for ForsendelseType. ForsendelseType skal beskrive hvilken type forsendelse dette er. Det er KS som styrer hvilken typer en kan benytte til adressering, hvis det er ønskelig med ny type sendes ønske om dette til svarut@ks.no.\n Mottakersystem kan nå filtrere på 3 felt, orgnr, forsendelseType og nivå. For å konfigurere to mottakersystem på samme orgnr, kan en derfor filtrere videre på forsendelseType.\nEksempel system som ikke kan motta nivå4 dokument konfigureres da med.\n 999888777, Alle forsendelsetyper, 3  Dette systemet vil da kun motta nivå3 forsendelser, hvis kommunen har et annet system som kan motta nivå4 kan dette konfigureres slik:\n 999888777, Alle forsendelsetyper, 4   Eksempel fagsystem og arkivsystem. Fagsystemet skal ha forsendelser av typen ks.byggesøknad, mens andre brev til kommunen skal i arkivsystemet. Arkivsystemet vil da konfigureres slik\n 999777888, Alle forsendelsetyper, alle nivå  Fagsystemet\n 999777888, ks.byggesøknad, alle nivå  Da vil arkivsystemet få alt utenom ks.byggesøknad forsendelser som blir levert til fagsystemet.\nIntegrasjoner Sending SvarUt De som sender meldinger til SvarUt kan sette på forsendelseType.\nMottak SvarInn Trenger ikke gjør noen endringer, filtrering vil skje på SvarUt i konfigurasjonen, listen over forsendelser vil være de mottakersystemet skal motta.\n"
},
{
	"uri": "/_header/",
	"title": "",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-plattform/",
	"title": "Fiks-plattformen",
	"tags": [],
	"description": "Description",
	"content": "KS Fiks er en felles tjenesteplattform for norske kommuner og fylkeskommuner. Formålet med FIKS-plattformen er å hjelpe kommuner og fylkeskommuner med å digitalisere sine tjenester raskere, øke kvaliteten på tjenestene og digitalisere for lavere kostnader.\nPlattformen består av tre hoveddeler:\nminside.kommune.no Dette er hjemmet for innbyggerrettede tjenester på Fiks-plattformen. I dag tilbys i hovedsak én tjeneste: \u0026ldquo;Post fra din kommune\u0026rdquo;, drevet av søkemotoren Fiks Innsyn. Over tid vil Innsyn også innbefatte andre datatyper (faktura, saker, osv), og andre tjenester vil bli lagt til. Se \u0026ldquo;tjenester under utvikling\u0026rdquo; for å se hva som er på vei.\nforvaltning.fiks.ks.no Her finnes tjenester som retter seg mot kommuneansatte og andre som skal administrere eller bruke applikasjoner som Fiks tilbyr. Her finnes i dag Fiks Konfigurasjon, men andre tjenester vil raskt komme til.\napi.fiks.ks.no Dette er api-laget for Fiks-plattformen. Her finner du webservicer i form av REST-api-er som leverandører, kommuner og andre offentlige virksomheter kan bruke for å integrere mot tjenestene som tilbys på Fiks. Alle tjenester på plattformen er tilgjengelige her, også de som driver minside.kommune.no. Dette gjør at kommuner kan integrere maskin-til-maskin med disse hvis de ikke ønsker å bruke web-frontenden som KS har utviklet.\nApi-spesifikasjoner finner du lenket fra den enkelte tjeneste, se \u0026ldquo;tjenester\u0026rdquo; eller \u0026ldquo;tjenester under utvikling\u0026rdquo;.\n"
},
{
	"uri": "/svarut/integrasjon/",
	"title": "Integrasjon mot SvarUt",
	"tags": [],
	"description": "",
	"content": "For utsending av forsendelser via KS-SvarUt benyttes en SOAP basert web-service. Denne servicen mottar forsendelsen og relevante metadata, og besørger videre ekspedering via elektroniske meldingstjenester eller vanlig post.\nFor å sikre bakoverkompabilitet versjoneres servicen. Når grensesnittet endres deployes en ny versjon slik at eksisterende klienter selv kan velge når de ønsker å ta i bruk ny versjon. Se tabell under for hvilke versjoner som til enhver tid er støttet. Hver versjon dokumenteres separat. Deprecated bør ikke brukes i nye integrasjoner.\nKall mot SvarUt, timer ut hvis de tar mer enn 15 minutter. Derfor kan det være lurt å ha timeout på tilkoblingen som er lenger enn dette. Da får avsender ikke timeout uten at den er initiert av SvarUt. Ellers kan avsender risikere å ikke få forsendelseID på forsendelser som har gått ok.\n   Versjon WSDL Status Endringer     ForsendelseServiceV1  Fjernet    ForsendelseServiceV2  Fjernet Støtte for mottakeradresse ihht NOARK5 (inkl. Land)Ny metode for å hente historikk for en spesifikk forsendelseKun digital levering (dvs. dokumenter som ikke skal til print)Støtte for giroark i forsendelseNy metode for å sette status lest fra eksternt system   ForsendelseServiceV3  Fjernet Støtte for lenker i forsendelserStøtte for metadata til bruk i automatisk import service   ForsendelseServiceV4 WSDL Deprecated Støtte for krypterte forsendelserUtvidede metadata til bruk i automatisk import serviceStøtte forsendelser som krever nivå4-innlogging   ForsendelseServiceV5 WSDL Deprecated Kan fylle ut SvarSendesTil for å gi informasjon om hvem svar på forsendelsen skal sendes til. Dette blir brukt som avsenderadresse på postlagt brev også.Kan spesifisere om dette er et svar på en tidligere forsendelse.Lagt til dokumentType for å si hvilken type forsendelse dette er(blir renamet til forsendelseType i v7)Eksternref en id som kan brukes til å finne forsendelser   ForsendelseServiceV6 WSDL Deprecated Kan legge med svar på forsendelse link, slik at mottaker kan svare på forsendelsen.Søke opp forsendelseid basert på eksternref   ForsendelseServiceV7 WSDL Deprecated dokumentType heter nå forsendelsetypeStøtte for difi sin signeringstjeneste. Beskrivelse av Signeringstjeneste   ForsendelseServiceV8 WSDL Deprecated dokumentType lagt til på hver fil. Denne er tilgjengelig i Svarinn. Kan hente liste med mottakersystem for et orgnrKan hente forsendelseTyper som kan brukes i SvarUt   ForsendelseServiceV9 WSDL Deprecated Hente ut signeringshistorikk på en forsendelseDokument har fått ekskluderesFraPrint, da er ikke filen med i print av forsendelsen. Brukes typisk til filer som kun er interesange om forsendelsen lastes ned digitalt. Xml, lyd, video filer osv.   ForsendelsesServiceV10 WSDL Deprecated  Ny operasjon: retrieveDokumentMetadata. Denne er lagt inn for å kunne hente ut informasjon om bl.a. hvor dokumentet kan lastes ned og eventuelt lenke til signeringsoppdrag. Endret operasjon: setForsendelseLestAvEksterntSystem. Denne er oppdatert til å ta imot objekt av type LestAv. Endret operasjoner: retrieveForsendelsesStatus og retrieveForsendelsesStatuser, begge returnerer nå samme modell-objekt (ForsendelsesStatus). Sistnevnte operasjon har pakket resultatet i en liste. Forsendelsesid og organisasjonsnummer er kapslet inn i egne typer. Modell-objektet StatusResult heter nå ForsendelsesStatus. Gamle ForsendelseStatus heter nå Status og blir returnert som en del av ForsendelsesStatus. Modell-objektet Brevpost er ikke lenger i bruk og er fjernet. Modell-objektet PrintKonfigurasjon heter nå UtskriftsKonfigurasjon. Alle modell-objektene er oppdatert til å bruke camelCase på felt og attributter.   ForsendelsesServiceV11 WSDL Stabil EksponertFor, kan gjør forsendelse tilgjengelig for andre enn mottaker. Brukes av edialog for å tilate innsender å laste ned filene.     Rest versjoner av forsendelseService Det kommer ikke ny funksjonalitet etter v11 av soap servicen. Nye endringer og features vil komme i Rest servicene. Når vi brekker json strukturen vil det komme ny versjon av servicen. Alle implementasjoner må takle json felt som ikke er spesifisert. Det vil komme nye felt og eksisterende ikke obligatoriske felt kan forsvinne.\n   Versjon Status Endringer     ForsendelseRestServiceV1 Stabil Funksjonaliteten i V11 flyttet til http/json basert api.    Nedlasting av forsendelser direkte til sakssystem Sakssystemer kan kalle SvarUt for å laste ned forsendelser direkte ved å bruke enten en REST-tjeneste eller en SOAP web-service.\nFor å sikre bakoverkompabilitet versjoneres servicen. Når grensesnittet endres deployes en ny versjon slik at eksisterende klienter selv kan velge når de ønsker å ta i bruk ny versjon. Se tabell under for hvilke versjoner som til enhver tid er støttet. Hver versjon dokumenteres separat.\n   Dokumentasjon Status Endringer     MottaksService V1 REST Stabil NA    IPer Hvis dere må åpne i brannvegg ligger svarut bak disse ipene:\n   SvarUT-Test SvarUT-PROD     137.221.25.65 137.221.25.66   137.221.28.65 137.221.28.66    "
},
{
	"uri": "/fiks-plattform/sentralisert-brukerstyring/",
	"title": "Sentralisert brukerstyring",
	"tags": [],
	"description": "",
	"content": "Sentralisert brukerstyring er en ny funksjon som skal gjøre det lettere å håndtere tilganger for ansatte til ressurser på Fiks-plattformen.\nBakgrunn For å kunne støtte mange forskjellige tilgangsstyringssystemer har vi valgt å bygge på SCIM2 standarden. Denne støttes av alle store leverandører av identity management-plattformer inkludert Microsoft Azure AD, Google m.fl. I første fase har vi lagt oss på en slags minimumsimplementasjon av standarden og støtter synkronisering av brukere og grupper. Mer om SCIM2-standarden finner du i RFC-7642, RFC-7643, RFC-7644 og på SCIM2 nettstedet. Kort fortalt støtter vi oppretting, oppdatering (med PATCH) og sletting av brukere og grupper.\nUnder utvikling av vårt SCIM2 endepunkt har vi hovedsaklig testet mot Microsoft Azure AD, men siden det bygger på en åpen standard er det ingenting i veien for å bruke andre baksystemer. Vi har tilgjengelig et testmiljø dersom noen ønsker å teste enten med egenutviklet integrasjon eller med programvare fra andre etablerte leverandører. .\nØnsker du å teste oppsett med Azure AD? Sjekk denne guiden\nHva kreves for å sette det opp? For å kunne starte synkronisering av grupper og brukere til Fiks-plattformen må en person som har adminrettigheter til kommunenes konfigurasjon opprette et nytt kildesystem og få generert et token til bruk for autentisering. Deretter kan man starte synkronisering fra sitt baksystem.\nAutentisering mot SCIM endepunktet I første omgang støttes autentisering med langtlevende (6 mnd) Bearer token. Dette var også det eneste som var støttet på det tidspunktet vi utviklet denne funksjonen. På sikt satser vi på også å støtte egen OAUTH2 client flow mot vårt eget OAUTH endepunkt. Tokenet får man første gang når man oppretter kildesystemet i Fiks forvaltning konfigurasjon. Det er også der man kan generere nytt token for eksisterende kildesystem.\nFødselsnummer for ID-porten autentisering av sluttbrukere Siden Fiks forvaltning krever ID-porten pålogging, må synkroniserte brukere også inkludere fødselsnummeret til brukeren. For å støtte overføring av fødselsnummer til oss har vi laget et eget SCIM2 extension schema (urn:ietf:params:scim:schemas:extension:ks:personidentifikasjon). Se eksempel under på bruker med dette extension schemaet på:\n{ \u0026#34;schemas\u0026#34;: [ \u0026#34;urn:ietf:params:scim:schemas:core:2.0:User\u0026#34;, \u0026#34;urn:ietf:params:scim:schemas:extension:ks:personidentifikasjon:1.0\u0026#34; ], \u0026#34;id\u0026#34;: \u0026#34;1d17878e-1433-4d65-a9cf-5588274ae286\u0026#34;, \u0026#34;externalId\u0026#34;: \u0026#34;kari\u0026#34;, \u0026#34;userName\u0026#34;: \u0026#34;kari.nordmann@test.kommune.no\u0026#34;, \u0026#34;name\u0026#34;: { \u0026#34;formatted\u0026#34;: \u0026#34;Kari Nordmann\u0026#34;, \u0026#34;familyName\u0026#34;: \u0026#34;Nordmann\u0026#34;, \u0026#34;givenName\u0026#34;: \u0026#34;Kari\u0026#34; }, \u0026#34;displayName\u0026#34;: \u0026#34;Kari Nordmann\u0026#34;, \u0026#34;active\u0026#34;: true, \u0026#34;urn:ietf:params:scim:schemas:extension:ks:personidentifikasjon:1.0\u0026#34;: { \u0026#34;foedselsnummer\u0026#34;: \u0026#34;01017012345\u0026#34; } } Det er fullt mulig å synkronisere brukere uten fødselsnummer, men du vil da ikke kunne gi de tilganger på plattformen.\nGrupper Grupper er en enkel struktur og krever ingen extension skjema for å fungere med Fiks-plattformen. Eksempel på gruppe:\n{ \u0026#34;schemas\u0026#34;: [\u0026#34;urn:ietf:params:scim:schemas:core:2.0:Group\u0026#34;], \u0026#34;id\u0026#34;: \u0026#34;e9e30dba-f08f-4109-8486-d5c6a331660a\u0026#34;, \u0026#34;displayName\u0026#34;: \u0026#34;Saksbehandlere eiendom\u0026#34;, \u0026#34;members\u0026#34;: [ { \u0026#34;value\u0026#34;: \u0026#34;1d17878e-1433-4d65-a9cf-5588274ae286\u0026#34; } ] } Hvilke tjenester på Fiks-plattformen er støttet? Målet er å støtte alle tjenester på Fiks-plattformen som er i direkte bruk av ansatte i kommunal sektor. I første omgang har vi begynt med Fiks folkeregister slik at man kan knytte synkroniserte grupper og brukere til roller.\nFiks folkeregister For å kunne bruke sentralisert brukerstyring med Fiks folkeregister må dette aktiveres av en tjenesteadministrator i Fiks forvaltning konfigurasjon. Når det aktiveres kan man først få lastet ned en Excelfil med oversikt over alle personbrukere som har tilganger til de rollene man har opprettet. Går man så videre og trykker på knappen slettes alle de eksisterende persontilgangene. Det er defor viktig at man sørger for at de personer som skal ha tilgang er synkronisert over til oss slik at man kan gi de tilgang til de rollene de trenger enten via medlemskap i en gruppe eller brukertilgang. Integrasjoner blir ikke berørt av dette siden de ikke inngår i sentralisert brukerstyring. Når sentralisert brukerstyring er aktivert vil det være enklere enn tidligere å gi tilgang da man enten kan velge gruppe fra en liste eller søke i navnet på synkroniserte brukere. "
},
{
	"uri": "/svarut/",
	"title": "SvarUt",
	"tags": [],
	"description": "",
	"content": "Dokumentasjonen av SvarUt finnes på flere nettsteder:\n http://www.ks.no/svarut/ - åpen, generell informasjon https://svarut.wordpress.com - informasjon for kunder (kommuner, fylkeskommuner og andre virksomheter som har tegnet avtale med KS) https://svarut.ks.no - informasjon om tilgang til svarut.wordpress.com og lenker til andre nettsteder https://ks-no.github.io/svarut/ - denne dokumentasjonen, beregnet på utviklere og leverandører  "
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-plattform/tjenester/",
	"title": "Tjenester",
	"tags": [],
	"description": "",
	"content": ""
}]
[
{
	"uri": "/fiks-platform/tjenester_under_utvikling/bekymringsmelding/",
	"title": "Nasjonal portal for bekymringsmelding",
	"tags": [],
	"description": "",
	"content": " Kort introduksjon Bekymringsmeldinger går i dag i all hovedsak per post, og i samarbeid med Barne-, ungdoms- og familiedirektoratet (Bufdir) lager vi en nasjonal løsning hvor alle meldere, privatpersoner og offentlig ansatte, kan sende inn bekymringsmeldinger digitalt til barnevernet.\nDette skal sikre raskere og sikrere innsending av meldinger, og bedre innholdsmessig kvalitet. Løsningen skiller mellom offentlige og private meldere, og leverer bekymringsmeldinger fra to ulike skjema, siden det er ulike forventinger/krav til offentlige meldere og private meldere.\nMer informasjon om prosjektet ligger på Bufdir.\nKort beskrivelse av løsningen Brukerne (innbyggere eller offentlig ansatte) som skal melde inn en bekymringsmelding logger seg inn på portalen, fyller ut og sender inn skjemaet. Løsningen vil deretter forsøke å levere bekymringesmeldingen på en eller flere av følgende måter\n Direkte i fagsystem (Strukturert informasjon) Manuell nedlastning, ustrukturert informasjon i digital form – PDF Tilsendt på papir  Når bekymringsmeldingen er sendt vil systemet forsøke å levere den som strukturert data via Fiks-plattformen til kommunens fagsystem. Dersom kommunens fagsystem ikke støtter integrasjon mot Fiks IO har vi laget en løsning for å laste ned bekymringsmeldingen manuelt. Og dersom ikke bekymringsmeldingen markeres som mottatt vil den bli sendt ut som brevpost.\nBekymringsmeldingen blir omgjort til strukturert data (JSON) for integrasjon mot fagsystem og ustrukturert data (PDF) til manuell nedlastning og for brevpost. All kommunikasjon mellom bruker og løsningen er kanalkryptert. I tillegg lagres all data (både strukturert og ustrukturert) kryptert med mottakersystemets offentlige nøkkel (fagsystem, utskriftsleverandør, manuell nedlastning).\nPortalen tilbyr også et API hvor det er mulig å sende en bekymringsmelding fra fagsystemet til en annen kommunes barneverntjeneste.\n"
},
{
	"uri": "/fiks-platform/tjenester/digisos/",
	"title": "Digisos",
	"tags": [],
	"description": "",
	"content": " Fiks Digisos er en tjeneste for å tilrettelegge for kommunal behandling av sosialsøknader via et brukergrensesnitt på nav.no.\nFiks Digisos tilbyr:\n Enkelt oppsett for den enkelte kommune gjennom Fiks Konfigurasjon. Innbygger får fortløpende oppdatering på saksgang, tilgjengelig på nav.no. Innbygger får tilgang til alle dokumenter og mulighet til å sende inn nye søknader basert på data fra tidligere søknader. Ansatte/brukerstøtte i NAV kan se utvalgte deler av saken via NAV sine systemer.  Hvordan tar man i bruk Fiks Digisos? For at fagsystemet skal få tilgang til å motta sosialsøknader og sende saksoppdateringer til NAV via Digisos-API-et for en kommune, må kommunen først konfigurere og aktivere tjenesten Digisos gjennom Fiks Konfigurasjon, som viser en veiviser for å sette opp tjenesten. Her konfigurerer man opp hvordan kommunens fagsystem skal motta søknader, enten via Fiks IO (anbefalt kanal) og/eller SvarUt. Det må også oppgis kontaktpersoner med minst èn epost for både en fagansvarlig og en teknisk ansvarlig, som kan bli kontaktet ved behov.\nEtter at veiviseren er fullført må man inne på Digisos-tjenesten gi fagsystemet sin integrasjon tilgang til å bruke Digisos. For mer informasjon om utvikling og opprettelse av integrasjoner for kommunen sitt fagsystemet, se avsnittet Integrasjonsutvikling Fagsystem.\nHvordan virker Fiks Digisos? Digisos består av flere komponenter fra Fiks-plattformen, der Fiks Digisos er hovedkomponenten som bruker andre komponenter:\n Fiks Digisos API: API for innsending av søknader fra nav.no og innsending av saksoppdateriger fra kommunenes fagsystemer. Fiks Dokumentlager: Brukes for lagring av krypterte søknader og saksoppdateringer, der innbyggeren får tilgang til sine dokumenter sendt over Digisos API-et. Fiks IO: Brukes som leveringskanal for søknader fra NAV til kommunene, som er en sikker kanal for maskin-til-maskin integrasjon, hvor søknadene blir meldingskryptert med mottakers offentlige nøkkel. SvarUt: Brukes som en alternativ leveringskanal for søknader fra NAV til kommunene, med leveranse med print dersom kommunens fagsystem ikke klarer å motta digitale forsendelser.  Flyt  Innbygger fyller ut søknad om sosialstønad på nav.no, som sender denne til Fiks Digisos gjennom et synkront http api. Fiks Digisos mottar søknaden.  Søknadsfilen legges i Fiks Dokumentlager, og innbyggeren autoriseres for tilgang. Fiks Digisos henter valgt leveransekanal for søknaden fra kommunens konfigurasjon, enten anbefalt kanal 2a) Fiks IO med SvarUt som alternativ eller 2b) Bare SvarUt.  a. Fiks IO - Kommunens konfigurasjon inneholder en konto-id som blir brukt som mottaker. Digisos-meldingene vil bli validert før de sendes til denne kontoen via Fiks IO. Dersom den oppgitte kontoen ikke støtter digisos-meldinger, vil søknaden bli sendt til SvarUt. b. SvarUt - Søknaden sendes til SvarUt enten fordi den er valgt som eneste leveransekanal, eller fordi kommunen ikke kan motta digisos-meldinger gjennom Fiks IO (se punkt 6).  Hvis punktene over blir gjennomført ok opprettes en digisos-melding i Fiks Innsyn. Denne autoriseres for innbyggeren. Fiks returnerer 202 ACCEPTED på http-kallet fra NAV. Dette markerer ansvarsoverføring fra NAV til Fiks, som fra nå garanterer at saken leveres til kommune for behandling.  Kommunen mottar meldingen gjennom Fiks IO. Den vil være tilgjengelig i køen i en fastsatt periode. Om kommunen ikke bekrefter mottak før denne perioden går ut vil meldingen bli trukket og alternativ kanal benyttes (se punkt 6). Søknanded opprettes i kommunalt fagsystem. Det kommunale fagsystemet bekrefter mottak av søknaden og oppdaterer status i Fiks Digisos.  Evt. nye filer legges til saken, autorisert for innbygger. Digisos saken i Fiks Innsyn oppdateres Saken er tilgengelig for nav.no og NAV-ansatte/brukerstøtte.  Om fagsystemet avviser eller unnlater å bekrefte mottak av saken via Fiks IO vil SvarUt benyttes som alternativ kanal, der det inkluderes en fil som inneholder både NAV og Fiks Digisos sin id for saken. I praksis betyr dette at meldingen blir sendt til kommunens Altinn-konto, evt. sendt til print og postlagt.\n  Sikkerhet Systemet er lagt opp slik at NAV ikke trenger å lagre data, disse fjernes fra NAVs systemer når søknaden sendes til Fiks. All tilstand lagres dermed på Fiks-plattformen og hos kommunen. Innsending av søknad kan utelukkende gjøres med brukerens ID-Porten autentisering.\nKommunikasjonen mellom aktørene (NAV, Fiks, fagsystem) foregår med SSL-kryptering, i tillegg er alle dokumenter kryptert med mottakers nøkkel. NAV krypterer med Fiks sin nøkkel, Fiks krypterer med fagsystemets, og fagsystemet vil igjen bruke Fiks-nøkkelen.\nInnbygger har tilgang til alle sine opplastede dokumenter, der et begrenset utvalg av metadata også er tilgjengelig for NAV-ansatte. Uthenting av disse metadataene krever autentisering med NAVs virksomhetssertifikat og integrasjonsinnlogging, og alle slike spørringer logges i Fiks Audit. Ansvaret for den videre autorisering av den enkelte NAV-ansatte ligger hos NAV.\nIntegrasjonsutvikling Fagsystem Det anbefales å lese gjennom dokumentasjonen for generell integrasjonsutvikling mot Fiks, der siste avsnitt, \u0026ldquo;Hvordan komme i gang med utvikling\u0026rdquo;, er svært nyttig. På denne siden beskrives blant annet oppsett av IDPorten og autentisering mot Fiks, der fagsystemet bruker Integrasjon som autentiseringsmetode. Fiks tilbyr både en Java-klient og en .net-klient som kan brukes for å generere access token fra Maskinporten (IDPorten). Avsnittet Konfigurasjon beskriver hvordan en integrasjon opprettes og tilknyttes en tjeneste (Digisos). Integrasjons-id-en og passordet generert her må dermed brukes sammen med access token fra Maskinporten for å få tilgang til Digisos-API-et.\nMottak av søknader Fagsystemet kan motta søknader enten via Fiks IO eller SvarUt. I tillegg til søknadsfilene sendt fra NAV, vil det inkluderes en ekstra json-fil med metadata. Denne metadataen vil være forskjellig basert på om det er en søknad eller ettersendelse som er sendt fra NAV. I begge tilgfellene vil den inneholde en Fiks DigisosId for å kunne sende saksoppdateringer til Fiks Digisos API og en unik referanse fra NAV, eksternRef. For ettersendelser vil den i tillegg inneholde informasjon om hvilken søknad ettersendelsen tilhører, og om selve søknaden ble sendt over Fiks IO eller SvarUt.\nSøknad: Eksempel på innholdet i metadata-file for søknader er definert i søknad-metadata-eksempel.\nEttersendelse: Eksempel på innholdet i metadata-file for ettersendelser er definert i ettersendelse-metadata-eksempel.\nSelve innholdet i metadata-filen vil være definert likt for både Fiks IO og SvarUt. Følgende er spesifikt for de ulike leveringskanalene:\nFiks IO Ved bruk av Fiks IO som leveringskanal må fagsystemet støtte meldingsprotokollen no.nav.digisos.fagsystem.v1, som er definert for bruk av Digisos-meldinger, som inneholder kontrakter i form av json-schema som gjelder både for mottak og svar på Fiks IO meldinger. Fagsystemet må derfor støtte meldingstypene for denne protokollen, for mottak og sending av meldinger for både søknader og ettersendelser:\nTil fagsystem - mottak av søknad og ettersendelse Dette er de samme metadataene som blir beskrevet ovenfor.\nFor ny søknad, no.nav.digisos.soknad.v1, som definert i json-skjema for søknad.\nFor ettersendelse, no.nav.digisos.ettersendelse.v1, som definert i json-skjema for ettersendelse.\nFra fagsystem - kvittering på mottatt søknad og ettersendelse For ny søknad, no.nav.digisos.soknad.mottatt.v1, med tom body.\nFor ettersendelse, no.nav.digisos.ettersendelse.mottatt.v1, med tom body.\nFor mer informasjon om Fiks IO, se dokumentasjon for Fiks IO.\nSvarUt Ved bruk av SvarUt som leveringskanal må fagsystemet støtte mottak av metadata-filen som definert ovenfor, Mottak av søknader. Denne metadata filen vil være lagt med selve SvarUt forsendelsen, kalt forsendelseMetadata.json.\nSøknad: Eksempel på innholdet i forsendelseMetadata.json for søknader er definert i søknad-metadata-eksempel.\nEttersendelse: Eksempel på innholdet i forsendelseMetadata.json for ettersendelser er definert i ettersendelse-metadata-eksempel.\nFor mer informasjon om SvarUt, se dokumentasjon for SvarUt.\nSak oppdatering fra Fagsystem Fiks Digisos tilbyr en api-spec for alle operasjoner utenom filopplasting, som er beskrevet under avsnittet \u0026ldquo;Opplasting av filer\u0026rdquo;.\nSak oppdaterings api-spec er API-et der hvert endepunkt opererer på en angitt søknad, DigisosId, der førlgene operasjoner er tilgjengelige:\n Opprette en ny sak for en søker, der man får tildelt en unik DigisosId for opprettet sak. Oppdatere en sak med nye hendelser, der gammel sakoppdatering vil bli erstattet med den nye. Slette sakoppdatering, (refererte filer fra saken slettes ikke). Hente liste av dokumenter som tilgjengelige på søknaden, som tidligere er lastet opp via Fiks Digisos (se avsnitt \u0026ldquo;Opplasting av filer\u0026rdquo;). Slette dokument fra søknaden, som tidligere er lastet opp via Fiks Digisos (se avsnitt \u0026ldquo;Opplasting av filer\u0026rdquo;).  Filformatet brukt for sakoppdateringer for json-data, digisos-soker.json, er definert her: soknadsosialhjelp-filformat .\nDigisos API-et har vi eksponert i en uavhengig tredjeparts-applikasjon, \u0026ldquo;Swagger Editor\u0026rdquo;, som også tilbyr funksjonalitet for å generere en klient i valgt programmeringsspråk basert på api-specen vi har definert. Denne klienten kan brukes som et utgangspunkt for integrasjon mot Fiks Digisos, men der man må tilpasse klienten til eget fagsystem, med å blant annet legge til nødvendig autentisering og access token.\nReferering til filer\nFiler må lastes opp på forhånd, da digisos-soker.json inneholder referanse-id til dokumentene som kan linkes til søkeren, som gjelder både for filer som lastes opp til Fiks Dokumentlager via Digios-api (som beskrevet under) eller som er sendt via SvarUt.\nDet anbefales å laste opp alle filene via Digisos-api (som beskrevet under, \u0026ldquo;Opplasitng av filer\u0026rdquo;), da vil følgende gjelde:\n Når en sakoppdatering skjer, vil Fiks Digisos validere at refererte filer faktisk er tilgjenglige på saken (DigisosId). Når man sletter en fil via Fiks Digisos vil man bare kunne slette filer som ikke er referert til på saken (DigisosId). Man kan hente en liste av alle tilgjengelige filer for en gitt sak (DigisosId).  Ved å referere til et SvarUt dokument, består denne filreferansen av SvarUt sin forsendelsesId og nummeret for dokumentet i denne forsendelsen, der indekseringen begynner fra 1. Ved referanse til SvarUt filer har ikke Fiks Digisos-api noe relasjon eller tilgang til disse filene, slik at fagsystemet selv er ansvarlig for at alle referte filer til en hver tid er tilgjengelige for søkeren når filreferansene linkes til på nav.no.\nGenerelle vilkår for sakoppdatering:\n Når en sakoppdatering skjer, må derfor alle filer være tilgjenglige på saken. Filer som ikke lenger skal ligge på sak, kan fjernes etter at sakoppdatering uten filene er lastet opp. Fagsystemet må ha kontroll på listen med filer og sjekke at denne er korrekt. Når en sakoppdatering skjer, må saken eksistere i Fiks Digisos, enten fordi skjema fra NAV er sendt via Digisos eller at fagsystem har opprettet en sak. Hver sakoppdatering inneholder en komplett historikk av alle tidligere hendelser, og vil alltid overskrive tidligere sakoppdatering lagret i Fiks Digisos.  Opplasting av filer\nFiks tilbyr en referanseimplementasjon i Java som kan brukes for filopplasting til Fiks Digisos: https://github.com/ks-no/fiks-digisos-klient.\nFør en sakoppdatering, må alle refererte filer være lastet opp på forhånd.\nFiler lastes opp til Fiks Digisos ved bruk av en multipart streaming request, der man spesifiserer HTTP-headeren \u0026ldquo;Transfer-Encoding\u0026rdquo; til å sende data i chunks, Transfer-Encoding: chunked.\nAlle filene må krypteres før opplasting, med public-key fra Fiks som kan hentes fra endepunktet /digisos/api/v1/dokumentlager-public-key.\nURL-stien til filopplasting er /digisos/api/v1/{fiksOrgId}/{digisosId}/filer, der {fiksOrgId} og {digososId} er FiksOrgId-en og FiksDigisosId-en som filene skal legges til.\nEndepunktet tar inn en liste, der man for hver fil som skal lastes opp legger til en metadata-blokk som inneholder informasjon om filen og en blokk som inneholder selve filen (InputStream). Multipart-requesten til Digisos API-et må da for hver fil inneholde to data-fields, der den første inneholder metadataen og den andre inneholder filen. Metadata består av filnavn på filen (filnavn), type (mimetype) og størrelse på filen i bytes (storrelse), der metadata-blokken er av typen \u0026ldquo;application/json\u0026rdquo;. Alle felter må oppgis.\nEksempel på metadata-blokk:\n{ \u0026quot;filnavn\u0026quot;: \u0026quot;test.pdf\u0026quot;, \u0026quot;mimetype\u0026quot;: \u0026quot;application/pdf\u0026quot;, \u0026quot;storrelse\u0026quot; : 1024 }  fiks-digisos-klient beskriver hvordan en slik request skal defineres, som krypterer alle filene og sender til Fiks Digisos.\nReturtype Ved en vellykket opplasting får man tilbake en liste av dokumentmetadata som inneholder filnavn, unik referanse (UUID) til Fiks-Dokumentlager, og størrelse på filen.\nEksempel:\n200 OK { [ { \u0026quot;filnavn\u0026quot;: \u0026quot;test.pdf\u0026quot;, \u0026quot;dokumentlagerDokumentId\u0026quot;: \u0026quot;ab35e9088-bcfa-4096-ba68-f07777ed167c\u0026quot;, \u0026quot;storrelse\u0026quot; : 1024 } ] }  Ved feil ved opplasting får man 400 Bad Request når multipart-requesten ikke er definert med riktige data.\nIntegrasjonsutvikling (for NAV) For generell integrasjonsutvikling mot Fiks, se Integrasjonsutvikling\nInnsending av søknad Soknad api (api-spec)\nFor innsending av søknad/ettersendelse brukes person-integrasjon autentisering med OIDC, se Integrasjonsutvikling for mer detaljer.\nInnsending av ny søknad\nInnsending av ny søknad til Fiks Digisos bruker multipart streaming request, på lik linje som opplasting av filer for fagsystemene, der man spesifiserer HTTP-headeren \u0026ldquo;Transfer-Encoding\u0026rdquo; til å sende data i chunks, Transfer-Encoding: chunked.\nURL-stien til ny søknad er /digisos/api/v1/soknader/{kommunenummer}/{navEkseternRefId}, der {kommunenummer} er kommunenummer søknaden skal sendes til og {navEkseternRefId} er en unik id fra NAV for søknaden.\nEndepunktet tar inn påkrevde felter for innsending av en ny søknad, som består av metadataene soknad.json (json-encodet String) og vedlegg.json (json-encodet String), samt filen soknad.pdf (metadata + fildata) pluss eventuelle vedlegg (metadata + fildata). Disse dataene må da være definert i denne rekkefølgen i multipart requesten.\nFor hver fil som skal lastes opp (soknad.pdf og hvert vedlegg) legger man til en metadata-blokk som inneholder informasjon om filen og en blokk som inneholder selve filen. Filene må også være kryptert med public key til Fiks Dokumentlager, som blir eksponert via endepunktet /digisos/api/v1/dokumentlager-public-key, på lik linje med kryptering av filer for for fagsystemene, som definert i Fiks Digisos klienten. Metadata består av filnavn på filen (filnavn), type (mimetype) og størrelse på filen i bytes (storrelse), der metadata-blokken er av typen \u0026ldquo;application/json\u0026rdquo;. Alle felter må oppgis.\nEksempel på metadata-blokk, som må defineres for hver fil:\n{ \u0026quot;filnavn\u0026quot;: \u0026quot;soknad.pdf\u0026quot;, \u0026quot;mimetype\u0026quot;: \u0026quot;application/pdf\u0026quot;, \u0026quot;storrelse\u0026quot; : 1024 }  Innholdet i en request vil da kunne bestå av:\nsoknadJson, vedleggJson, metadata + soknad.pdf, metadata + vedlegg1.pdf, metadata + vedlegg2.pdf  Returtype Ved en vellykket innsending får man tilbake 202 ACCEPTED og en unik Fiks DigisosId (UUID) som er ID-en til opprettet søknad i Fiks Digisos.\nVed feil ved opplasting får man 400 Bad Request når multipart-requesten ikke er definert med riktige data.\nInnsending av ny ettersendelse\nInnsending av ny ettersendelse til Fiks Digisos bruker også multipart streaming request.\nURL-stien til ny ettersendelse er /digisos/api/v1/soknader/{kommunenummer}/{soknadId}/{navEkseternRefId}, der {kommunenummer} er kommunenummer søknaden tilhører, {soknadId} er Fiks DigisosId-en for søknaden det skal ettersendes til og {navEkseternRefId} er en unik id fra NAV for denne ettersendelsen.\nEndepunktet tar inn påkrevde felter for innsending av en ny ettersendelse, som består av metadataen vedlegg.json (String), samt en liste med vedlegg (metadata + fildata). Filene må krypteres på lik linje som for ny søknad.\nFor hvert vedlegg som skal lastes opp legger man til en metadata-blokk som inneholder informasjon om filen (samme som innsending av ny søknad) og en blokk som inneholder selve filen.\nReturtype Det er ingen returtype på dette endepunktet.\nVed feil ved opplasting får man 400 Bad Request når multipart-requesten ikke er definert med riktige data.\nHenting av filer Soknad api (api-spec)\nVed henting av søknad vil det for hver fil returneres en UUID til Fiks Dokumentlager eller en forsendelsesid og filnummer for SvarUt, der filen kan lastes ned. Filene soknad.json, vedlegg.json og digisos-soker.json vil være tilgjengelige for NAV gjennom endepunktet /digisos/api/v1/nav/soknader/{digisosId}/dokumenter/{dokumentlagerId} fra Digisos API-et, der dokumentet blir returnert som en inputstream fra HttpServletResponse. Alle andre filreferanser vil bli eksponert for søkeren, som søkeren selv må laste ned fra Fiks Dokumentlager, https://minside.kommune.no/dokumentlager/nedlasting/niva4/{id}, eller fra SvarUt, https://svarut.ks.no/forsendelse/{forsendelseId}/{filnummer}.\n"
},
{
	"uri": "/fiks-platform/difiidportenklient/",
	"title": "Hvordan lage klient hos ID-porten",
	"tags": [],
	"description": "",
	"content": " Du må ha Maskinporten/OpenID Connect konto hos ID-porten i ver2 miljøet. (Dere må ha virksomhetsertifikat for test fra Commfides eller Buypass) gå til https://selvbetjening-samarbeid.difi.no/#/ logg inn velg \u0026ldquo;Gå til integrasjoner\u0026rdquo;, for ver2 for test. Produksjon for prod.  velg \u0026ldquo;Ny integrasjon\u0026rdquo;  Sett Integrasjon for: for egen virksomhet -\u0026gt; integrasjonstype = maskinporten, -\u0026gt; velg scopes, Der skal du se ks:fiks i lista. client_name: til et navn som passer Difi-tjeneste: Maskinporten (for personinnlogging må du kontakte idporten@difi.no) legg til scopes: ks:fiks ( Vises ikke dette har vi ikke fått korrekt org.nr fra dere, send det til fiks-utvikling@ks.no) grant_types: urn:ietf:params:oauth:grant-type:jwt-bearer må være valgt token_endpoint_auth_method: private_key_jwt  lagre -\u0026gt; Da får du client_id.  Hvis du skal ha personinnlogging med ks:fiks scope må du sende en henvendelse til idporten@difi.no\n For produksjon må dere følge rutina her: https://samarbeid.difi.no/felleslosninger/maskinporten/ta-i-bruk-maskinporten/1-planlegge-og-akseptere-bruksvilkar\n  "
},
{
	"uri": "/fiks-platform/integrasjoner/",
	"title": "Integrasjonsutvikling",
	"tags": [],
	"description": "",
	"content": " En integrasjon på Fiks-plattformen er en maskin-til-maskin klient som benytter tjenestelaget for å utføre oppgaver på vegne av en fiks-organisasjon. Dette kan for eksempel være et arkivsystem som sender saker gjennom Fiks SvarInn, eller et fagsystem som oppdaterer meldinger i Fiks Innsyn.\nNår en Fiks-organisasjon tar i bruk plattformen vil man se at det allerede finnes en del forhåndsdefinerte integrasjoner, for eksempel en SvarUt-integrasjon mot Fiks Innsyn. Dette er \u0026ldquo;globale integrasjoner\u0026rdquo; som blir tilgjengelig for alle Fiks-organisasjoner uten at hver organisasjon trenger å opprette dem. Ta kontakt med fiks-kundeservice om du på denne måten ønsker å gjøre en av dine integrasjoner tilgjengelig på hele plattformen. Dette er for det meste relevant for leverandører av skyløsninger for flere kommuner.\nHver Fiks-organisasjon kan også opprette sine egne \u0026ldquo;lokale\u0026rdquo; integrasjoner - dette gjøres gjennom Fiks Konfigurasjon. Her opprettes integrasjonen, og man definerer hvilken organisasjon som skal ha rett til å sende forespørseler til Fiks-plattformen på vegne av denne. Organisasjonen kan være Fiks-organisasjonen selv, eller en tredjepart som har driftsansvar. Se under for detaljer om opprettelse av integrasjoner.\nEtter organisasjonen er opprettet må den autoriseres for å kunne handle på vegne av en Fiks-organisasjon. Om man for eksempel ønsker å autorisere en integrasjon for å indeksere meldinger Fiks Innsyn må det relevante privilegiet tildeles på konfigurasjonssiden for denne tjenesten. Dette gjelder også for globale integrasjoner.\nHvordan komme i gang med utviklingen  Bestill virksomhetssertifikat fra comfides eller buypass for test. NB! På grunn av krav fra DIFI/Maskinporten kan du ikke bruke selvsignert sertifikat hverken i test eller produksjonsmiljø Vi må ha org.nr på kontoen hos ID-porten (samme som i virksomhetssertifikatet), slik at vi får gitt dere tilgang til \u0026ldquo;ks:fiks\u0026rdquo;-scopet. Sendes til fiks-utvikling@ks.no Følg oppskrift her for å lage klient hos idporten Send en e-post til fiks-utvikling@ks.no med e-postadresser som vil ha tilgang til vår Slack support-kanal. Vi liker best å ta support på Slack-chat. Har dere personinnlogginger i ID-porten test, send disse i en e-post til oss slik at vi kan sette opp test kommune/organisasjon i test. fiks-utvikling@ks.no Hvis ikke får dere testpersoner av oss. Ta kontakt på Slack-kanalen hvis dere står fast eller ønsker å få tilbakemelding på om dere bruker api-ene korrekt.  Grensesnitt Integrasjoner mot Fiks-plattformen vil hovedsakelig benytte grensesnitt basert på REST/json.\nVi publiserer OpenAPI-Specification for alle api\u0026rsquo;er. I dag benyttes versjon 2.0, med plan om migrering til 3.0 etter hvert som verktøy får støtte for denne. Disse spesifikasjonene er nyttige både som dokumentasjon for rest-grensesnittet og som grunnlag for automatisk generering av klienter og modell-objekter. Dette kan for eksempel gjøres ved bruk av Swagger Codegen.\nKonfigurasjon En Fiks-organisasjon kan opprette egen integrasjoner gjennom Fiks konfigurasjon.\n Sett autorisert organisasjon. Dette vil som regel være organisasjonen som drifter systemet som skal integreres, enten fiks-organisasjonen selv eller en tredjepart. Genererer servicepassord. Dette må opplyses for å autentisere integrasjonen, se under for detaljer. Tildel navn. Et visningsnavn for integrasjonen. Sett beskrivelse. En beskrivelse av hva integrasjonen er og hvilke oppgaver den løsner. Sett tjenester. Hvilke tjenester er denne integrasjonen aktuell for?  Autentisering Integrasjoner autentiseres på to ulike måter: som \u0026ldquo;integrasjon\u0026rdquo; med oAuth 2.0, eller \u0026ldquo;integrasjon-person\u0026rdquo; m. Open Id Connect (OIDC).\nIntegrasjon Denne metoden benyttes for ren server til server integrasjon, for eksempel når et fagsystem skal laste opp meldinger til Fiks Innsyn. Organisasjonen henter et OAuth 2.0 access token med scope \u0026ldquo;ks:fiks\u0026rdquo; fra ID-Porten, basert på organisasjonens virksomhetssertifikat. Dokumentasjon for dette finnes her. Vi støtter i første omgang kun JWT access_tokens, dette må konfigureres hos ID-Porten. I tillegg til dette tokenet må man ha en header for integrasjonId og for integrasjonPassord.\nKallet mot Fiks-plattformtjenesten trenger dermed følgende HTTP headere:\n Authorization: OAuth-2.0 Jwt Access token som bekrefter organisasjonens identitet, signert av ID-Porten. Scope skal være \u0026ldquo;ks:fiks\u0026rdquo;. IntegrasjonId: Id for integrasjonen, generert i Fiks-konfigurasjon. Org.nr i Jwt\u0026rsquo;en i Authorization header må være konfigurert som autorisert organisasjon for integrasjonen. IntegrasjonPassord: Passord for integrasjonen (fra Fiks-konfigurasjon)  Integrasjon-person Denne metoden benyttes hvis en innbygger er logget inn på en server i en kommune, og man ønsker å gjøre en forespørsel på vegne av denne innbyggeren. Man trenger fortsatt integrasjon-ID og integrasjonpassord, men i stedet for virksomhetens access token sender man brukerens, innhentet med \u0026ldquo;ks:fiks\u0026rdquo; scope via OIDC fra ID-Porten.\nKallet mot Fiks-plattformtjenesten trenger dermed følgende HTTP headere:\n Authorization: OAuth-2.0 Jwt Access token som bekrefter inbyggerens identitet (fnr), signert av ID-Porten. Scope skal være \u0026ldquo;ks:fiks\u0026rdquo;. IntegrasjonId: Id for integrasjonen, generert i Fiks-konfigurasjon. Orgnr i Jwt\u0026rsquo;en i Authorization header må være konfigurert som autorisert organisasjon for integrasjonen. IntegrasjonPassord: Passord for integrasjonen (fra fiks-konfigurasjon)  http POST https://api.fiks.test.ks.no/innsyn-sok/api/v1/sok \\ \u0026#34;IntegrasjonId: \u0026lt;din integrasjon id\u0026gt;\u0026#34; \\ \u0026#34;IntegrasjonPassord: \u0026lt;ditt integrasjon passord\u0026#34; \\ \u0026#34;Authorization: Bearer \u0026lt;gyldig innbygger access token jwt fra id-porten\u0026gt;\u0026#34; Autorisering I tillegg må integrasjonen autoriseres for tilgang til en spesifikk tjeneste. Hvis for eksempel et fagsystem skal kunne laste opp meldinger til Fiks Innsyn må en administrator i kommunen benytte Fiks-Konfigurasjon for å legge til denne tilgangen hos den relvante kommunen.\nDette gjelder også for integrasjoner som leveres som en del av Fiks-plattformen. Skal SvarUt kunne indeksere forsendelse i Fiks Innsyn må også her kommunen eksplisitt autorisere dette.\n"
},
{
	"uri": "/fiks-platform/tjenester/innsyn/",
	"title": "Innsyn",
	"tags": [],
	"description": "",
	"content": " Norske kommuner har mengder av informasjon om sine innbyggere. Denne informasjonen er spredd rundt i arkiver, fagsystemer, dokumentlagre og eksterne skyløsninger. Fiks Innsyn lagrer metadata som beskriver denne informasjonen, og gjør den tilgjengelig for innbyggeren via en kraftig søkemotor.\nHvordan tar man i bruk Fiks Innsyn? En kommune kan bruke Fiks Innsyn for å gjøre kommunal informasjon (forsendelser, byggesaker, eiendommer, fakturaer osv) tilgjengelig for innbyggere, endten på minside.kommune.no eller på kommunens eksisterende minside løsning. Uansett er første steg å sørge for metadata som beskriver informasjonen finnes i søkemotoren. Dette gjøres ved å legge til integrasjoner i konfigurasjonen av innsyntjenesten på forvaltning.fiks.ks.no. Hver av disse integrasjonene representerer en datakilde. Dette kan være \u0026ldquo;nøkkelklare\u0026rdquo; integrasjoner levert av KS eller tredjepartsleverandører, for eksempel forsendelser fra SvarUt eller byggesaker fra GeoMatikk, eller integrasjoner kommunen lager selv. I skjermbildet over har en kommune lagt til SvarUt integrasjonen som kilde for innsyn, som gjør at alle forsendelser fra SvarUt-avsendere spesifisert i integrasjonens konfigurasjon blir tilgjengelig i \u0026ldquo;Post fra kommunen\u0026rdquo; på minside.kommune.no.\nHvis kommunen benytter minside.kommune.no er nå alt klart: innloggede innbyggere vil se sine meldinger i \u0026ldquo;Post fra kommunen\u0026rdquo; og andre innsyn-drevede tjenester.\nHvis kommunen benytter en egen minside-løsning må også søket mot Fiks Innsyn gjøres via en integrasjon, som legges til på samme måte som datakilde-integrasjonene over. I noen tilfeller vil det finnes nøkkelklare leverandør-integrasjoner for dette, i andre må kommunen lage en egen integrasjon som leverandøren kan benytte. Kontakt leverandør for å avklare dette.\nHvordan virker Fiks Innsyn? Tjenesten består av tre hovedkomponenter:\n Innsyn-webapplikasjoner, et sett med SPA (Single Page Applications) på minside.kommune.no som innbyggere benytter for å søke i innsynsdatabasen. Eksempler er \u0026ldquo;Post fra kommunen\u0026rdquo;, \u0026ldquo;Byggesaker\u0026rdquo;, osv. Innsyn-søk, søkemotoren som utgjør back-end for webappliasjonene. Støtter fritekstsøk og score-rangerte resultater. Innsyn-indexer, en indekseringstjeneste som integrasjoner kan benytte for å laste opp metadata om informasjonen kommunen sitter på: hendelser, fakturaer, saker, journalposter, forsendelser, osv.\n  Søk i innsyn gjøres via applikasjonene på minside.kommune.no, eller direkte via et REST grensesnitt. Uansett baserer autentisering seg på innlogging via ID-Porten. En autentisert innbygger autoriserers for å lese en melding på en av fire måter:\n Meldingen er eksponert for innbyggerens fødselsnummer Innbyggeren har rollene \u0026ldquo;post/arkiv\u0026rdquo; eller \u0026ldquo;kommunale tjenester\u0026rdquo; i Altinn for organisasjonsnummeret meldingen er eksponert for Innbyggeren er markert som eier av matrikkelenheten meldingen er eksponert for, endten direkte eller via organisasjon. Meldingen er eksponert med type \u0026ldquo;offentlig\u0026rdquo;, og er dermed tilgjengelig for alle autentiserte innbyggere.  Søket er i hovedsak basert på fri-tekst, og vil også da kompenserer for stavefeil, bøyeform eller orddeling. Noe filtrering er mulig (for eksempel på dato, avsender-organisasjon osv). Alle søk er også filtrert på innloggingsnivå. Et søk gjort med innlogging på nivå tre vil ikke returnere grupper som er satt til nivå fire, uavhengig av om disse gruppene traff på søket. Hvilket innloggingsnivå som kreves for å se hver enkelt melding er bestemt av interasjonen som indekserte meldingen i Innsyn.\nSøkeresultatet scores og sorteres basert på relevans: nye meldinger scores høyere enn gamle, uleste dokumenter høyere enn de du har lest, ubetalte faktura høyere enn de du har betalt, og så videre. Det er også mulig å få resultatet sortert på dato.\nSøkemotoren inneholder utelukkende metadata, ikke selve dokumentet. Om meldingen skal peke til et dokument, bilde eller annen fil gjøres dette i form av en lenke: denne kan for eksempel peke til en fil i Fiks Dokumentlager, en sak i et kommunalt filarkiv, eller en annen tjeneste. Så lenge disse støtter innlogging gjennom ID-Porten vil nedlastingen oppleves sømløst av innbygger.\nUvikling av integrasjoner som leverer data til Innsyn: Indeksering av dokumenter gjøres via Innsyn-Index api. Først noen grunnleggende prinsipper for forvalting av meldinger i innsyn:\n Alle dokumenter eies av en Fiks Organisasjon. I de fleste tilfeller vil dette være en kommune eller en fylkeskommune. Det er denne organisasjonen som autoriserer indeksering av data, og har rett til å oppdatere eller slette disse, enten direkte eller via tredjepart. Integrasjoner må autoriseres for å indeksere data på vegne av en av organisasjon. Dette gjøres gjennom å tildele \u0026ldquo;Innsyn Index\u0026rdquo; privilegiet til integrasjonen i Fiks Konfigurasjon. Nøkkelklare integrasjoner vil automatisk bli tildelt de nødvendige privilegiene når de blir lagt til i Innsyn konfigurasjonen. Hver integrasjon styrer dokumentene de har lastet opp på vegne av organisasjonen. Dvs. at integrasjon A ikke kan slette eller oppdatere dokumenter lastet opp av integrasjon B. Merk at tjenesteadministrator når som helst kan slette meldinger gjennom Fiks Konfigurasjon, uavhengig av hvilke integrasjon som har indeksert meldingene.  Indeksering Indekseringstjenesten lar integrasjoner opprette meldinger, eller fjerne / endre meldinger som alt er opprettet. Hver melding har en meldingId som settes av integrasjonen. Hvis man indekserer to meldinger på samme melding-id vil den første meldingen bli overskrevet.\nNår man lager en integrasjon mot indekseringstjenesten er det viktig å være bevisst på at Innsyn bør betraktes som en cache: man bør ikke forvente at meldingene man laster opp vil ligge der til evig tid: en forvalter med admin-privilegier på innsyn-tjenesten kan for eksempel når som helst slette meldinger. Hvis man ønsker en robust løsning er det derfor viktig at man støtter replay: muligheten til å re-indexere alle meldinger til Innsyn.\nDe vanlige autentiseringsreglene for Fiks-plattformen gjelder for denne tjenesten, men i tilegg må integrasjonen har rett til å indeksere på vegne av fiks organisasjonen som er satt som eier den aktuelle meldingen.\nEndepunktet støtter batch av opptil 5000 elementer, og integrasjonsutviklere anbefales å benytte denne funksjonaliteten, da det skaper vesentlig mindre trykk på systemet. Merk at indeksering ikke er en atomisk transaksjon: deler av elementene i en batch kan bli indeksert selv om andre feiler.\nEn indekseringsoperasjon kan ha følgende utfall:\n 200. Meldingene ble indexert. Merk at det kan ta noe tid før disse blir synlige for et søk. 4XX. Et problem på klientsiden førte til at meldingene ikke kan behandles. Ved 4XX feil vil ingen av meldingene i batchen bli skrevet til Innsyn.  Hvis deserialisering av json mislykkes får man en ren 400 BAD REQUEST. Dette indikerer som oftest at json modellen i forespørselen ikke stemmer med api-spec. Hvis deserialisering var vellykket men en eller flere meldinger ikke validerte får man en meldinger som feilet, og en beskrivelse av hvorfor. Dette indikerer som oftest at et påkrevet feil mangeler, eller at det har en ugyldig verdi. Dette bør utbedres, eller meldingene med ugyldige verdier bør fjernes før man prøver igjen.  5XX. Indeksering av batchen feilet. Dette betyr som oftest at noe gikk galt på server-siden. Noen av meldingene i batchen kan likevel være indeksert. Man bør derfor forsøke å indeksere alle meldingene på nytt.  Gjennomføring av batch-operasjoner skjer synkront fra ståstedet til en bruker av tjenesten: responsen blir ikke sendt før batchen er gjennomført. Dermed vil man kunne vite at en gruppe opprettet i batch 1 eksisterer når batch 2 gjennomføres, så lenge disse utføres sekvensielt.\nEksponering av meldinger Eksponert for i en indekseringsforespørsel angir hvem som skal kunne se meldingen. Dette kan ha en av følgende verdier:\n fødselsnummer: Meldingen blir tilgjengelig for innbyggeren som er autentisert med det spesifiserte fødselsnummeret. organisasjonsnummer: Meldingen blir tilgjengelig for innbyggere som innehar rollene \u0026ldquo;post/arkiv\u0026rdquo; eller \u0026ldquo;kommunale tjenester\u0026rdquo; i Altinn på det spesifiserte organisasjonsnummeret. matrikkelnummer: Meldingen blir tilgjengelig for personer som er ført som eiere av matrikkelenheten med det spesifiserte nummeret, eller som innehar rollene \u0026ldquo;post/arkiv\u0026rdquo; eller \u0026ldquo;kommunale tjenester\u0026rdquo; for en organisasjon som er ført som eier av den aktuelle matrikkelenheten. Endringer i eierskap vil automatisk bli tatt hensyn til, uten at reindeksering av meldingen er nødvendig. offentlig: Meldingen er åpent tilgjengelig for alle autentiserte personer, denne eksponert-for typen bør benyttes med varsomhet.  Det er viktig at man har et bevisst forhold til hvem meldinger eksponeres for, spesielt når man eksponerer for en matrikkelenhet, da endringer i eierskap vil medføre at nye personer får tilgang til meldingen. Man bør derfor aldri eksponere sensitive data via denne metoden.\nVersjonering Over tid vil json-modellen for en melding endrer seg. Innsyn løser dette ved at alle metadatamodellene er versjonert, for eksempel som Forsendelse V1, Forsendelse V2 osv. Alle tidligere versjoner er støttet, så om din integrasjon indekserer V1 av forsendelser i dag vil dette fortsette å virke selv om V2 blir gjort tilgjengelig.\nHvis man ønsker å oppgradere eksisterende meldinger til ny versjon, for eksempel for å benytte felt som er lagt til i oppdateringen, gjøres dette gjennom replay; alle meldinger re-indekseres på eksisterende meldingId med ny versjon av metadata.\nSletting Indekserte meldinger kan fjernes ved å benytte endepunkt for sletting. Her gjelder de samme reglene som over: en integrasjon må være autorisert for å handle på vegne av en ansvarlig organisasjon for at sletting kan gjennomføres, og en integrasjon kan bare slette meldinger den selv har indeksert.\nMerk at sletting på samme måte som indeksering ikke gjennomføres i en atomisk transaksjon: deler av meldingene i batchen kan bli slettet selv om andre feiler.\nHåndtering av filer Mange meldingstyper vil referere til filer i eksterne systemer, som for eksempel dokumenter i \u0026ldquo;Forsendelse\u0026rdquo; typen. Innsyn har i seg selv ikke noe forhold til binære filer, og betrakter dem utelukkende som en lenke. Hvis filene allerede er tilgjengelig i et ID-Porten kompatibelt filarkiv trenger man ikke å laste disse opp på nytt, hvis man ikke har en slik tjeneste fra før kan man benytte Fiks Dokumentlager til dette.\nUvikling av integrasjoner for å søke i innsyn Søketjeneste Hvis kommunen benytter minside.kommune.no er det ikke behov for å utvikle noen egne integrasjoner for søk, men det kan ofte være aktuelt å søke i innsyn fra kommunens eksisterende løsning, endten egenutviklet eller kjøpt via leverandør. I disse tilfellene må søket skje gjennom en integrasjon mot Innsyn-Søk api.\nIntegrasjonen som skal utføre dette søket må benytte integrasjon-person autentisering, dvs at de må fremvise den innloggede innbyggers ID-Porten token i kombinasjon med integrasjonId og Integrasjonpassord. I tillegg må integrasjonen ha \u0026ldquo;innsyn søk\u0026rdquo; privilegiet på den aktuelle Fiks-organisasjonen (tildelse via Innsyn konfigurasjon på forvaltning.fiks.ks.no). Søkeresultatet vil være begrenset til meldinger autorisert for den innloggede personen og eid av den aktuelle Fiks-organisasjonen.\nDet er også viktig å merke seg at man når man utfører et søk har mulighet til å spesifisere hvilke versjoner av meldingstyper man støtter. Det anbefales å benyttes seg av dette for å unngå overraskelser: hvis man ikke gjør det vil man få det som til enhver tid er nyeste versjon, med oppgraderinger uten advarsel. Se api-spec for detaljer.\n"
},
{
	"uri": "/fiks-platform/tjenester/kommunaletjenester/",
	"title": "Kommunale Tjenester",
	"tags": [],
	"description": "",
	"content": "Mange kommuner som tar i bruk Fiks Minside har eksisterende innbyggerrettede tjenester, enten egenutviklet eller innkjøpt fra leverandør. \u0026ldquo;Kommunale tjenester\u0026rdquo; lar kommunen eksponere disse tjenestene for sine innbyggere på minside.kommune.no, som illustrert i skjermbildet under:\nNår en innbygger logger seg på Minside vil Fiks-plattformen avgjøre hvilken kommune denne innbyggeren har et forhold til. I første omgang avgjøres dette av hvilke organisasjoner som har sendt innbyggeren post via SvarUt, senere vil Folkeregisteret også benyttes. På forsiden vil innbyggeren se tjenester fra sin primærkommune, men tjenester registrert av andre kommuner vil være tilgjengelig gjennom søk, både ved hovedsøket på minside.kommune.no og via \u0026ldquo;se alle tjenester\u0026rdquo; lenken.\nKommunen kan legge inn disse tjenestene via Fiks-konfigurasjon. Hver tjeneste har:\n Tittel: Kort beskrivelse av tjenesten Lenke: Lenke til tjenesten. Hvis systemet som betjener denne støtter innlogging via ID-porten vil overgangen oppleves som sømløs av innbygger Rettet mot: Her kan man spesifisere at en tjeneste er rettet mot privatpersoner, organisasjoner, eller begge. Organisajonstjenester vil bare vises hvis innbyggeren opererer i kontekst av en organisasjon. Favoritt: Tjenester som er tagget med \u0026ldquo;favoritt\u0026rdquo; vil prioriteres for visning på landingsiden minside.kommune.no.  Det er ingen begrensing på antall tjenester en kommune kan registrere.\n"
},
{
	"uri": "/fiks-platform/tjenester/matrikkel/",
	"title": "Matrikkel",
	"tags": [],
	"description": "",
	"content": "STATUS: under utvikling\nFiks-plattformen får med denne tjenesten støtte for matrikkelinformasjon. I første omgang i form av at informasjon om en innbyggers eiendommmer blir eksponert på minside.kommune.no, gjennom \u0026ldquo;Mine Eiendommer\u0026rdquo; og hovedsøket, og ved at Fiks Innsyn får støtte for å eksponere meldinger for eiere av en eiendom. Tilgang til denne meldingen vil da følge nye eiere av samme eiendom.\nMatrikkelinformasjon lastes på nasjonalt nivå, det er dermed ikke nødvendig for den enkelte kommune å ta denne tjensten i bruk, men det er mulig å tilpasse den til kommunens behov. I utgangspunktet benyttes seeiendom.kartverket.no for detaljinformasjon om eiendommer på minside.kommune.no, men kommuner som har eksisterende eiendomstjenester kan registrere disse via Matrikkel-tjenesten i Fiks Konfigurasjon - lenker til disse tjenestene vil da være tilgjengelig på eiendommer innenfor kommunen.\n"
},
{
	"uri": "/fiks-platform/tjenester/fiksio/",
	"title": "Fiks IO",
	"tags": [],
	"description": "",
	"content": " Fiks IO er en kanal for sikker maskin-til-maskin integrasjon. Denne kanalen kan benyttes for å bygge prosesser på tvers av systemer og organisasjoner, for eksempel når et fagsystem skal arkivere et dokument i et arkivsystem eller spørre om informasjon som er lagret i et annet system.\nFiks IO tilbyr:\n Rask leveranse: ved hjelp av kø-basert arkitektur (AMQP) kan Fiks IO levere meldinger raskt, stort sett på under ett sekund plus eventuelt overføring av data. Dette oppnås ved at meldinger nå sendes til det mottakende fagystemet i det øyeblikket de ankommer (push), i stede for at fagsystemet må hente meldingen (pull). Svar på melding: Fiks IO lar en mottaker svare på en spesifikk melding, f.eks. for å svare på en spørring eller å bekrefte at en forespurt handling er utført. Sikker kommunikasjon med ende-til-ende kryptering: Fiks IO tilbyr ende-til-ende kryptering av meldinger. Merk at dette ikke gjelder alle bruks-scenarioer, se \u0026ldquo;Sikkerhet\u0026rdquo; for detaljer. Sikker identifisering av avsender: Bruk av standard for kryptografisk signatur (ASiC-E) for meldinger gjør at man kan være sikker på identiteten til avsender. Levetid på meldinger: En melding har en brukerdefinert levetid. Avsender vil få beskjed hvis en melding ikke har blitt lest av mottaker innen levetidens utløp. Sending av store filer: Fiks IO integrerer mot Fiks Dokumentlager for å støtte sending av store filer, helt opp til dokumentlagers grense på fem gigabyte.  Hvordan tar man i bruk Fiks IO? Fiks IO baserer seg på at organisasjoner benytter Fiks Konfigurasjon for å opprette en eller flere kontoer. Andre organisasjoner kan så sende meldinger til disse kontoene, som mottaker kan lese ved å koble seg til io.fiks.ks.no.\nFor å gjøre det lettere å finne en konto, og vite hvilke meldingstyper systemet som benytter kontoen kan håndtere kan man konfigurere adresser. Adresser består av en eller flere organisasjonsnummer, meldingsprotokoller og sikkerhetsnivåer. Avsendere kan så slå opp i Fiks IOs katalogtjeneste for å finne f.eks. hvilken konto som skal motta digisos meldinger med sikkerhetsnivå fire for Bergen kommune.\nFunksjonalitet for å sende og lese meldinger vil typisk bli tilbudt av fagsystemleverandører eller offentlig virksomheter, som når Fiks Digisos formidler sosialsøknader fra Nav til kommunens sosialsystem, men kommuner og andre organisasjoner må fortsatt ha et forhold til hvilke kontoer de har, hvilke meldingstyper disse håndterer, og ikke minst hvem som har tilgang til å lese inkommende meldinger.\nI eksempelet over ser man en konto opprettet for å formidle Digisos meldinger til en kommunes fagsystem for behandlig av sosialsøknader. Det er opprettet en adresse på kontoen, \u0026ldquo;Digisos\u0026rdquo;, man har konfigurert støtte for meldingsprotokollen \u0026ldquo;no.nav.digisos.fagsystem.v1\u0026rdquo;, og sagt at dette systemet kan håndtere meldinger for både sikkerhetsnivå tre og fire.\nForhold til SvarUt og SvarInn Fiks IO er en selvstendig kanal, og er ikke bygget for å være en erstatning for SvarUt/SvarInn, som begge vil bli videreført i sin nåværende form. Bruksområdene til tjenestene kan overlappe, og dette gjør at det noen ganger kan være tvil om SvarUt/SvarInn eller Fiks IO er riktig verktøy for et problem.\nHovedsakelig bør man benytte svarut/svarinn for \u0026ldquo;post\u0026rdquo;: meldinger hvor payload er menneske-lesbar (f.eks. en pdf), hvor automatisk håndtering begrenses til f.eks. opprettelse av sak i et arkivsystem, og hvor sending til Altinn eller som brevpost er gode alternativer hvis den automatiske håndteringen feiler. Andre faktorer kan være:\nEr dette en maskin-til-maskin integrasjon? Benytt Fiks IO, denne leverer utelukkende til spesifisert mottakerkonto og benytter ingen alternative kanaler, som for eksempel printet post.\nSkal meldingen sikres gjennom ende-til-ende kryptering? Benytt Fiks IO, SvarUt/SvarInn meldinger kan bare krypteres med Fiks-plattformens nøkkel, ikke mottakers. Se \u0026ldquo;Sikkerhet\u0026rdquo; for deltajer om hvordan man oppnår trygg ende-til-ende kryptering gjennom Fiks-io\nTrenger man rask levering? Benytt Fiks IO for å få leveranse på sekunder, ved bruk av SvarUt/SvarInn kan levering ta lang tid, siden SvarUt prøver flere kanaler etter tur og defaulter til print ved leveranseproblemer.\nVil man at fiks-plattformen skal garantere at meldingen blir levert? Benytt SvarUt, ved Fiks IO forsendelser risikerer man at meldingen ikke blir håndtert eller avvist av mottaker. Man vil få melding om dette, men man må håndtere evt. retry eller sending via alternative kanaler selv.\nØkonomiske aspekter kan også spille inn her, Fiks IO meldinger koster vesentlig mindre pr. stykk enn SvarUt forsendelser.\nHvordan virker Fiks IO En Fiks organisasjon oppretter en Fiks IO konto. Andre kontoer kan nå sende til denne kontoen gjennom Fiks IOs REST api ved å spesifisere kontoens KontoId som mottaker. Organisasjonen får meldingene ved å etablere en AMQP kobling til io.fiks.ks.no.\nFiks IO tar i utgangspunktet ikke stilling til hva payloaden i meldingen består i. Metadataformat, filformat, kryptering og lignende er opp til brukeren, men Fiks plattformen tilbyr tjenester og verktøy for å etablere format for integrasjoner:\n Fiks-IO Kontokatalog: Gir mulighet for å registrere adresser bestående av organisasjonsnummer, sikkerhetsnivå, og hvilke meldingsprotokoller en gitt konto støtter. Andre kan så gjøre oppslag mot denne katalogen for å finne riktig konto å sende en melding til. Fiks-IO Protokollkatalog: Tilbyr en katalog over registrerte meldingsprotokoller. En protokoll er en oversikt over hvilke meldingstyper som inngår i en kommunikasjon, gjerne også med skjema som spesifiserer syntax for de enkelte typene. Fiks-IO java klient: Java klient som tilbyr funksjonalitet for å bygge, signere, kryptere, og sende meldinger som ASiC-E pakker, samt mottak og dekryptering på andre siden. Fiks-IO .net klient: .net core implementasjon av samme funksjonalitet som klienten over.  Sikkerhet Autentisering av klienter mot REST service for sending av meldinger og AMQP service for leveranse av meldinger skjer gjennom virksomhetssertifikat-basert maskinporten autentisering.\nI utgangspunktet legger ikke Fiks IO føringer på hvordan (eller om) en melding sendt over plattformen sikres, men alle klienter som utvikles av KS, og alle protokoller som Fiks spesifiserer, vil benytte signerte og krypterte meldinger gjennom ASIC-E containere. Denne standarden benyttes også av DIFI i forbindelse med integrasjonspunktet. I klientene skjer signering med samme sertifikat som blir benyttet for autentisering mot maskinporten, kryptering skjer med sertifikatet som mottaker har publisert i Fiks IO Kontokatalog.\nMerk at man for å oppnå reell ende-til-ende kryptering, i betydningen at KS ikke har noen mulighet til å lese den overførte meldingen, bør innhente mottakers sertifikater gjennom egne kanaler og selv verifisere disse. Fiks-IO tilbyr automatisk oppslag i katalogen som en tjeneste for å lette dette arbeidet, men man bør være klar over at det å benytte denne gir noe svekket sikkerhet.\nKontokatalogen For å sende en melding i Fiks IO må man kjenne konto-id\u0026rsquo;en til mottakeren, men for å støtte mer dynamisk bruk tilbys Fiks IO Kontokatalog. Dette er et register over Fiks IO kontoer og tilknyttede adresser. En adresse består av:\n Identifikator: Autoriserende identifikator for adressen. Dette vil i første omgang være begrenset til organisasjonsnummer, men kan senere utvides. For organisasjonsnummer benyttes Altinn for autorisering: personen som legger til adressen må ha rollen \u0026ldquo;post/arkiv\u0026rdquo; på den aktuelle organisasjonen. Protokoll: Spesifiserer hvilken protokoll adressen gjelder for. En protokoll vil som regel omfatte flere meldingstyper. Sikkerhetsnivå: Spesifiserer hvilket sikkerhetsnivå meldingen skal ha. Typisk benyttes nivå 3 for ikke sensitive og nivå 4 for sensitive meldinger.  Adresser opprettes og forvaltes gjennom Fiks Konfigrasjon. Katalogen gir også mulighet for å laste opp en offentlig nøkkel i form av et X509 sertifikat. Dette sertifikatet blir benyttet for å kryptere meldinger sendt til kontoen, slik at de kan dekrypteres med den private delen av nøkkelen ved mottak.\nFiks Organisasjoner kan gjøre oppslag i registrerte adresser gjennom katalog-api\u0026rsquo;et.\nMerk at bruk av dette api\u0026rsquo;et i stede for manuell innhenting av sertifikater kan gi noe redusert sikkerhet. Se \u0026ldquo;Sikkerhet\u0026rdquo; for detaljer.\nProtokollkatalogen Som nevnt over har Fiks IO i utgangspunktet ingen formening om hva innholdet i en melding er, men det er i mange integrasjon-scenarioer nyttig å ha et felles repository med kontrakter for hvordan meldinger skal bygges opp. Protokollkatalogen tilbyr en slik oversikt, og man kan her referere til spesifikasjoner for meldingstypene som inngår i protokollen, og hvordan disse skal benyttes.\nDigisos bruker som nevnt over meldingsprotokollen \u0026ldquo;no.nav.digisos.fagsystem.v1\u0026rdquo;, som er beskrevet i mer detalj under Fiks Digisos.\nTa kontakt med fiks@ks.no om du ønsker å etablere eller gjøre endringer i en protokoll.\nHåndtering av store filer Fiks IO støtter sending av store filer ved at alle meldinger større enn 5 megabyte mellomlagres i Fiks Dokumentlager, i en dedikert konto som opprettes sammen med Fiks IO kontoen. En referanse til denne lagrede filen blir så sendt over AMQP. Filer sendt på slik måte får en time-to-live i dokumentlager lik time-to-live for meldingen + 24 timer. Etter dette vil de automatisk slettes.\nHvis man benytter java eller .net klienten utviklet av KS vil denne mellomlagringen oppleves sømløst - klienten streamer automatisk filer fra dokumentlageret om dette er benyttet.\nKlienter For å gjøre integrasjon lettere vil KS utvikle klienter som benyttes for både sending og mottak av meldinger fra Fiks IO.\nKlientene er tilgjengelig i Java, og .net core. Andre språk vil vurderes, og vi vil gjerne høre fra deg om du skriver klienter for andre språk.\n"
},
{
	"uri": "/fiks-platform/tjenester/minside/",
	"title": "MinSide",
	"tags": [],
	"description": "",
	"content": " minside.kommune.no er en portal for de innbyggerrettede tjenestene på Fiks-plattformen.\nInnbyggere som navigerer til nettsiden blir autentisert via ID-porten og presentert for en oversikt som inkluderer et søkefelt og en rekke tjenester.\nSøkefeltet gir mulighet til å gjøre et fritekstsøk på informasjonen som minside.kommune.no tilbyr innbyggeren: eiendommer, post, byggesaker osv. Denne informasjonen er også tilgjengelig via den enkelte tjeneste.\nMin profil Oversikt over informasjonen minside.kommune.no har om innbyggeren. Hentes fra kontakt-og-reservasjonsregisteret med utgangspunkt i brukerens ID-Porten-autentisering.\nPost fra kommunen Lar innbyggeren søke i post som er sendt til innbyggeren via KS SvarUt. Søket er også tilgjenglig på forsiden. For at disse skal bli tilgjenglig må tjenesten aktiveres via Fiks-konfigurasjon.\nMine eiendommer Viser eiendommer innbyggeren eier, basert på data fra matrikkelen. Disse eiendommene er også søkbare fra forsiden.\n\u0026ldquo;Mine eiendommer\u0026rdquo; er basert på data som automatisk synkroniseres fra Kartverket for alle kommuner. Det er altså ikke nødvendig å aktivere denne tjenesten.\nSom standard kan innbyggeren følge en lenke til seeiendom.kartverket.no for å se detaljer om eiendommen, men her har kommunen mulighet til angi lenker til eget eiendomssystem, se Fiks Konfigurasjon: Matrikkel. Minside vil da vise disse lenkene for innbyggere som har eiendommer i din kommune.\nMine byggesaker Viser byggesaker innbyggeren/organisasjonen har tilgang til. Disse kan være eksponert for nåværende eier av eiendom, fødselsnummer eller organisasjonsnummer.\nMine byggesaker er avhengig av at byggesaksarkivet speiler metadata til Fiks Innsyn.\nNasjonale tjenester Oversikt over viktige nasjonale tjenester. Ta kontakt med fiks@ks.no hvis du har forslag til ytterligere tjenester som bør finnes her.\nSkatt og avgift Lenker til viktige tjenester innen skatt og avgift. Ta kontakt med fiks@ks.no hvis du har forslag til ytterligere tjenester som bør finnes her.\n"
},
{
	"uri": "/fiks-platform/sikkerhet/",
	"title": "Sikkerhet og personvern",
	"tags": [],
	"description": "",
	"content": " Denne siden gir en generell innføring i de grunnleggende prinsippene for sikkerhet og personvern på Fiks-plattformen. For full beskrivelse av styringsssystem og ROS-analyser for de spesifikke tjenestene, se sikkerhetsdokumentasjon på forvaltning.fiks.ks.no. Tilgang her er begrenset til personer som er administrator for en eller flere Fiks-organisasjoner.\nUnder beskrives generelle retningslinjer for hvordan vi har sikret applikasjonene, skulle noe avvike fra dette vil det være spesifisert i hver tjeneste.\nKryptering All kommunikasjon mellom Fiks-plattformen og integrasjoner/personer er kryptert med TLS. All data som lagres på disk er endten individuelt kryptert (for eksempel gjennom sikker lagring i Fiks Dokumentlager), eller lagres på krypterte filsystemer.\nAutentisering og autorisering Fiks-plattformen benytter ID-porten og Maskinporten fra Difi for autentisering av brukere. Spesifikke mekanismer for autentisering og autorisering avhenger av kontekst:\nPersoner Dette kan for eksempel være en innbygger som finner barnehagesøknaden sin i Fiks Innsyn.\nPersoner autentiseres ved hjelp av Open-Id Connect løsningen til ID-Porten. Dette vil si at de (om de ikke allerede er innlogget) dirigeres til ID-Porten for innlogging ved hjelp av for eksempel MinId eller BankId. ID-Porten og Fiks utveksler så informasjon for å bekrefte brukerens identitet og hvilket innloggingsnivå som er benyttet. Utgåtte innlogginger vil automatisk bli fornyet.\nDenne typen innlogging krever som regel ikke videre autorisering - en person har tilgang til informasjon og tjenester som er eksponert på det aktuelle fødselsnummeret.\nPersoner på vegne av organisasjon Når en person autentiserer seg på Fiks-plattformen (som beskrevet over) vil plattformen hente denne personens roller i næringslivet fra Altinn, og gi personen mulighet til å opptre på vegne av organisasjoner hvor han eventuelt måtte ha en rolle. Han vil så få tilgang til informasjon og tjenester som er eksponert på det aktuelle orgnummeret.\nOm det etterhvert kommer flere kilder for slike fullmakter (som for eksempel gir mulighet for å opptre på vegne av andre organisasjoner) vil Fiks-plattformen kunne støtte dette gjennom samme løsning.\nForvaltere Dette er personer som forvalter en tjeneste på Fiks-plattformen på vegne av en Fiks-organisasjon, for eksempel en kommuneansatt som konfigurerer Fiks Innsyn eller sender forsendelser gjennom SvarUt. Disse autentiseres gjennom ID-Porten OpenID-Connect på samme måte som andre personer, og autorisereres for hver enkelt tjeneste og funksjon basert på privilegier organisasjonen har tildelt personen gjennom Fiks-konfigurasjon.\nNår organisasjonen opprettes settes et personnummer som administrator. Dette er en \u0026ldquo;superbruker\u0026rdquo;, administrator-privilegiet gir alle tilganger på en kommune. En administrator kan lage andre administratorer, både på organisasjonsnivå og for de enkelte tjenestene. Han kan også tildele mer spesifikke privilegier, for eksempel ved å gi en person rett til å sende SvarUt forsendelser på vegne av en avdeling i kommunen. KS anbefaler at denne funksjonaliteten benyttes slik at ansatte ikke har tilganger utover det som er nødvendig for å utføre arbeidsoppgavene, og at tildelte privilegier følges opp, slik at endringer (person som bytter rolle, person som slutter i sin stilling) reflekteres i tildelte privilegier.\nTildeling av privilegier er underlagt audit-logging, se under for detaljer.\nIntegrasjoner De fleste tjenestene på Fiks-plattformen har mulighet for maskin-til-maskin integrasjon, for eksempel når et saksystem laster opp meldinger til Fiks Innsyn. Dette gjøres gjennom å opprette integrasjoner, som autentiseres ved hjelp av et virksomhetsertifikat-basert access token utstedt av ID-Porten i kombinasjon med integrasjonsid og passord generert av Fiks-konfigurasjon. Se [integrasjoner]/fiks-platform/integrasjoner/ for mer informasjon om oppsett av dette.\nIntegrasjoner autentiseres gjennom to mekanismer: for det første trenger man en kombinasjon av integrasjonId og passord som genereres via Fiks Konfigurasjon. For det andre benyttes et virksomhetssertifikat og ID-Porten for å bekrefter identiteten til virksomheten som drifter integrasjonen. Denne identiteten må sammsvare med orgnummer som er registrert som integrasjonseier i Fiks-konfigurasjon. Se \u0026ldquo;Integrasjoner\u0026rdquo; for en mer detaljert beskrivelse.\nAutorisering av integrasjoner gjøres på bakgrunn av privilegier tildelt i Fiks-konfigurasjon. Hver Fiks-organisasjon må eksplisitt si at en integrasjon skal ha tilgang til sine systemer, for eksempel ved å gi svarut integrasjonen tilgang til en kommunes Fiks Innsyn tjeneste.\nEn slik autorisasjon kan når som helst trekkes tilbake.\nAudit logging Selv om grunnprinsippet er at det bare er innbyggeren selv som har tilgang til sine data vil noen tjenester gjør data om en person tilgjengelig for andre, for eksempel når en kommuneansatt gjør ett oppslag mot et nasjonalt register. I slike tilfeller vil dette bli dokumentert i tjenstebeskrivelsen, autorisert eksplisitt i Fiks-konfigurasjon, og underlagt audit-logging, slik at det blir mulig å se hvem som har hatt tilgang til hvilke data når, og under hvilken lovhjemmel tilgangen ble oppnådd.\nDenne loggen vil, der det er nødvendig, gjøres tilgjengelig for administrator i Fiks-organisasjonen.\n"
},
{
	"uri": "/fiks-platform/tjenester_under_utvikling/",
	"title": "Tjenester under utvikling",
	"tags": [],
	"description": "",
	"content": " Roadmap for fremtidige tjenester på Fiks-plattformen. Tidsangivelse må tolkes som en indikasjon på når tjenesten kan være klar, endringer kan forekomme.\n2019 Q4 MinSide / Innsyn: Skjema Innsyn utvides med ny meldinstype for skjema, og innbyggeres innsendte skjema og kladder for gjøres tilgjengelig i egen webapp på minside.kommune.no. Utvikles som i sammarbeid med leverandører av søknadsmotorer og arkivsystem.\n2020 Q1 Motorvognregister oppslag Tjeneste for å slå opp opplysninger i motorvognregisteret\nFiks Folkeregister Folkeregistret sitt API for oppslag og hendelseslister blir tilgjengelig for maskin-til-maskin-integrasjon og som søketjeneste i web-portal. Vi kommer til å tilby selvbetjening for brukeradministrasjon, rollestyrt tilgangskontroll, dataminimering og sporing av søk.\n2020 Minside: Mine Eiendommer (fase 2) Utvidet matrikkel- og eiendomsinformasjon gjøres tilgjengelig på MinSide. Vil inkludere mulighet for å sende korrigeringer på evt. feilaktig informasjon.\nUnder utredning: Forvaltning: Audit Audit-logg for handlinger på Fiks plattformen gjøres tilgjengelig for kommunale tjeneste-administratorer. Det vil være mulig å se hvilke integrasjoner eller personer som har gjort hvilke handlinger, og når det er utført.\nForvaltning: Statistikk Statistikk og oversikt over hvordan en kommunes tjenester på MinSide og Fiks-plattformen benyttes. Antall besøkende, dataforbruk osv.\nMinside / Innsyn: Faktura Fakturaer fra kommunen gjøres tilgjengelig på gjennom egen webapp på minside.kommune.no.\nSvarUt: Støtte for hemmelig adresse Gjør det mulig å sende forsendelser til personer som bor på hemmelig adresse.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelsesservicev11/",
	"title": "ForsendelsesServiceV11",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nNytt i denne versjonen  EksponertFor: Gir tilgang til andre enn mottaker å laste ned filene. Feltet kunDigitalLevering er fjernet og erstattet med feltet leveringsmetode som er av type Leveringsmetode. Feltet er påkrevd og Leveringsmetode har tre verdier: STANDARD_SVARUT_LEVERANSE, KUN_DIGITAL_UTEN_LEVERANSEGARANTI og KUN_DIGITAL_UTEN_LEVERANSEGARANTI_MASSEUTSENDELSE SigneringsLogg returnerer nå dato og Signeringsstatus.  Tjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse ForsendelsesId Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   sendForsendelseMedId Forsendelse, ForsendelsesId ForsendelsesId Se sendForsendelse.   startNyForsendelse  ForsendelsesId Genererer forsendelsesid som brukes sammen med sendForsendelseMedId.   retrieveForsendelsesStatus ForsendelsesId ForsendelsesStatus Henter status for en forsendelse.   retrieveForsendelsesStatuser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;ForsendelsesStatus\u0026gt; Henter status for flere forsendelser.   retrieveForsendelsesHistorikk ForsendelsesId ForsendelsesHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveSigneringsHistorikk ForsendelsesId SigneringsHistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringsHistorikkForFlereForsendelser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;SigneringsHistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.   setForsendelseLestAvEksterntSystem LestAv  Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelsesTyper  Set\u0026lt;String\u0026gt; Henter alle forsendelsestyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr OrganisasjonsNummer List\u0026lt;MottakerForsendelsesTyper\u0026gt; Henter alle konfigurerte mottakersystem for orgnr.   retrieveForsendelsesIderByEksternRef String List\u0026lt;ForsendelsesId\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   retrieveDokumentMetadata ForsendelsesId List\u0026lt;DokumentMetadata\u0026gt; Henter liste med informasjon om dokumentene til en forsendelse.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV11?wsdl\nOperasjoner sendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.\nSendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nsendForsendelseMedId Samme som sendForsendelse, men avsender setter forsendelsesid. Id må være av type UUID. Se sendForsendelse.\nstartNyForsendelse Genererer forsendelsesid (UUID) som brukes sammen med sendForsendelseMedId.\nretrieveForsendelsesStatus Henter status for en forsendelse. Denne bør brukers når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nretrieveForsendelsesStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall.\nretrieveForsendelsesHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene om en forsendelse.\nretrieveSigneringsHistorikk Henter signeringshistorikk for en gitt forsendelse.\nretrieveSigneringsHistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser.\nsetForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\nretreiveForsendelsesTyper Henter alle forsendelsestyper som Svarinn-mottakersystem kan konfigureres til å bruke.\nretrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\nretrieveForsendelsesIderByEksternRef Henter liste med forsendelseider som har denne eksternRef.\nretrieveDokumentMetadata Henter liste med informasjon om dokumentene til en forsendelse.\nModeller ForsendelsesId    Felt Type Beskrivelse Validering     id UUID      Forsendelse    Felt Type Beskrivelse Validering     mottaker Adresse Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   avgivendeSystem String Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på svarut@ks.no. Obligatorisk felt.    tittel String Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   konteringsKode String Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. 1{0,20}$   leveringsmetode Leveringsmetode Dersom leveringsmetode er satt til en \u0026ldquo;kunDigital\u0026rdquo;-verdi blir leveransen kun forsøkt levert digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.    kryptert boolean Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. Den offentlige nøkkelen PROD, Den offentlige nøkkelen for TEST    utskriftsKonfigurasjon UtskriftsKonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint    krevNiva4Innlogging boolean Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.    metadataFraAvleverendeSystem NoarkMetadataFraAvleverendeSaksSystem Noark5 metadata fra avleverende system    metadataForImport NoarkMetadataForImport Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak.    svarSendesTil Adresse Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Utfylt adresse blir validert,se PostAdresse.    svarPaForsendelse ForsendelsesId Forsendelsesid til forsendelse dette er et svar på.    dokumenter List Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.    lenker List Rekkefølgen er samme som de vil komme i brevet. Kan være tom.    forsendelsesType String Fritekst felt for å kunne identifisere forsendelse type.    eksternReferanse String Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    svarPaForsendelseLink boolean Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.    signeringUtloper Date Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må angis ved signeringsforsendelser   signaturType SignaturType Velge mellom autentisert eller avansert signering. Må angis ved signeringsforsendelser   eksponertFor List Orgnr og fødselsnr i liste får også log å laste ned forsendelse filene.     LestAv    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     lestAvFodselsNummer String     navnPaEksterntSystem String     datoLest Date      OrganisasjonsNummer    Felt Type Beskrivelse Validering     id String      ForsendelsesStatus    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     sisteStatusEndring Date     status Status      Status    Verdi Beskrivelse     MOTTATT Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen.   AKSEPTERT Meldingen er validert og forsendelsesfil dannet.   KLAR_FOR_MOTTAK Venter på at forsendelse skal bli lastet ned av mottaker.   VARSLET Et varsel om forsendelsen er sendt til varslingstjenesten.   LEST En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker.   SENDT_PRINT Forsendelsen er blitt overført til printleverandør.   SENDT_DIGITALT Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print.   SENDT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse.   LEVERT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker.   PRINTET Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).   AVVIST Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes.   IKKE_LEVERT Kun digital leveranse hvor vi ikke har klart å levere forsendelsen.   MANUELT_HANDTERT Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.    ForsendelsesHistorikk    Felt Type Beskrivelse Validering     hendelsesLogger List\u0026lt;HendelsesLogg\u0026gt;      SigneringsHistorikk    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     logg List\u0026lt;SigneringsLogg\u0026gt;      MottakerForsendelsesTyper    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer     forsendelsesType String     mottakerSystem String     mottakerId String     niva Integer      DokumentMetadata    Felt Type Beskrivelse Validering     mimeType String     filnavn String     kanSigneres Boolean Bare en fil kan signeres og skal være av type PDF Validerer at maks ett dokument pr forsendelse har flagget slått på   sizeInBytes Long     sha256hash String     dokumentType String     nedlasningsUrl String     signeringsUrl String      HendelsesLogg    Felt Type Beskrivelse Validering     tidspunkt String     hendelse String      SigneringsLogg    Felt Type Beskrivelse Validering     tidspunkt Date     type Signeringsstatus     hendelse String      Adresse    Felt Type Beskrivelse Validering     postAdresse PostAdresse Adressen forsendelsen sendes til dersom den går via brevpost Kan ikke være null   digitalAdresse DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse     PostAdresse    Felt Type Beskrivelse Validering     navn String Navn på mottaker Må være utfylt   adresse1 String Adresselinje1    adresse2 String Adresselinje2    adresse3 String Adresselinje3    postSted String Poststed Må være utfylt, 4 tall for norske adresser, gjelder ikke ved kun digital forsendelse   postNummer String Postnummer    land String Land Må være utfylt, gjelder ikke ved kun digital forsendelse    DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse\nOrganisasjonDigitalAdresse    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer Må være utfylt for å kunne levere til altinn.     PersonDigitalAdresse    Felt Type Beskrivelse Validering     fodselsNummer String Må være utfylt for å kunne levere til altinn. Ved signeringsoppdrag må dette feltet være utfylt.    UtskriftsKonfigurasjon    Felt Type Beskrivelse Validering     utskriftMedFarger boolean     tosidig boolean      NoarkMetadataFraAvleverendeSaksSystem    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalAar Integer     journalSekvensNummer Integer     journalPostNummer Integer     journalPostType String     journalStatus String     journalDato Date     dokumentetsDato Date     tittel String     saksBehandler String     ekstraMetadata List\u0026lt;Entry\u0026gt;      NoarkMetadataForImport    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalPostType String     journalStatus String     dokumentetsDato Date     tittel String      Dokument    Felt Type Beskrivelse Validering     filnavn String Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller ) Disse tegnene er også ugyldige \u0026ldquo; \u0026lt; \u0026gt; ? * \u0026#124; : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows. Skiller ikke mellom store og små bokstaver i filnavnet.   mimeType String Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   skalSigneres Boolean Angir om dokumentet skal signeres Bare et dokument kan signeres og må være av type PDF   dokumentType String Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    data DataHandler Fildata    giroarkSider Set\u0026lt;\\Integer\u0026gt; Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    ekskluderesFraUtskrift Boolean Dette dokumentet blir ikke med i utskrift av forsendelsen. Brukes til filer som kun er interessant for digital levering. F.eks xml, video eller lyd filer     Lenke    Felt Type Beskrivelse Validering     urlLenke String Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   urlTekst String  Må være utfylt   ledeTekst String Teksten som kommer før lenken i brevet     SignaturType    Verdi Beskrivelse     AUTENTISERT_SIGNATUR    AVANSERT_SIGNATUR     Entry    Felt Type Beskrivelse Validering     key String     value String      Leveringsmetode    Verdi Beskrivelse     STANDARD_SVARUT_LEVERANSE Standard leveringsmetode og vil oppføre seg på samme måte som om feltet kunDigitalLevering var satt til usann   KUN_DIGITAL_UTEN_LEVERANSEGARANTI Vil avvise forsendelser til privatpersoner dersom KRR ikke finner vedkommende eller vedkommende har reservert seg   KUN_DIGITAL_UTEN_LEVERANSEGARANTI_MASSEUTSENDELSE Vil oppføre seg på samme måte som om feltet kunDigitalLevering var satt til sann    Signeringsstatus    Verdi Beskrivelse     AVVIST_AV_SVARUT    VENTER_SIGNERING    SIGNERT_AV_MOTTAKER    AVVIST_AV_MOTTAKER    UTLOPT      a-zA-Z0-9-.øæåØÆÅ [return]   "
},
{
	"uri": "/svarut/integrasjon/forsendelserestservicev1/",
	"title": "ForsendelseRestServiceV1",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nNytt i denne versjonen *Erstatter Soap servicen.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nbaseurl: /tjenester/api/forsendelse/v1\n   Url Method Innput Utdata Kort beskrivelse     /sendForsendelse POST Forsendelse ForsendelsesId Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   /startNyForsendelse POST  ForsendelsesId Genererer forsendelsesid som brukes sammen med sendForsendelseMedId.   /{id}/sendForsendelse POST Forsendelse, ForsendelsesId ForsendelsesId Se sendForsendelse.   /{id}/status GET ForsendelsesId ForsendelsesStatus Henter status for en forsendelse.   /{id}/dokuemntMetadata GET ForsendelsesId List\u0026lt;DokumentMetadata\u0026gt; Henter liste med informasjon om dokumentene til en forsendelse.   /{id}/historikk GET ForsendelsesId ForsendelsesHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   /{id}/signeringhistorikk GET ForsendelsesId SigneringsHistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   /{id}/settLest POST LestAv  Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   /statuser POST List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;ForsendelsesStatus\u0026gt; Henter status for flere forsendelser.   /forsendelseTyper GET  List\u0026lt;String\u0026gt; Henter alle forsendelsestyper som kan brukes i SvarInn.   /mottakersystem/{orgnr} GET OrganisasjonsNummer List\u0026lt;MottakerForsendelsesTyper\u0026gt; Henter alle konfigurerte mottakersystem for orgnr.   /eksternref/{eksternref} String List\u0026lt;ForsendelsesId\u0026gt; Henter liste med forsendelseider som har denne eksternRef.     Klientbibliotek laget i java finnes her: https://github.com/ks-no/svarut-rest-klient\nModeller Datamodellene for rest servicen, finne si json spec i java klient biblioteket: https://github.com/ks-no/svarut-rest-klient/tree/master/svarut-rest-klient/json Disse json spec filene kan brukes av alle. De blir løpende oppdatert om vi legge til nye felt, og de kan få bedre validering etter hvert, som vi oppdager mangler.\nVIKTIG! /sendForsendelse bør ha readtimeout på 16min. SvarUT har Timeout på 15min. SvarUt kan ta i mot ganske store filer, derfor er denne timeouten så høg.\n"
},
{
	"uri": "/",
	"title": "KS Fiks dokumentasjon",
	"tags": [],
	"description": "",
	"content": " KS Fiks dokumentasjon På disse sidene finner du dokumentasjon av Fiks-plattformen og SvarUt-tjenesten. SvarUt-tjenesten er fortsatt ikke flyttet over på Fiks-plattformen og kjører derfor som en selvstendig applikasjon med sin egen konfigurasjon og sikkerhetsløsning. Over tid vil også SvarUt migreres over på Fiks-plattformen.\nDokumentasjonen du finner her er rettet mot deg som skal administrere plattformen på vegne av en kommune eller annen organisasjon, eller utvikle integrasjoner mot api-ene Fiks tilbyr.\nBrukerdokumentasjon Brukerdokumentasjon finner en på https://svarut.wordpress.com\nFeil Hvis du finner feil eller noe som ikke er beskrevet godt nok, setter vi pris på om du sender en e-post til fiks-utvikling@ks.no eller lager en pull request på https://github.com/ks-no/ks-no.github.io.\nAbonner på dokumentasjonsendringer For å abonnere på endringer i dokumentasjonen kan du benytte vår RSS-feed.\nSlack Vi anbefaler også alle integrasjonsutviklere å benytte vår Slack-kanal for spørsmål og kommentarer vedrørende Fiks-plattformen, send en e-post til fiks-utvikling@ks.no for invitasjon.\n"
},
{
	"uri": "/fiks-platform/tjenester/fullmakt/",
	"title": "Fullmakt",
	"tags": [],
	"description": "",
	"content": " Tjenesten gjør det foreløpig mulig å hente fullmakter for organisasjoner, samt navn for autentisert bruker.\nEndepunkter (api-spec) For alle endepunktene hentes autentisert bruker fra access token i \u0026ldquo;Authorization\u0026rdquo;-headeren på requesten. Dette tokenet må være utstedt av ID-porten.\nMeg Forsøker å hente informasjon om autentisert bruker fra Altinn. Det eneste som hentes i dag er navn. Dersom personen ikke finnes returneres en respons med blankt navn.\nAlle Henter alle organisasjoner som autentisert bruker har rollen \u0026ldquo;Post/arkiv\u0026rdquo; eller \u0026ldquo;Kommunale tjenester\u0026rdquo; for i Altinn. Listen vil også inneholde en fullmakt for autentisert bruker, med navn satt dersom personen ekisterer i Altinn.\nAutoriser for organisasjon Sjekker om autentisert bruker har rollen \u0026ldquo;Post/arkiv\u0026rdquo; eller \u0026ldquo;Kommunale tjenester\u0026rdquo; i Altinn på organisasjonen med organisasjonsnummeret som sendes inn.\nOrganisasjonsnummer kan sendes inn som query parameter \u0026ldquo;orgno\u0026rdquo;, eller i HTTP-header med navn \u0026ldquo;OnBehalfOf\u0026rdquo;. Førstnevnte brukes dersom begge er satt.\n"
},
{
	"uri": "/fiks-platform/tjenester_under_utvikling/audit/",
	"title": "Audit",
	"tags": [],
	"description": "",
	"content": "STATUS: under utvikling\nFiks Audit er en tjeneste som logger alt av sikkerhetsrelaterte hendelser for alle Fiks sine tjenester. Hver enkelt loggførte hendelse vil inneholde nødvendig informasjon for å identifisere hvem som utførte handlingen, hva som ble gjort og hvilken tjeneste som ble brukt, samt tidspunkt og alternativ tilleggsinformasjon, som alt gjøres tilgjengelig for kommunen. Mer dokumentasjon kommer.\n"
},
{
	"uri": "/fiks-platform/tjenester/dokumentlager/",
	"title": "Dokumentlager",
	"tags": [],
	"description": "",
	"content": " Dokumentlager-tjenesten lar kommunen og andre Fiks-organisasjoner laste opp dokumenter. Ved opplasting autoriseres en eller flere personer og/eller organisasjoner for tilgang til dokumentet. Det er også mulig å laste opp dokumenter med en begrenset levetid, slik at det blir gjort utilgjengelig når denne tiden utløper.\nEn Fiks-organisasjon kan organisere sine dokumenter ved bruk av det som kalles kontoer. Alle dokumenter som lastes opp vil tilhøre en konto. Om man vil bruke en eller flere kontoer er helt opp til hver organisasjon. Kontoer administreres gjennom konfigurasjonsgrensesnittet, hvor man også finner statistikk for diskbruk, metadata for dokumenter, med mer.\nDokumentlageret vil bli benyttet av flere Fiks-tjenester: SvarUt, SvarInn, Digisos og Innsyn, men det kan også benyttes av en Fiks-organisasjons egne integrasjoner.\nDokumentlageret fungerer på følgende måte:\n En laster opp metadata om dokumentet. Her spesifiseres blant annet hvem dokumentet skal eksponeres for, dokumentets levetid, osv. En laster opp dokumentdata Dokumentet blir tilgjengelig for alle som er autorisert til å se det Dokumentet kan bli utilgjengeliggjort og slettet av en av grunnene spesifisert under  Det er tre forskjellige måter et dokument kan bli slettet på:\n Manuelt gjennom webgrensesnitt eller API Ved at dokumentets levetid utløper Dersom kontoen dokumentet hører til blir slettet  Når et dokument slettes vil metadata fortsette å eksistere, men selve dokumentet vil ikke lenger være tilgjengelig.\nKlienter For å gjøre det enklere å ta i bruk Dokumentlageret har KS utviklet en klient for opplasting og nedlasting. Denne støtter blant annet klient-side kryptering ved opplasting.\nPer i dag finnes denne klienten kun for Java, med en egen modul for konfigurering via Spring Boot. Kode og dokumentasjon finnes på GitHub: https://github.com/ks-no/fiks-dokumentlager-klient\nIntegrasjonsutvikling Alle operasjoner i dokumentlageret utføres på en konto, som er en ressurs som hører til dokumentlager-tjenesten til en Fiks-organisasjon. Hvordan disse organiseres er opp til hver organisasjon. Man kan ha én konto for alt, eller dele det opp over mange, slik at man for eksempel kan gi forskjellige tilganger for hver konto.\nDe vanlige autentiseringsreglene for Fiks-plattformen gjelder for denne tjenesten, men i tillegg må integrasjonen ha rett til å laste opp dokumenter på en dokumentlager konto. Disse tilgangene tildeles som vanlig gjennom konfigurasjonsgrensesnittet, men må gis på kontonivå. Dersom man har flere kontoer, men ønsker å gi en integrasjon tilgang til flere av disse må tilgang gis på hver enkelt konto.\nOpplasting Opplasting gjøres med en POST-request mot følgende URL:\n Test: https://api.fiks.test.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/ Prod: https://api.fiks.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/  Ved vellykket opplasting returneres et JSON objekt som inneholder ID for det opplastede dokumentet:\n{ \u0026#34;id\u0026#34;: \u0026#34;9dba7b9e-8fb8-4589-ae3e-740897852a6b\u0026#34; } URL for nedlasting ligger i Location-header på returnert 201 CREATED respons, eller her:\n Test  https://minside.fiks.test.ks.no/dokumentlager/nedlasting/{id} https://minside.fiks.test.ks.no/dokumentlager/nedlasting/niva4/{id} (Krever nivå 4 innlogging)  Prod  https://minside.kommune.no/dokumentlager/nedlasting/{id} https://minside.kommune.no/dokumentlager/nedlasting/niva4/{id} (Krever nivå 4 innlogging)   Metadata Metadata for dokumenter legges i multipart med navn metadata og defineres i JSON. Content-Type må på multiparten må settes til application/json. Et eksempel er vist under:\n{ \u0026#34;dokumentnavn\u0026#34;: \u0026#34;dokument.pdf\u0026#34;, \u0026#34;mimetype\u0026#34;: \u0026#34;application/pdf\u0026#34;, \u0026#34;ttl\u0026#34;: 86400, \u0026#34;sikkerhetsniva\u0026#34;: 3, \u0026#34;eksponertFor\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;PERSON\u0026#34;, \u0026#34;fnr\u0026#34;: \u0026#34;12345679810\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;INTEGRASJON\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;249e3fde-e3d8-435e-835f-16a432598c10\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;ORGANISASJON\u0026#34;, \u0026#34;orgnr\u0026#34;: \u0026#34;123456789\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;AUTORISASJON\u0026#34;, \u0026#34;privilegium\u0026#34;: \u0026#34;EN.TILGANG\u0026#34;, \u0026#34;ressurs\u0026#34;: \u0026#34;77e0d6b5-f2cd-4f54-80bb-723c598026da\u0026#34; } ] }  Dokumentnavn - Dokumentets navn, ved nedlasting gjennom en browser vil dette bli satt som default navn på filen som lagres på disk MIME type - Dokumenttype på gyldig MIME-format. Se https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types TTL - Hvor mange sekunder etter opplasting dokumentet skal være tilgjengelig. Ved utløp blir dokumentet utilgjengeliggjort og slettes. Sikkerhetsniva - Sikkerhetsnivå som skal kreves ved nedlasting av dokument. Ved nivå 4 kreves kryptering hos klient før opplasting. Se https://eid.difi.no/nb/sikkerhet-og-informasjonskapsler/ulike-sikkerhetsniva Eksponert for - Liste over aktører som skal ha tilgang til å laste ned dokumentet. Kan være følgende typer:  Person - Eksponeres for en persons fødselsnummer. En gyldig ID-porten innlogging for en person med dette fødselsnummeret vil ha lov til å laste ned dokumentet. Integrasjon - Eksponeres for en UUID som identifiserer en integrasjon. En klient innlogget med integrasjonsid, integrasjonspassord og virksomhetssertifikatet som er autentisert til å bruke integrasjonen vil ha lov til å laste ned dokumentet. Organisasjon - Eksponeres for et organisasjonsnummer. Personer med Post/arkiv- eller Kommunale tjenester-rollen i Altinn på dette organisasjonsnummeret vil ha lov til å laste ned dokumentet. Autorisasjon - Eksponeres for et \u0026ldquo;privilegium, ressurs\u0026rdquo;-par. Personer eller integrasjoner med gitt privilegium på gitt ressurs vil ha lov til å laste ned dokumentet.   Dokument Dokumentdata legges i multipart med navn dokument.\nDersom ikke kryptert query parameter er satt til true vil dokumentet krypteres av tjenesten før det lagres. Dersom man ønsker å laste opp dokumenter på nivå 4, eller bare ønsker ende-til-ende-kryptering ved opplasting, må dette flagget settes til true, og dokumentet må krypteres med dokumentlagerets public-key før opplasting. Uavhengig av hva man velger vil alle dokumenter være kryptert etter opplasting, og vil kun dekrypteres når en aktør som er autorisert til å laste ned dokumentet laster det ned.\nPublic-keyen kan hentes med en GET-request mot følgende endepunkt:\n Test: https://api.fiks.test.ks.no/dokumentlager/api/v1/public-key Prod: https://api.fiks.ks.no/dokumentlager/api/v1/public-key  Eksempel (cURL) curl -X POST https://api.fiks.test.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/ \\ -H \u0026#34;Authorization: Bearer \u0026lt;gyldig access token\u0026gt;\u0026#34; \\ -H \u0026#34;IntegrasjonId: \u0026lt;integrasjonsid\u0026gt;\u0026#34; \\ -H \u0026#34;IntegrasjonPassord: \u0026lt;integrasjonspassord\u0026gt;\u0026#34; \\ -F \u0026#34;metadata={\\\u0026#34;dokumentnavn\\\u0026#34;:\\\u0026#34;dokument.pdf\\\u0026#34;,\\\u0026#34;mimetype\\\u0026#34;:\\\u0026#34;application/pdf\\\u0026#34;,\\\u0026#34;ttl\\\u0026#34;:3600,\\\u0026#34;eksponertFor\\\u0026#34;:[{\\\u0026#34;type\\\u0026#34;:\\\u0026#34;PERSON\\\u0026#34;, \\\u0026#34;fnr\\\u0026#34;:\\\u0026#34;\u0026lt;fødselsnummer\u0026gt;\\\u0026#34;}],\\\u0026#34;sikkerhetsniva\\\u0026#34;:3};type=application/json\u0026#34; \\ -F \u0026#34;dokument=@dokument.pdf\u0026#34; Sletting Integrasjoner som er autorisert til å laste opp dokumenter har også lov til å slette.\nDette gjøres med en DELETE-request mot følgende URL:\n Test: https://api.fiks.test.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/{dokumentId} Prod: https://api.fiks.ks.no/dokumentlager/api/v1/{fiksOrganisasjonId}/kontoer/{kontoId}/dokumenter/{dokumentId}  "
},
{
	"uri": "/svarut/testmiljo/",
	"title": "SvarUt Testmiljø",
	"tags": [],
	"description": "",
	"content": " Vi ønsker ikke sensetive data i test miljøet.\nFor å lage integrasjoner mot SvarUt kan en teste mot vårt testmiljø. Testmiljøet har ingen garantier for oppetid, men vi prøver at det er tilgjengelig hele tiden. Test miljøet inneholder de siste endringene også endringer som ikke er produksjonsatt.\nTest miljøet er tilgjengelig på https://test.svarut.ks.no\nPrint I test kan en velge grafisk digital som print leverandør, ingen filer vil gå til grafisk digital de vil kun bli simulert sending til print. Vi anbefaler derfor å bruke Manuell print og fra det grensesnittet sette forsendelser til printet.\nAltinn Altinn går i test mot altinn sitt tt02 test miljø. https://tt02.altinn.no Her kan dere lese meldinger sendt til test brukere og test organisasjoner.\nDigital post Digipost/eBoks går i test mot Digipost og eBoks test miljø. Digipost: https://qaoffentlig.digipost.no/ eBoks: http://demo2-www.e-boks.no/default.aspx\nFor å sette at bruker skal bruke digital postkasse må dette gjøres i Kontakt og reservasjonsregisteret ver1: https://brukerprofil-ver1.difi.no/minprofil/\nMinid innlogging Alle testbrukere dere får fra oss har minid innlogging. Her anbefaler vi at dere setter tlfnr og epost slik at brukeren kan låses opp om noen skulle sperre den med feilede innloggingsforsøk.\nSvarinn For å teste svarinn må en registrere orgnr i mottakersystemet. De fleste av testbrukerene har tilgang til et orgnr. Orgnr finner dere ved å logge inn i altinn test. https://tt02.altinn.no . Orgnr du har tilgang til der kan legges inn i SvarInn konfigurasjonen.\nTilgang til SvarUt test Alle får tilgang til SvarUt test, send en mail til svarut-utvikling@ks.no så tildeler vi dere test oppsett. Har dere idporten testbrukere fra før send med fnr til disse. Hvis dere ikke har så får dere en av KS.\n"
},
{
	"uri": "/fiks-platform/testmiljo/",
	"title": "Testmiljø",
	"tags": [],
	"description": "",
	"content": " Fiks-plattformens testmiljø er tilgjengelig for kommuner,fylkeskommuner og leverandører som ønsker å teste konfigurasjon og integrasjoner. Miljøet er koblet til eksterne testmiljøer for integrerte komponenter: ID-Porten, Altinn og KS-SvarUt. Man kan dermed teste hele løpet, komplett med autentisering og autorisering.\nFiks test blir brukt til å verifisere endringer før de går i produksjon, og vil derfor ligge litt foran produksjon. Vi har ingen garantier på oppetid i test, men forsøker å holde eventuell nedetid så kort som mulig.\nMerk at testmiljøet ikke har de samme sikkerhetsgarantiene som produksjon - det er dermed viktig at man ikke benytter sensitive data under test.\nTilgang til testmiljøet Send e-post til fiks@ks.no for tilgang til testmiljøet. Send gjerne med eventuelle eksisterende testbrukere i ID-porten, slik at disse kan gjenbrukes for tilganger på Fiks-plattformen.\nHvor er testmiljøet? Minside kan nås på https://minside.fiks.test.ks.no, konfigurasjon finnes på https://forvaltning.fiks.test.ks.no. Benytt ID-porten testbruker for innlogging.\nSvarUt data for \u0026ldquo;Post fra kommunen\u0026rdquo; på Minside kommer fra SvarUts testmiljø. Aktiver avsendere i Fiks-konfigurasjonen for å indeksere meldinger.\nPersoninnlogging Alle testbrukere dere får fra oss har \u0026ldquo;Min Id\u0026rdquo;-innlogging i ID-Porten. Her anbefaler vi at dere setter telefonnummer og e-post slik at brukeren kan låses opp om noen skulle sperre den med feilede innloggingsforsøk.\nIntegrasjoninnlogging For å kunne teste integrasjoner mot Fiks-plattformen i test må organisasjonen ha en ID-porten-konto. For å få dette må en henvende seg til idporten@difi.no og sende med orgnr i fra testvirksomhetssertifikat.\nEtter at konto er registrert hos ID-porten kan integrasjonen opprettes og autoriseres i Fiks-konfigurasjon.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelsesservicev10/",
	"title": "ForsendelsesServiceV10",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nNytt i denne versjonen  Ny operasjon: retrieveDokumentMetadata. Denne er lagt inn for å kunne hente ut informasjon om bl.a. hvor dokumentet kan lastes ned og eventuelt lenke til signeringsoppdrag. Endret operasjon: setForsendelseLestAvEksterntSystem. Denne er oppdatert til å ta imot objekt av type LestAv. Endret operasjoner: retrieveForsendelsesStatus og retrieveForsendelsesStatuser, begge returnerer nå samme modell-objekt (ForsendelsesStatus). Sistnevnte operasjon har pakket resultatet i en liste. Forsendelsesid og organisasjonsnummer er kapslet inn i egne typer. Modell-objektet StatusResult heter nå ForsendelsesStatus. Gamle ForsendelseStatus heter nå Status og blir returnert som en del av ForsendelsesStatus. Modell-objektet Brevpost er ikke lenger i bruk og er fjernet. Modell-objektet PrintKonfigurasjon heter nå UtskriftsKonfigurasjon. Alle modell-objektene er oppdatert til å bruke camelCase på felt og attributter.  Tjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse ForsendelsesId Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   sendForsendelseMedId Forsendelse, ForsendelsesId ForsendelsesId Se sendForsendelse.   startNyForsendelse  ForsendelsesId Genererer forsendelsesid som brukes sammen med sendForsendelseMedId.   retrieveForsendelsesStatus ForsendelsesId ForsendelsesStatus Henter status for en forsendelse.   retrieveForsendelsesStatuser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;ForsendelsesStatus\u0026gt; Henter status for flere forsendelser.   retrieveForsendelsesHistorikk ForsendelsesId ForsendelsesHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveSigneringsHistorikk ForsendelsesId SigneringsHistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringsHistorikkForFlereForsendelser List\u0026lt;ForsendelsesId\u0026gt; List\u0026lt;SigneringsHistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.   setForsendelseLestAvEksterntSystem LestAv  Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelsesTyper  Set\u0026lt;String\u0026gt; Henter alle forsendelsestyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr OrganisasjonsNummer List\u0026lt;MottakerForsendelsesTyper\u0026gt; Henter alle konfigurerte mottakersystem for orgnr.   retrieveForsendelsesIderByEksternRef String List\u0026lt;ForsendelsesId\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   retrieveDokumentMetadata ForsendelsesId List\u0026lt;DokumentMetadata\u0026gt; Henter liste med informasjon om dokumentene til en forsendelse.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV10?wsdl\nOperasjoner sendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.\nSendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nsendForsendelseMedId Samme som sendForsendelse, men avsender setter forsendelsesid. Id må være av type UUID. Se sendForsendelse.\nstartNyForsendelse Genererer forsendelsesid (UUID) som brukes sammen med sendForsendelseMedId.\nretrieveForsendelsesStatus Henter status for en forsendelse. Denne bør brukers når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nretrieveForsendelsesStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall.\nretrieveForsendelsesHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene om en forsendelse.\nretrieveSigneringsHistorikk Henter signeringshistorikk for en gitt forsendelse.\nretrieveSigneringsHistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser.\nsetForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\nretreiveForsendelsesTyper Henter alle forsendelsestyper som Svarinn-mottakersystem kan konfigureres til å bruke.\nretrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\nretrieveForsendelsesIderByEksternRef Henter liste med forsendelseider som har denne eksternRef.\nretrieveDokumentMetadata Henter liste med informasjon om dokumentene til en forsendelse.\nModeller ForsendelsesId    Felt Type Beskrivelse Validering     id UUID      Forsendelse    Felt Type Beskrivelse Validering     mottaker Adresse Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   avgivendeSystem String Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på svarut@ks.no. Obligatorisk felt.    tittel String Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   konteringsKode String Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. 1{0,20}$   kunDigitalLevering boolean Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.    kryptert boolean Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. Den offentlige nøkkelen PROD, Den offentlige nøkkelen for TEST    utskriftsKonfigurasjon UtskriftsKonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint    krevNiva4Innlogging boolean Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.    metadataFraAvleverendeSystem NoarkMetadataFraAvleverendeSaksSystem Noark5 metadata fra avleverende system    metadataForImport NoarkMetadataForImport Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak.    svarSendesTil Adresse Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Utfylt adresse blir validert,se PostAdresse.    svarPaForsendelse ForsendelsesId Forsendelsesid til forsendelse dette er et svar på.    dokumenter List Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.    lenker List Rekkefølgen er samme som de vil komme i brevet. Kan være tom.    forsendelsesType String Fritekst felt for å kunne identifisere forsendelse type.    eksternReferanse String Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    svarPaForsendelseLink boolean Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.    signeringUtloper Date Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må angis ved signeringsforsendelser   signaturType SignaturType Velge mellom autentisert eller avansert signering. Må angis ved signeringsforsendelser    LestAv    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     lestAvFodselsNummer String     navnPaEksterntSystem String     datoLest Date      OrganisasjonsNummer    Felt Type Beskrivelse Validering     id String      ForsendelsesStatus    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     sisteStatusEndring Date     status Status      Status    Verdi Beskrivelse     MOTTATT Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen.   AKSEPTERT Meldingen er validert og forsendelsesfil dannet.   KLAR_FOR_MOTTAK Venter på at forsendelse skal bli lastet ned av mottaker.   VARSLET Et varsel om forsendelsen er sendt til varslingstjenesten.   LEST En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker.   SENDT_PRINT Forsendelsen er blitt overført til printleverandør.   SENDT_DIGITALT Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print.   SENDT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse.   LEVERT_SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker.   PRINTET Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).   AVVIST Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes.   IKKE_LEVERT Kun digital leveranse hvor vi ikke har klart å levere forsendelsen.   MANUELT_HANDTERT Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.    ForsendelsesHistorikk    Felt Type Beskrivelse Validering     hendelsesLogger List\u0026lt;HendelsesLogg\u0026gt;      SigneringsHistorikk    Felt Type Beskrivelse Validering     forsendelsesId ForsendelsesId     logg List\u0026lt;SigneringsLogg\u0026gt;      MottakerForsendelsesTyper    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer     forsendelsesType String     mottakerSystem String     mottakerId String     niva Integer      DokumentMetadata    Felt Type Beskrivelse Validering     mimeType String     filnavn String     kanSigneres Boolean Bare en fil kan signeres og skal være av type PDF Validerer at maks ett dokument pr forsendelse har flagget slått på   sizeInBytes Long     sha256hash String     dokumentType String     nedlasningsUrl String     signeringsUrl String      HendelsesLogg    Felt Type Beskrivelse Validering     tidspunkt String     hendelse String      SigneringsLogg    Felt Type Beskrivelse Validering     tidspunkt String     type String     hendelse String      Adresse    Felt Type Beskrivelse Validering     postAdresse PostAdresse Adressen forsendelsen sendes til dersom den går via brevpost Kan ikke være null   digitalAdresse DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse     PostAdresse    Felt Type Beskrivelse Validering     navn String Navn på mottaker Må være utfylt   adresse1 String Adresselinje1    adresse2 String Adresselinje2    adresse3 String Adresselinje3    postSted String Poststed Må være utfylt, 4 tall for norske adresser, gjelder ikke ved kun digital forsendelse   postNummer String Postnummer    land String Land Må være utfylt, gjelder ikke ved kun digital forsendelse    DigitalAdresse Se OrganisasjonDigitalAdresse og PersonDigitalAdresse\nOrganisasjonDigitalAdresse    Felt Type Beskrivelse Validering     organisasjonsNummer OrganisasjonsNummer Må være utfylt for å kunne levere til altinn.     PersonDigitalAdresse    Felt Type Beskrivelse Validering     fodselsNummer String Må være utfylt for å kunne levere til altinn. Ved signeringsoppdrag må dette feltet være utfylt.    UtskriftsKonfigurasjon    Felt Type Beskrivelse Validering     utskriftMedFarger boolean     tosidig boolean      NoarkMetadataFraAvleverendeSaksSystem    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalAar Integer     journalSekvensNummer Integer     journalPostNummer Integer     journalPostType String     journalStatus String     journalDato Date     dokumentetsDato Date     tittel String     saksBehandler String     ekstraMetadata List\u0026lt;Entry\u0026gt;      NoarkMetadataForImport    Felt Type Beskrivelse Validering     saksSekvensNummer Integer     saksAar Integer     journalPostType String     journalStatus String     dokumentetsDato Date     tittel String      Dokument    Felt Type Beskrivelse Validering     filnavn String Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller ) Disse tegnene er også ugyldige \u0026ldquo; \u0026lt; \u0026gt; ? * \u0026#124; : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows. Skiller ikke mellom store og små bokstaver i filnavnet.   mimeType String Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   skalSigneres Boolean Angir om dokumentet skal signeres Bare et dokument kan signeres og må være av type PDF   dokumentType String Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    data DataHandler Fildata    giroarkSider Set\u0026lt;\\Integer\u0026gt; Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    ekskluderesFraUtskrift Boolean Dette dokumentet blir ikke med i utskrift av forsendelsen. Brukes til filer som kun er interessant for digital levering. F.eks xml, video eller lyd filer     Lenke    Felt Type Beskrivelse Validering     urlLenke String Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   urlTekst String  Må være utfylt   ledeTekst String Teksten som kommer før lenken i brevet     SignaturType    Verdi Beskrivelse     AUTENTISERT_SIGNATUR    AVANSERT_SIGNATUR     Entry    Felt Type Beskrivelse Validering     key String     value String       a-zA-Z0-9-.øæåØÆÅ [return]   "
},
{
	"uri": "/svarut/endringer/",
	"title": "SvarUt endringer",
	"tags": [],
	"description": "",
	"content": " Her er en liste over de viktigste endringene i SvarUt, startet i 2015.\nListe over endringer i SvarUt.  27.05.2019  Fiker tittel mot SDP, for å unngå at sensetive titler kommer ut.  12.02.2019  Mottakersystem i rapport fil  17.12.2018  Forhåndsvisning av PDF er oppdatert og viser første side pr brev Støtte for å ha flere navn i poststed  26.11.2018  Oppdatert SDP til å vise generisk tittel  05.11.2018  Lagt ut ForsendelseServiceV11  01.10.2018  Oppdatert varslingsmelding (e-postvarsel)  28.09.2018  Validering av postnummer/poststed utføres ikke ved kun digital forsendelse  26.09.2018  PDF-import støtter splitting på ulikt antall sider  30.08.2018  Rapportuttrekket tar nå med felter for svar på forsendelse og ekstern referanse Endret maksimal størrelse på manuell opplastning til 350MB  02.08.2018  Endepunktet for importFeilet rapporeterer nå http status kode 4xx i stedet for 500 ved brukerfeil  21.06.2018  Lagt inn sjekker på at forsendelsesid er UUID og at det ikke finnes duplikater  18.05.2018  Lagt ut ForsendelseServiceV10, se ForsendelsesServiceV10.  03.05.2018  Fiks mottakerkonfigurasjon, viste feil data om en ikke hadde tilgang til alle mottaker med samme orgnr. Validerer om orgnr er utfylt ved signeringsoppdrag Viser ikke avviste forsendelser i innkommende. Egen loginside for edialog  09.04.2018  Mulighet for å sende sensetivdata som nivå4 via edialog Viser hash av filene vi har mottat i søket Sende tilgang gjør at en kan endre og lage maler i import pdf, manuell forsendelse.  22.03.2018  ForsendelseServiceV10 lagt ut for testing  14.03.2018  Støtte for å linke organisasjon i SvarUt til org i Fiks plattform  23.02.2018  Avviser fakturaforsendelser som skal printes med fakturaark på baksiden.  19.02.2018  Fix flette forsendelse som feilet når alle filene overskred 350mb. Grensen gjelder per forsendelse Signeringssvar har nå forsendelseType satt. Kan ikke signere etter at oppdrag er avvist.  13.02.2018  Fix ytelseproblem med mange filer i Send forsendelse.  01.02.2018  Giroark blir vist i søket.  03.01.2018  Kan ikke velge a-post og b-post lenger, faset ut av posten.  07.12.2017  La til størrelse på fil i SvarInn.  15.10.2017  Mulighet for å slå av ettersending i posten for organisasjoner som er varslet i altinn.  03.10.2017  Duplikatsjekk sjekker også alle adressefelt  20.09.2017  Lagt til dato på forsiden av edialog brev  01.09.2017  KunDigitaltLevert lagt inn i rapporter.  23.08.2017  Mottakersystem kan ikke ha samme navn Lenker følger med i SvarInn Sjekker orgnr mot difi før aktivering av SDP Signering lagt ut i produksjon  17.08.2017  Optimaliseringer for store rapporter i søk.  03.08.2017  Svarinn kan konfigureres med foresendelseType Fix rekkefølge på filer i zip fil. Denne var korrekt, men ved en tilfeldighet.  28.07.2017  Epost på avsender i edialog land ble ikke med i edialog  03.07.2017  Viser svarPåForsendelseLink i søket  06.06.2017  Send forsendelse, med KunDigital var også begrenset på 350mb, fjernet.  26.05.2017  Aktiverer varsel mail for edialog forsendelser som ikke er sendt.  19.05.2017  Signeringsløsningen går i produksjontest sms faktura grunnlag i sms rapport Send forsendelse med ny layout Tilgjengelig gjør pdf import for alle i send forsendelse  02.05.2017  Fix for sms rapport excel/csv dump, viser mer enn 20 linjer. Fix for sms søk viser flere treff Fix tlfliste excel dump, status ble feil ved to feiltyper.  27.04.2017  Edialog åpnet for flere formater, skal nå støtte alle arkiv formater.  21.04.2017  Excel opplasting på send forsendelse er begrenset til 5mb og import får kun kjøre i 1 min.  20.04.2017  Edialog framside har mistet postnr og poststed, fikset. Fikset manuell print varsel mail, deaktiverte avsendere fix. Fix for send forsendelse hvor filsjekk ikke ble korrekt alltid. Fikk avsendere uten fil, sjølv om fil var lastet opp.  06.04.2017  Fikset slik at deaktiverte avsendere ikke lager manuellprint varsel mail. Fjernet krav om postnr på utenlandsadresse.  31.03.2017  Sjekker orgnr mot difi ved aktivering av SDP. Avsenderid blir ikke sjekket, det er fortsatt mulig å legge inn ugyldig avsenderid som ikke er mottat fra difi. Legge til flere orgnr på mottakersystem fikset.  28.03.2017  Viser når tlf og epost er sist oppdatert i KRR register oppslag.  20.03.2017  Fix zip opplasting i send forsendelse. Siden zip ikke har encoding på filnavn i standarden. Handteringen er bedre nå slik at flere encodinger blir korrekt.  16.03.2017  Endret print pdf, skal nå ha med seg layers i print.  06.03.2017  Laget varselmail for manuellprint, blir nå varslet om det er eldre enn 7 dager siden printet sist.  03.03.2017  La til mulighet for å søke på tlfnr i sms rapport. La til sjekk for duplikate tlfnr i sms utsending, får ikke sende før duplikater er fjernet.  28.02.2017  Fix småfeil funnet i sms Leste forsendelser forsvinner nå fra manuellprint når de blir lest etter at forsendelsen er klar for print. Fikset feil i statestikk framside noen statuser ble ikke vist.  15.02.2017  Print kostnad forsvann fra excel/csv export etter nye loggfiler fra grafisk digtial, lagt inn igjen.  14.02.2017  Fjerner fnr fra edialog framside pdf Åpner sms utsending i produksjon Krever fakturakonfigurasjon utfylt når altinn blir valgt som kanal  31.01.2017  Fikset feil i send forsendelse hvor returadresse ble feil.  24.01.2017  Fikset feil hvor framsidetekst ble lagret som adresselinje 2 i konfigurasjonen  19.01.2017  Ny log melding fra grafisk digital, får nå tidspunkt for postlegging  11.01.2017  Fix for adresse henting i manuell forsendelse som kunne feil Mulighet for å ha flere varslings eposter i Mottakersystem Fiks for fakturafil til SDP, ble originalfil ikke den med grågiro.  19.12.2016  Fikset feil mimetype for excel fil i opplasting av mottakerliste fikset postnr som mangler i excel fil fikset orgnr som har mellomrom i excel fil  05.12.2016  Fjernet andrevarsel etter 24 timer i altinn. Dette resulterte ikke i flere leste forsendelser  11.11.2016  Kan legge til flere orgnr i samme operasjon i mottakersystem  21.10.2016  starter svarinn varsel mailer  20.10.2016  Noarkmetadata i excel/csv exporten under forsendelser  12.10.2016  fix import at mottakere i manuellforsendelse hvor postnr hadde leading zeros i excel fila.  15.09.2016  Mulighet for å hente status på eksternRef i forsendelse service Kunne markere svarinn forsendelse mottat i forsendelser søket i SvarUt Kutter sms tekst til SDP hvis den oversskred grensen på 160 tegn Endret from adresse i altinn varser til noreply@altinn.no  13.09.2016  Fikset zip fil opplasting manuell forsendelse  30.08.2016  Mulighet for å legge på orgnr på avsender som brukes som returadresse. Mottakere som svarer digitalt vil svare til dette orgnret. Fletteforsendelse i send forsendelse. Mulighet for å laste opp ei fil for hver mottaker. F.eks ved utsending av faktura.  27.06.2016  Kan sende svar på forsendelse url med forsendelser fra send forsendelse  20.06.2016  Endret max størrelse til 350mb for filer til print, og ubegrenset for kundDigitalForsendelse filer.  09.06.2016  Søk etter forsendelser for SvarInn lagt ut. Edialog er klar for test.  14.04.2016  Forsendelser med en side blir alltid simplex print, uansett hva avsender sender.  11.04.2016  Sender varslinger med original filer for nedlasting, en link per fil og mulighet for å laste ned alle i zip fil. SDP med sendMedDokumenter skrudd på, vil nå sende alle filene med, første fil som hoveddokument og resten som vedlegg.  22.03.2016  Fiks for lesefrist, etter endring til 40 timer tok den ikke høgde for arbeidsdager, no er det 40 timer på dager som er arbeidsdag. Ikke levert status for kunDigitale forsendelser hvor link til nedlasting ikke har vert mulig å levere.  16.03.2016  svarSendesTil brukes nå som avsender på postlagt brev også. Gjelder v5. Bedre feilmeldinger på v5 servicen.  14.03.2016  Endret antall timer vi venter på at forsendelse skal bli lest i altinn fra 48 timer til 40. Alle som har tilgang til forsendelser i svarut kan nå sette disse til Manuelt handtert. Dette betyr at SvarUt slutter å sende forsendelsene videre. De er fortsatt tilgjengelig.  25.02.2016  Fikset feil ved send forsendelse hvor noen fikk opp feilmelding om at pdfene overskred 250mb uten at de gjorde det.  08.02.2016  Ny epost mal for varslinger fra altinn.  01.02.2016  Fikset maler som bruker html i extra_text.  15.01.2016  Mulighet til å endre epost, sms og meldinger i altinn og sdp. Hver avsender kan nå skrive den teksten de vil. Det er viktig å teste disse endringene før de taes i bruk i produksjon. Spesielt digipost er veldig restriktive på hva de godtar i dokumentet.  12.01.2016  Når varsling feiler i SDP blir forsendelsen send til print, dette for at vi skal overholde forskriften om levering.  21.12.2015  Svar på forsendelse metadata lagt på ForsendelseServiceV5. Mulighet til å lage tråder basert på forsendelser.  17.12.2015  Fikset feil mot SDP, sdp takler kun 100tegn i tittel, vi kapper tittel hvis den er lenger.  15.12.2015  Send til SDP med dokumenter fungerer, det er begrensning på 10 mb og vi sender kun pdf filer. Andre filer godtar ikke sdp, og de avviser filer over 10mb. Det som ikke blir sendt til SDP blir send med link til filen i svarut.   07.12.2015  Statistikk på framsiden, blir nå oppdatert hver time.  25.11.2015  Fikset feil, der framgangsbaren i send forsendelse kunne stoppe.  20.11.2015  Sjekker at bilder i pdfer er lesbare.  19.11.2015  Registrerer hvem som bruker manuell print.  21.10.2015  Viser noark metadata i søkesiden om dette er sendt med forsendelsen. Endret søk etter mottaker, no må hele navnet treffe. søk på \u0026ldquo;truls normann\u0026rdquo; treffer på \u0026ldquo;Ola Truls Normann\u0026rdquo;.  12.10.2015  Fikset en feil der Send Forsendelse puttet filene i feil rekkefølge. No blir det rekkefølgen som står på siden. Laget mulighet for å hente status på flere forsendelser i et kall. La til nivå og hvilken postboks i sdp forsendelsen ble sendt til på rapporter. Fjernet advarsel tekst på SDP. SDP skal no være godt testet i produksjon. Alle forsendelser blir sjekket mot kontaktregisteret, reserverte blir nå sendt direkte til print og ikke til altinn.  10.08.2015  Tegnsett på melding i e-boks-grensesnitt skal være fikset  29.07.2015  Altinn sender nytt varsel etter 24 timer om meldingen ikke er åpnet.  24.07.2015  Mulighet til å sende nivå4 forsendelser med send forsendelse.  14.07.2015  Fikset import av xls fil for send forsendelse. Poststed ble land.  02.07.2015  Admin kan nå velge mellom å sende forsendelse til Altinn eller SDP  22.06.2015  Bedre håndtering av tilgangskontroll  18.06.2015  Fikset orgnr kom ikke med på organisasjons mottakere når de skulle sendes, via svarut websiden med send forsendelse.  17.06.2015  Fikset feil hvor personer med lesetilgang ikke fikk opp Forsendelser i menyen.  12.06.2015  Fikset problem med gamle avsendere som ikke kunne få fjernet person  11.06.2015  La til rettighet lese slik at en kan få tilgang til å lese forsendelseloggen. Fikset feil i giroark generering, kom på feil side ved dobbelsidig print. Print fikk digital ark.  05.06.2015  Fikset feil i mottaker ved opplasting av sertifikat. Fikset nedlasting av nivå4 dokument, hvis du allerede var innlogget med nivå3 i svarut. Fikset retry hvis oppslag i kontaktregisteret feilet.  29.05.2015  Fikset avsender advarsler om en har feil på avsender. Fikset ytelse for SDP, skal nå gå mye raskere å sende til SDP. Fikset feil ved lagring av print konfigurasjon uten gyldig fakturakonfigurasjon.  26.05.2015  Fikset manuell forsendelse til organisasjoner: Organisasjoner ble sendt direkte til print i manuell forsendelse.  19.05.2015  Fikset hent info for organisasjoner. Sluttet å fungere etter endringene i send forsendelse.  18.05.2015  Fikset excelmal for send forsendelse. Skal no ikke fjerne 0 i starten på fødselsnr. Default verdier for send forsendelse er tosidig og b-post, som blir billigste alternativ. Fikset feil ved at konfigurasjon ikke ble lagret før tittel var utfylt i send forsendelse.  13.05.2015  Send forsendelse kan no laste opp og ned mottakere i excel format. Det er testet med ca 100.000 mottakere, men fleire skal gå helt fint.  12.05.2015  Fikset feil dato på printlogger fra Grafisk Digital, 19:00 ble 07:00  07.04.2015  Feilfiks i konfigurasjonsgrensesnitt, tilganger til organisasjon fungerte ikke. Oppdatering av statistikk på forsiden (lest-statistikk skal være oppdatert og mer korrekt) Endret validering for konteringskoder: det er nå tillatt med punktum (.) og øæå i konteringskoder  01.04.2015  Første utkast til integrasjon mot SDP, er klar til produksjonstest fra SvarUt sin side. Oppgraderte kodeeksempel til v4 av servicen Generelle ytelse forbedringer, økte ytelsen mot Grafisk Digtal, den var litt treig når det ble sendt 80.000 forsendelser fra Bergen.  03.03.2015  Endret antall likelydende forsendelser før de blir avvist til 25 fra 5.  06.02.2015  Scrollbar på konfigurasjonssiden hvis en har mangen avsendere/organisasjoner. Økte timeout på søk til 30 sekund.  03.02.2015  Lagt til ekstra metadatafelt for avleverende sakssystem på forsendelsesservice versjon 3 og 4 HTTP Strict transport security lagt til  30.01.2015  Innførte validering av forsendelser som blir gjentatt. Hvis avsender, tittel og mottaker er like på 5 forsendelser innenfor 2 døgn, blir gjentagende forsendelser avvist. Det tar 2 døgn etter siste forsøk før vi slipper igjennom den samme kombinasjonen. Dette betyr at 5 forsendelser som er like blir kjørt igjennom, nummer 6++ blir avvist. En tidlig utgave av ForsendelsesServiceV4 er lagt ut for å begynne testing av nivå4 dokument.  16.01.2015  Innførte sterk kryptering av filene som er lagret på server. Originalfiler blir ikke lagret på server hvis det er unødvendig. For å begrense antall filer som må krypteres. Hvis filnavn har mapper, blir forsendelsen avvist (/ eller \\ i filnavn)   "
},
{
	"uri": "/svarut/edialog/",
	"title": "Edialog",
	"tags": [],
	"description": "",
	"content": " Sikker innsending av brev via SvarUt til mottakersystem i SvarUt. For å starte å bruke eDialog må du benytte SvarInn. eDialog kan aktiveres i konfigurasjonen for en avsender i SvarUt. Alle brev som blir send til eDialog mottakeren du konfigurerer vil bruke denne avsender for eventuelle kostnader tilknyttet forsendelsen.\neDialog åpen innsending eDialog er tilgjengelig på https://svarut.ks.no/edialog/ Her kan en velge mottaker blandt alle som er registrert i SvarUt.\neDialog med predefinert mottaker Hvis en vil linke til eDialog med ferdigutfylt mottaker kan en brukelinken https://svarut.ks.no/edialog/mottaker/\u0026lt;orgnr\u0026gt; Da vil det ikke være mulig å endre mottaker.\nSvare på forsendelse ved bruk av eDialog Hvis en benytter v6 eller nyere av forsendelseservicen i SvarUt kan en sende med en lenke til eDialog for å besvare forsendelsen. Denne linken vil da ha utfylt avsender, mottaker og tittel.\n En sender inn forsendelse med svarPaForsendelseLink = true, svarSendesTil utfylt med orgnr lik en edialogmottaker sitt orgnr. Avsender får en forsendelseid i retur. SvarUt sender vanlig varsel til SDP/Altinn med link for å kunne svare på forsendelsen. Innbygger/mottaker klikker på \u0026ldquo;svar på forsendelse\u0026rdquo; link i Altinn/SDP. Innbygger/mottaker fyller ut edialog skjema og trykker send. Edialog sender kvittering på innsendt skjema til Innbygger Edialog lager en ny forsendelse til avsender. Dette er utfylt med svarPaForsendelse lik forsendelseid til opprinnelig forsendelse. Sak/Arkivsystem mottar forsendelse via SvarInn og ser at dette er svar på utgående forsendelse og putter svaret på samme sak.  "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev1/",
	"title": "ForsendelseServiceV1",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV1. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nWSDL Tilgang For å benytte Web servicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, for sending til Altinn må orgnr/fødselsnr være utfylt.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Fodselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Filnavn er for intern bruk, må være unikt i en forsendelse. Mimetype på være application/pdf. Kun det som blir støttet nå. Total filstørrelse inntil 250MB er støttet.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev2/",
	"title": "ForsendelseServiceV2",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV2. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nWSDL Tilgang For å benytte Web servicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev3/",
	"title": "ForsendelseServiceV3",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV3\nWSDL Tilgang For å benytte Web servicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev4/",
	"title": "ForsendelseServiceV4",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV4\nWSDL Tilgang For å benytte webservicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev5/",
	"title": "ForsendelseServiceV5",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV5\nWSDL Tilgang For å benytte webservicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   DokumentType - heter forsendelseType i versjon 6 Fritekst felt for å kunne identifisere forsendelse type. Dette feltet blir ikke brukt til noe i dag, men vil bli søkbart og tilgengelig i SvarInn.    eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev6/",
	"title": "ForsendelseServiceV6",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV6?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   dokumentType - blir endret til forsendelseType i nyere versjoner Fritekst felt for å kunne identifisere forsendelse type. Dette feltet blir ikke brukt til noe i dag, men vil bli søkbart og tilgengelig i SvarInn.    eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon.    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev7/",
	"title": "ForsendelseServiceV7",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV7?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må dette feltet være av type PrivatPerson.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.  Ved signeringsoppdrag må feltet være satt til Organisasjon   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon. Ved signeringsoppdrag må organisasjonsnummer må være fylt ut.   signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev8/",
	"title": "ForsendelseServiceV8",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelseTyper  List\u0026lt;String\u0026gt; Henter alle forsendelseTyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr organisasjonsnr Liste med  orgnr,  forsendelseType,  nivå,  mottakersystem,  mottakersystemid Henter alle konfigurerte mottakersystem for orgnr    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV8?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   DokumentType Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil Addresse, full post adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut    PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    retrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\n  Felt Beskrivelse Validering     Organisasjonsnr Organisasjonsnr. Må være utfylt    Du vil få tilbake en liste med:, orgnr, forsendelseType, nivå, mottakersystem, og mottakersystemid. \n\nFelt\nBeskrivelse\n\n\n\n\nOrgnr\nOrganisasjonsnr.\n\n\nForsendelseType\nForsendelsetypen dette systemet vil motta for, hvis null eller tom vil den kunne motta alle forsendelseTyper.\n\n\nNivå\nHvilket forsendelsenivå dette mottakersystemet støtter.\n\n\nMottakersystem\nNavn på mottakersystem\n\n\nMottakersystemid\nId for å identifiserere mottakersystem\n\n\n\nretreiveForsendelseTyper Henter alle forsnedelseTyper som Svarinn mottakersystem kan konfigureres til å bruke.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev9/",
	"title": "ForsendelseServiceV9",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelseTyper  List\u0026lt;String\u0026gt; Henter alle forsendelseTyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr organisasjonsnr Liste med  orgnr,  forsendelseType,  nivå,  mottakersystem,  mottakersystemid Henter alle konfigurerte mottakersystem for orgnr   retrieveSigneringshistorikk forsendelsesid Signeringshistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringshistorikkForFlereForsendelser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;Signeringshistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV9?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen PROD](https://svarut.ks.no/forsendelse/publickey/hent), [Den offentlige nøkkelen for TEST](https://test.svarut.ks.no/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   DokumentType Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    EkskluderesFraPrint Dette dokumentet blir ikke med i print av forsendelsen. Brukes til filer som kun er interesange ved digital levering. F.eks xml, video eller lyd filer    Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil Addresse, full post adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut    PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    retrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\n  Felt Beskrivelse Validering     Organisasjonsnr Organisasjonsnr. Må være utfylt    Du vil få tilbake en liste med:, orgnr, forsendelseType, nivå, mottakersystem, og mottakersystemid. \n\nFelt\nBeskrivelse\n\n\n\n\nOrgnr\nOrganisasjonsnr.\n\n\nForsendelseType\nForsendelsetypen dette systemet vil motta for, hvis null eller tom vil den kunne motta alle forsendelseTyper.\n\n\nNivå\nHvilket forsendelsenivå dette mottakersystemet støtter.\n\n\nMottakersystem\nNavn på mottakersystem\n\n\nMottakersystemid\nId for å identifiserere mottakersystem\n\n\n\nretreiveForsendelseTyper Henter alle forsnedelseTyper som Svarinn mottakersystem kan konfigureres til å bruke.\nretrieveSigneringshistorikk Henter signeringshistorikk for en gitt forsendelse.\nInndata   Felt Type Beskrivelse Validering     forsendelseid String Identifikator som unikt identifiserer en forsendelse. Må være utfylt    Utdata   Felt Type Beskrivelse     forsendelseid String Identifikator som unikt identifiserer en forsendelse.   logg List\u0026lt;Signeringslogg\u0026gt;  Signeringslogg   Felt Type     tidspunkt String   type String   hendelse String   Liste med logg-elementer    retrieveSigneringshistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser. Returnerer liste med signeringshistorikk.\n"
},
{
	"uri": "/svarut/integrasjon/kodeeksempeldotnet/",
	"title": "Kodeeksempel .Net",
	"tags": [],
	"description": "",
	"content": " Kodeeksempel - .NET Last ned komplett kodeeksempel\nGenerelt  Bruk WCF til import av WSDL Sett authenticationScheme til Basic i config:  Bytt ut textMessageEncoding i config med mtomMessageEncoding:\n```\" data-lang=\"html```\"### Konfigurasjon (app.config) html\n  \u0026lt;?xml version=\u0026ldquo;1.0\u0026rdquo; encoding=\u0026ldquo;utf-8\u0026rdquo; ?\u0026gt;           \n ### Kall av tjenesten fra en testmetode.  html /// /// Dette eksemplet forutsetter at følgende er gjort: /// 1) Har opprettet bruker og service-passord for å kunne sende inn forsendelse til SvarUt /// [TestMethod] public void TestAtSendForsendelseReturnererId() { var forsendelsesService = new ForsendelsesService.ForsendelsesServiceV4Client();\n forsendelsesService.ClientCredentials.UserName.UserName = UserName; forsendelsesService.ClientCredentials.UserName.Password = Password; string tittel = \u0026quot;Dette er en ukryptert eksempelforsendelse fra .Net - \u0026quot; + Guid.NewGuid().ToString(); string id = forsendelsesService.sendForsendelse(ForsendelseUtil.CreateUkryptertForsendelse(tittel)); Assert.IsNotNull(\u0026quot;Id skal ikke være null. Forsendelse feilet.\u0026quot;, id); } /// \u0026lt;summary\u0026gt;/// Dette eksemplet forutsetter at følgende er gjort: /// 1) Har opprettet bruker og service-passord for å kunne sende inn forsendelse til SvarUt /// 3) Har lastet ned public key fra SvarUt og erstattet filen svarut_public.pem i resources mappen /// 4) Orgnr er registrert på mottaker i SvarUt ///\u0026lt;/summary\u0026gt;  [TestMethod] public void TestAtKryptertSendForsendelseReturnererId() { // NB: Dette er kun gjort for testing. ServicePointManager.ServerCertificateValidationCallback = (obj, certificate, chain, errors) =\u0026gt; true;\n // NB: Slå av Expect100Continue. Denne er pr default satt til true og kan føre til problemer. ServicePointManager.Expect100Continue = false; var forsendelsesService = new ForsendelsesService.ForsendelsesServiceV4Client(); forsendelsesService.ClientCredentials.UserName.UserName = UserName; forsendelsesService.ClientCredentials.UserName.Password = Password; string tittel = \u0026quot;Dette er en kryptert eksempelforsendelse fra .Net - \u0026quot; + Guid.NewGuid().ToString(); string id = forsendelsesService.sendForsendelse(ForsendelseUtil.CreateKryptertForsendelse(tittel)); Assert.IsNotNull(\u0026quot;Id skal ikke være null. Forsendelse feilet.\u0026quot;, id); }  namespace ForsendelseClientSample.Utils { class ForsendelseUtil { public static forsendelse CreateKryptertForsendelse(string tittel) { forsendelse forsendelse = new forsendelse {kryptert = true, tittel = tittel, krevNiva4Innlogging = false, avgivendeSystem = \u0026ldquo;Avgivende system .Net\u0026rdquo;}; forsendelse.dokumenter = new[] {CreateKryptertDokument()}; forsendelse.mottaker = CreatePrivatPerson(); forsendelse.printkonfigurasjon = CreatePrintkonfigurasjon(); return forsendelse; }\n public static forsendelse CreateUkryptertForsendelse(string tittel) { var testForsendelse = new forsendelse { kryptert = false, tittel = tittel, krevNiva4Innlogging = false, avgivendeSystem = \u0026quot;Avgivende system .Net\u0026quot;}; testForsendelse.mottaker = CreatePrivatPerson(); var dok = new dokument(); dok.filnavn = \u0026quot;small.pdf\u0026quot;; dok.mimetype = \u0026quot;application/pdf\u0026quot;; dok.data = ForsendelseClientSample.Properties.Resources.small_pdf; testForsendelse.dokumenter = new dokument[1] { dok }; testForsendelse.printkonfigurasjon = CreatePrintkonfigurasjon(); return testForsendelse; } public static forsendelse CreateUkryptertForsendelseForOrgnr(string tittel, string orgnr, byte[] dataBytes) { var testForsendelse = new forsendelse { kryptert = false, tittel = tittel, krevNiva4Innlogging = false, avgivendeSystem = \u0026quot;Avgivende system .Net\u0026quot; }; testForsendelse.mottaker = CreateOrganisasjon(orgnr); var dok = new dokument(); dok.filnavn = \u0026quot;small.pdf\u0026quot;; dok.mimetype = \u0026quot;application/pdf\u0026quot;; dok.data = dataBytes; testForsendelse.dokumenter = new dokument[1] { dok }; testForsendelse.printkonfigurasjon = CreatePrintkonfigurasjon(); return testForsendelse; } private static mottaker CreateOrganisasjon(string orgnr) { return new organisasjon { orgnr = orgnr, adresse1 = \u0026quot;Hakkebakkeskogen 111\u0026quot;, navn = \u0026quot;Bamsefar\u0026quot;, postnr = \u0026quot;5236\u0026quot;, poststed = \u0026quot;RÅDAL\u0026quot; }; } private static printkonfigurasjon CreatePrintkonfigurasjon() { return new printkonfigurasjon { brevtype = brevtype.APOST, brevtypeSpecified = true, fargePrint = false, tosidig = false }; } private static mottaker CreatePrivatPerson() { return new privatPerson { fodselsnr = \u0026quot;12345678910\u0026quot;, adresse1 = \u0026quot;Hakkebakkeskogen 111\u0026quot;, navn = \u0026quot;Bamsefar\u0026quot;, postnr = \u0026quot;5236\u0026quot;, poststed = \u0026quot;RÅDAL\u0026quot; }; } public static dokument CreateKryptertDokument() { dokument dok = new dokument(); dok.mimetype = \u0026quot;application/pdf\u0026quot;; dok.filnavn = \u0026quot;test.pdf\u0026quot;; X509Certificate sertifikat = HentX509Certificate(); KrypterDokumentMedSertifikat(dok, sertifikat); return dok; } private static void KrypterDokumentMedSertifikat(dokument dok, X509Certificate sertifikat) { byte[] ukryptertBytes = ForsendelseClientSample.Properties.Resources.small_pdf; byte[] kryptertData = CMSDataKryptering.KrypterData(ukryptertBytes, sertifikat); dok.data = kryptertData; } private static X509Certificate HentX509Certificate() { // svarut_public.pem må lastes ned og erstattes X509CertificateParser certParser = new X509CertificateParser(); X509Certificate certificate = certParser.ReadCertificate(ForsendelseClientSample.Properties.Resources.svarut_public); return certificate; } }  }\n```\n"
},
{
	"uri": "/svarut/integrasjon/kodeeksempeljava/",
	"title": "Kodeeksempel Java",
	"tags": [],
	"description": "",
	"content": " Kodeeksempel - Java Last ned komplett kodeeksempel\nDersom forsendelser skal krypteres, trenger du Unlimited Strength Jurisdiction files for Java (en Java Cryptography Extension). I tillegg trengs Den offentlige nøkkelen PROD, Den offentlige nøkkelen for TEST til SvarUt. Dersom forsendelser ikke skal krypteres trengs ikke Bouncy Castle-avhengighetene.\nMaven dependencies \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.cxf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cxf-rt-frontend-jaxws\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${cxf.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.cxf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cxf-rt-transports-http\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${cxf.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.commons\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-io\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.bouncycastle\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;bcpkix-jdk15on\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.50\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.bouncycastle\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;bcprov-jdk15on\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.50\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; Maven plugin \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.cxf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cxf-codegen-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${cxf.version}\u0026lt;/version\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id\u0026gt;generate-sources\u0026lt;/id\u0026gt; \u0026lt;phase\u0026gt;generate-sources\u0026lt;/phase\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;sourceRoot\u0026gt;${project.build.directory}/generated/cxf\u0026lt;/sourceRoot\u0026gt; \u0026lt;wsdlOptions\u0026gt; \u0026lt;wsdlOption\u0026gt; \u0026lt;wsdl\u0026gt;https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV4?wsdl\u0026lt;/wsdl\u0026gt; \u0026lt;/wsdlOption\u0026gt; \u0026lt;/wsdlOptions\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;goals\u0026gt; \u0026lt;goal\u0026gt;wsdl2java\u0026lt;/goal\u0026gt; \u0026lt;/goals\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-compiler-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;source\u0026gt;1.8\u0026lt;/source\u0026gt; \u0026lt;target\u0026gt;1.8\u0026lt;/target\u0026gt; \u0026lt;encoding\u0026gt;UTF-8\u0026lt;/encoding\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; Kall av tjenesten public class ForsendelseService { private final static String USERNAME = \u0026#34;brukernavn\u0026#34;; private final static String PASSORD = \u0026#34;passord\u0026#34;; private final static String SERVICE_URL = \u0026#34;https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV4\u0026#34;; private final static String PROPERTY_MTOM = \u0026#34;mtom-enabled\u0026#34;; public static ForsendelsesServiceV4 create() { Map \u0026lt;string,object\u0026gt;props = new HashMap\u0026lt;string, object=\u0026#34;\u0026#34;\u0026gt;(); props.put(\u0026#34;mtom-enabled\u0026#34;, Boolean.TRUE); JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean(); factory.setServiceClass(ForsendelsesServiceV4.class); factory.setAddress(SERVICE_URL); factory.setUsername(USERNAME); factory.setPassword(PASSORD); factory.setProperties(getProperties()); factory.getFeatures().add(new WSAddressingFeature()); ForsendelsesServiceV4 serviceV4 = (ForsendelsesServiceV4) factory.create(); Client proxy = ClientProxy.getClient(serviceV4); HTTPConduit conduit = (HTTPConduit) proxy.getConduit(); HTTPClientPolicy httpClientPolicy = new HTTPClientPolicy(); httpClientPolicy.setConnectionTimeout(120000); httpClientPolicy.setReceiveTimeout(120000); conduit.setClient(httpClientPolicy); return serviceV4; } private static Map \u0026lt;string, object=\u0026#34;\u0026#34;\u0026gt;getProperties() { Map \u0026lt;string,object\u0026gt;props = new HashMap\u0026lt;string, object=\u0026#34;\u0026#34;\u0026gt;(); props.put(PROPERTY_MTOM, Boolean.TRUE); return props; } } Eksempel public void sendEksempelUkryptertForsendelseV4() { ForsendelsesServiceV4 service = ForsendelseService.create(); Forsendelse forsendelse = ForsendelseBuilder.createUkryptert(); try { String forsendelsesid = service.sendForsendelse(forsendelse); System.out.println(forsendelsesid); assertNotNull(\u0026#34;SendForsendelse skal returnere forsendelsesid\u0026#34;, forsendelsesid); ForsendelseStatus status = service.retrieveForsendelseStatus(forsendelsesid); System.out.println(status); assertNotNull(\u0026#34;RetrieveForsendelseStatus skal returnere status\u0026#34;, status); } catch (Exception e) { System.out.println(e.getMessage()); } } public void sendEksempelKryptertForsendelseV4() { ForsendelsesServiceV4 service = ForsendelseService.create(); try { Forsendelse forsendelse = ForsendelseBuilder.createKryptert(); String forsendelsesid = service.sendForsendelse(forsendelse); System.out.println(forsendelsesid); assertNotNull(\u0026#34;SendForsendelse skal returnere forsendelsesid\u0026#34;, forsendelsesid); ForsendelseStatus status = service.retrieveForsendelseStatus(forsendelsesid); System.out.println(status); assertNotNull(\u0026#34;RetrieveForsendelseStatus skal returnere status\u0026#34;, status); } catch (Exception e) { System.out.println(e.getMessage()); } } public class ForsendelseBuilder { public static Forsendelse createUkryptert(){ Forsendelse forsendelse = new Forsendelse(); forsendelse.setTittel(\u0026#34;Tittel\u0026#34;); forsendelse.setAvgivendeSystem(\u0026#34;Avgivende system\u0026#34;); forsendelse.getDokumenter().add(createDokument()); forsendelse.setMottaker(createPrivatPerson()); forsendelse.setPrintkonfigurasjon(createPrintkonfigurasjon()); forsendelse.setKrevNiva4Innlogging(false); forsendelse.setKryptert(false); return forsendelse; } public static Forsendelse createKryptert() throws IOException, CertificateException { Forsendelse forsendelse = new Forsendelse(); forsendelse.setTittel(\u0026#34;Tittel\u0026#34;); forsendelse.setAvgivendeSystem(\u0026#34;Avgivende system\u0026#34;); forsendelse.getDokumenter().add(createKryptertDokument()); forsendelse.setMottaker(createPrivatPerson()); forsendelse.setPrintkonfigurasjon(createPrintkonfigurasjon()); forsendelse.setKrevNiva4Innlogging(false); forsendelse.setKryptert(true); return forsendelse; } private static Printkonfigurasjon createPrintkonfigurasjon() { Printkonfigurasjon printkonfigurasjon = new Printkonfigurasjon(); printkonfigurasjon.setBrevtype(Brevtype.APOST); return printkonfigurasjon; } private static PrivatPerson createPrivatPerson() { PrivatPerson privatPerson = new PrivatPerson(); privatPerson.setAdresse1(\u0026#34;Adresse1\u0026#34;); privatPerson.setNavn(\u0026#34;Navn\u0026#34;); privatPerson.setPostnr(\u0026#34;1234\u0026#34;); privatPerson.setPoststed(\u0026#34;Poststed\u0026#34;); privatPerson.setFodselsnr(\u0026#34;12345678901\u0026#34;); return privatPerson; } private static Dokument createDokument() { Dokument dokument = new Dokument(); dokument.setData(loadPdfFromClasspath(\u0026#34;test.pdf\u0026#34;)); dokument.setMimetype(\u0026#34;application/pdf\u0026#34;); dokument.setFilnavn(\u0026#34;test.pdf\u0026#34;); return dokument; } private static Dokument createKryptertDokument() throws IOException, CertificateException { Dokument dokument = new Dokument(); dokument.setMimetype(\u0026#34;application/pdf\u0026#34;); dokument.setFilnavn(\u0026#34;test.pdf\u0026#34;); X509Certificate sertifikat = hentX509Certificate(); krypterDokumentMedSertifikat(dokument, sertifikat); return dokument; } private static X509Certificate hentX509Certificate() throws IOException, CertificateException { byte[] sertifikatBytes = IOUtils.toByteArray(getInputStreamForFileFromClasspath(\u0026#34;svarut_public.pem\u0026#34;)); return (X509Certificate) CertificateFactory.getInstance(\u0026#34;X509\u0026#34;).generateCertificate(new ByteArrayInputStream(sertifikatBytes)); } private static void krypterDokumentMedSertifikat(Dokument dokument, X509Certificate sertifikat) throws IOException { CMSDataKryptering kryptering = new CMSDataKryptering(); byte[] kryptertData = kryptering.krypterData(IOUtils.toByteArray(getInputStreamForFileFromClasspath(\u0026#34;test.pdf\u0026#34;)), sertifikat); dokument.setData(new DataHandler(new ByteArrayDataSource(kryptertData, dokument.getMimetype()))); } private static DataHandler loadPdfFromClasspath(String resource){ URL url = Thread.currentThread().getContextClassLoader().getResource(resource); return new DataHandler(url); } public static InputStream getInputStreamForFileFromClasspath(String resource){ return Thread.currentThread().getContextClassLoader().getResourceAsStream(resource); } }"
},
{
	"uri": "/svarut/integrasjon/kodeeksempelmottakerrest/",
	"title": "Kodeeksempel MottaksserviceV1",
	"tags": [],
	"description": "",
	"content": " Last ned komplett kodeeksempel\nMaven dependencies \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.httpcomponents\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.3.5\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.httpcomponents\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;httpmime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.3.5\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.10\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; Maven plugin \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-compiler-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.5.1\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;source\u0026gt;1.7\u0026lt;/source\u0026gt; \u0026lt;target\u0026gt;1.7\u0026lt;/target\u0026gt; \u0026lt;encoding\u0026gt;UTF-8\u0026lt;/encoding\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; Kall av tjenesten public class TestMottakerService { public static String host = \u0026#34;https://svarut.ks.no\u0026#34;; public static String mottakerid = \u0026#34;AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\u0026#34;; public static String passord = \u0026#34;AAAAAAAAAAA^AAAAAAAA(BBBBBBBBBBBB.BBBBBBBBB\u0026#34;; public static String forsendelsesId = \u0026#34;BBBBBBB-BBBB-BBBB-BBBB-BBBBBBBBBBBB\u0026#34;; @Test public void testMottakerServiceHentNyeForsendelser(){ String urlHentNyeForsendelser = \u0026#34;/tjenester/svarinn/mottaker/hentNyeForsendelser\u0026#34;; HttpGet request1 = new HttpGet(host+urlHentNyeForsendelser); System.out.println(\u0026#34;Tester pendingForsendelser\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request1, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } @Test public void testMottakerServiceHentForsendelseFil(){ String urlForsendelseFiler = \u0026#34;/tjenester/svarinn/forsendelse/\u0026#34;+forsendelsesId; HttpGet request2 = new HttpGet(host+urlForsendelseFiler); System.out.println(\u0026#34;Tester getForsendelseFil\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request2, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } @Test public void testMottakerServiceKvitterMottak(){ String urlKvitterMottak = \u0026#34;/tjenester/svarinn/kvitterMottak/forsendelse/\u0026#34;+forsendelsesId; HttpPost request3 = new HttpPost(host+urlKvitterMottak); System.out.println(\u0026#34;Tester kvitterMottak\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request3, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } }`  Underliggende klient public static void executeHttpsRequest(HttpRequestBase request, String mottakerid, String passord){ DefaultHttpClient client = getDefaultClient(); CredentialsProvider credentialsProvider = new BasicCredentialsProvider(); credentialsProvider.setCredentials( AuthScope.ANY, new UsernamePasswordCredentials(mottakerid, passord)); client.setCredentialsProvider(credentialsProvider); try{ HttpResponse response = client.execute(request); byte[] responseBody = EntityUtils.toByteArray(response.getEntity()); if(response.getStatusLine().getStatusCode() != HttpStatus.SC_OK){ System.err.println(\u0026#34;HTTP kallet feilet med kode: \u0026#34; + response.getStatusLine()); } else { System.out.println(\u0026#34;HTTP kallet suksess med kode: \u0026#34; + response.getStatusLine()); System.out.println(\u0026#34;Respons har data av type \u0026#34;+response.getEntity().getContentType()); } System.out.println(\u0026#34;Respons meldingen er:\u0026#34;); System.out.println(new String(responseBody)); System.out.println(); } catch (ClientProtocolException e) { System.err.println(\u0026#34;Fatal protocol violation: \u0026#34; + e.getMessage()); e.printStackTrace(); } catch (IOException e) { System.err.println(\u0026#34;Fatal transport error: \u0026#34; + e.getMessage()); e.printStackTrace(); } finally { request.releaseConnection(); } }` "
},
{
	"uri": "/svarut/konfigurasjon-av-svarut/",
	"title": "Konfigurasjon av SvarUT",
	"tags": [],
	"description": "",
	"content": " Konfigurasjon av SvarUt Etter at det er signert avtale med KS om bruk av SvarUt oversendes en veiledning i konfigurasjon av tjenesten:\nKonfigurasjon av SvarUt\nInformasjon på nettstedet https://svarut.wordpress.com er i beregnet på kommuner og andre virksomheter som har tegnet avtale om bruk av SvarUt. Informasjon om tilgang finnes på https://svarut.ks.no/hjelp/.\n"
},
{
	"uri": "/svarut/integrasjon/mottaksservice-rest/",
	"title": "MottakService v1",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for Mottaksservice V1. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nBruk av SvarInn til GeoIntegrasjon eksempel kode ligger her: https://github.com/ks-no/svarut-sak-mottak\nTilgang Tjenesten bruker HTTP Basic autentication med brukernavn og generert service-passord. Mottakersystem opprettes av KS-SvarUt administrator og service-passordet genereres av person med tilgang via mottakersystem-siden. Dersom autentiseringen feiler returneres HTTP-status 401 Unauthorized, og ukjent URL gir HTTP-status 404. Detaljerte feilmeldinger følger også ved feil.\nTjenester Forsendelser er tilgjengelig for direkte import til sakssystem i uendelig tid. Dersom forsendelsene markeres som permanent import feil går forsendelsene videre i det normale løpet med varsling i Altinn og til slutt printing. Etter 2 timer vil det bli sendt varsel mail om manglende import 3 ganger om dagen.\nTjenestene er tilgjengelige via https://svarut.ks.no/tjenester/svarinn/\nhentNyeForsendelser (GET) https://svarut.ks.no/tjenester/svarinn/mottaker/hentNyeForsendelser\nHenter nye forsendelser for autentisert mottaker (basert på angitt mottaker). En vellykket forespørsel returnerer en liste av forsendelser (JSON). Dersom ingen forsendelser er tilgjengelig sendes en tom liste. Her følger et eksempel på en forsendelse.\n  [{ \"avsender\": { \"adresselinje1\": \"Første adresselinje\", \"adresselinje2\": \"Andre adresselinje\", \"adresselinje3\": \"Tredje adresselinje\", \"navn\": \"Tester testmann\", \"poststed\": \"Teststad\", \"postnr\": \"3333\" }, \"mottaker\": { \"adresse1\": \"Første adresselinje\", \"adresse2\": \"Andre adresselinje\", \"adresse3\": null, \"postnr\": \"5258\", \"poststed\": \"Blomsterdalen\", \"navn\": \"Orgnavn\", \"land\": \"Norge\", \"orgnr\": \"999888777\", //Eller fnr utfylt \"fnr\": \"22334455566\" }, \"id\": \"AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\", \"tittel\": \"En tittel\", \"date\": 1412668736853, //millis since epoch \"metadataFraAvleverendeSystem\": { \"sakssekvensnummer\": 0, \"saksaar\": 0, \"journalaar\": 0, \"journalsekvensnummer\": 0, \"journalpostnummer\": 0, \"journalposttype\": \"U\", \"journalstatus\": null, \"journaldato\": null, \"dokumentetsDato\": null, \"tittel\": null, \"saksBehandler\": null, \"ekstraMetadata\": [ { \"key\": null, \"value\": null } ] }, \"metadataForImport\": { \"sakssekvensnummer\": 0, \"saksaar\": 0, \"journalposttype\": null, \"journalstatus\": \"I\", \"dokumentetsDato\": \"2014-10-21T09:30:13.310+02:00\", //ISO 8601 \"tittel\": null }, \"status\": \"Akseptert\", \"niva\": \"3\", \"filmetadata\": [ { \"filnavn\": \"dokument-d1c6d795.pdf\", \"mimetype\": \"application/pdf\", \"sha256hash\": \"caaa6a09e4b5ad571c596dd31fb93689d402834a1b92ff660abeb59c534c088e\", \"dokumentType\": null, \"size\": 234563 # 0 hvis ukjent ellers størrelse i bytes. } ], \"svarSendesTil\": { \"adresse1\": \"Første adresselinje\", \"adresse2\": \"Andre adresselinje\", \"adresse3\": null, \"postnr\": \"5258\", \"poststed\": \"Blomsterdalen\", \"navn\": \"Orgnavn\", \"land\": \"Norge\", \"orgnr\": \"999888777\", //Eller fnr utfylt \"fnr\": \"22334455566\" }, \"svarPaForsendelse\": \"BBBBBB-BBBB-CCCC-BBBB-BBBBBBBBBB\", \"forsendelseType\": \"forsendelseType sett av avsender(heter dokumentType i v5 av servicen)\", \"eksternRef\": \"en ref fra avsender\", \"downloadUrl\": \"https://svarut.ks.no/tjenester/svarinn/forsendelse/AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\" }]  Hvis du får en zip fil i downloadUrlen, inneholder filmetadata mimetype på filene inne i zip fila.  hentForsendelsefil (GET) URL for å hente forsendelser er oppgitt i downloadUrl-feltet i JSON-resultatet fra hentNyeForsendelser.\nHenter filen for en gitt forsendelse. Kun én fil returneres. Hvis forsendelsen består flere filer er de enten pakket i en samlet PDF eller en .zip fil. Husk at filene kan være store, vi anbefaler å bruke en stream for mottak. MIME-type og filnavn står i headeren. Filen er kryptert med den offentlige nøkkelen til mottakersystemet og må dekrypteres etter nedlasting.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    settForsendelseMottatt (POST) https://svarut.ks.no/tjenester/svarinn/kvitterMottak/forsendelse/{forsendelseid}\nEtter mottatt forsendelse kvitteres den ut fra importtjenesten. Forsendelsesstatus endres til lest slik at varsel ikke sendes til Altinn. Forsendelsen blir heller ikke sendt til print siden den er mottatt.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    settForsendelseMottakFeilet (POST) https://svarut.ks.no/tjenester/svarinn/mottakFeilet/forsendelse/{forsendelseid}\nHvis mottak av forsendelse feilet, kan dette meldes tilbake til SvarUt. Dette vil da framkomme i loggen til avsender.\n   Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   feilmelding Tekst som sier hva som er feil. Må være utfylt   permanent Kan være permanent eller middlertidig. Hvis feilen er ikke mulig å fikse kan den markeres som permanent. Feilen som er markert permanent blir sent via annen kanal.Hvis forsendelsen er kun Digital og markert som permanentfeil vil den velge annen kanal og ikke blir varslet hvis forsendelsen ikke blir hentet. Normal varselmail for ikke hentede forsendelser via SvarInn blir ikke sendt. Må være utfylt    Json body:  { \u0026ldquo;feilmelding\u0026rdquo;:\u0026ldquo;En god feilmelding som mennesker kan lese\u0026rdquo;, \u0026ldquo;permanent\u0026rdquo;:true }  Permanent true vil si at mottaker aldri vil kunne klare å hente denne forsendelsen, den vil da gå videre og prøvd å levert via andre kanaler.\n"
},
{
	"uri": "/svarut/signeringstjeneste/",
	"title": "Signeringstjeneste",
	"tags": [],
	"description": "",
	"content": " Aktivering Avtale om bruk av signeringstjenesten må gjøres med Difi og forutsetter at dere allerede har avtale om SDP. Når avtalene er inngått må dere aktivere tjenesten inne på konfigurasjon under SDP-fanen.\n\nAPI Bruker operasjonen sendForsendelse, i ForsendelseServiceV7 eller senere.\nFølgende eksisterende felter må fylles ut:\n /sendForsendelse/forsendelse/krevNiva4Innlogging - Angir hvilket nivå som skal brukes på signeringen /sendForsendelse/forsendelse/svarSendesTil[@Type=organisasjon]/orgnr - Organisasjonsnummer til enhenten som skal ha det signerte dokumentet i retur /sendForsendelse/forsendelse/mottaker[@Type=privatPerson]/fodselsnr - Fødselsnummer på mottaker av signeringsoppdraget  Følgende nye felter må også fylles ut:\n /sendForsendelse/forsendelse/signeringUtloper - Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. /sendForsendelse/forsendelse/signaturtype - Velge mellom autentisert eller avansert signering. /sendForsendelse/forsendelse/dokumenter/skalSigneres - Markere ett dokument som inngår i signeringsoppdraget  Via send forsendelse Brukergrensesnittet er oppdatert slik at man kan markere et dokument og angi utløpsdato.\n\nSekvensdiagrammer Fra fagsystem via Svarut til innbygger Innføringen av signeringsoppdrag gir ingen endringer i oppførsel utover validering. Varslig vil gå ut til Altinn eller SDP dersom innbygger ikke har reservert seg. Dersom innbygger ikke har åpnet Altinn innen lesefristen vil brev gå ut i posten.\nInnbygger kan signere elektronisk frem til gyldigheten på signeringsoppdraget utløper, selv om brevet er sendt i posten.\nFra innbygger via Digipost og Svarut til fagsystem Innbygger logger på Altinn/SDP og trykker på signeringslenken som er oppgitt i meldingen. Dette er en lenke til Svarut. Svarut vil validere og sjekke at det er et gyldig signeringsoppdrag.\nInnbygger får opp dokumentet og kan velge mellom å signere eller avvise. Dersom innbygger signerer opprettes det en ny forsendelse til det organisasjonsnummeret som er oppgitt i forsendelsen.\nDersom innbygger avviser oppdraget vil oppdraget ikke være mulig å signere på nytt. Dersom innbygger avbryter (lukker nettleser e.l.) er det likevel mulig å signere gitt at gyldigheten på signeringsoppdraget ikke er utløpt.\nOppdragsgiver vil bare få forsendelse i retur dersom mottaker signerer forsendelsen og kan sjekke status på om oppdraget er avvist.\n"
},
{
	"uri": "/svarut/forsendelser-og-sikkerhet/",
	"title": "Sikkerhet",
	"tags": [],
	"description": "",
	"content": " Generelt om forsendelser  Forsendelser kan, men må ikke, krypteres før de sendes inn til SvarUt Forsendelsesfiler lagres kryptert på SvarUt sine servere Forsendelsesfiler dekrypteres i det mottaker laster ned filen, med mindre det er e Forsendelser som lastes ned direkte til mottagende (svarinn) dekrypteres før de blir importert til sakssystemet, men overføres kryptert. Forsendelsesfiler som blir lastet ned av mottaker dekrypteres ellers i det de overføres til mottaker.  Forsendelser på nivå 4 Det er nå mulig å sende forsendelser som inneholder sensitive persondata via SvarUt (ikke gradert informasjon). Dette kan være brev som sendes fra sikker sone.\n En nivå 4-forsendelse må krypteres hos avgivende system før den sendes til SvarUt. Forsendelsen behandles på samme måte som alle andre forsendelser og forsendelsesfilen vil lagres kryptert på disk. Ingen andre enn mottaker har tilgang til forsendelsesfilen (heller ikke superadministratorer eller lokale administratorer hos avsender).  "
},
{
	"uri": "/svarut/svarinn-mottakservice/",
	"title": "SvarInn - Mottaksservice",
	"tags": [],
	"description": "",
	"content": " Mottaksservice gjør det mulig å laste ned og kvittere ut forsendelser før de varsles gjennom Altinn og sendes til eventuell printing.\nHva er Mottaksservice? Primært brukes Mottaksservice til å automatisere nedlasting og import av forsendelser direkte i sakssystemer. Fra en forsendelse er mottatt i SvarUt er den tilgjengelig for nedlasting via mottaksservicen. Dersom forsendelsen ikke blir lastet ned innen 2 timer vil mottakersystem få en advarsel mail.\nMottaksservice gir mulighet for å laste ned sensitive forsendelser. Dette betyr at mottaker må legge inn sitt offentlige sertifikat i SvarUt, og bruke sin private nøkkel til å dekryptere forsendelsesfilene som blir lastet ned. Alle forsendelser blir sendt på denne måten selv, uavhengig av om forsendelsen er nivå 3 eller 4.\nMottaksservicen består av 3 tjenester (se også detaljert beskrivelse):\n hentNyeForsendelser - Henter nye forsendelser som er klar for import. getForsendelsefil - Henter filen for en gitt forsendelse, enten som PDF eller zipfil. Filen vil være kryptert og må dekrypteres etter nedlasting. kvitterMottak - Kvitterer ut en gitt forsendelse. Forsendelsesstatus vil bli satt til lest. Dette stopper varsel til Altinn og senere printing.  Sakssystemer må klargjøres for bruk av mottaksservicen. SvarUt-teamet har laget en modul som kan brukes for noen leverandører, samt fungere som et eksempel på hva som er nødvendig for integrasjon med SvarUt. Denne modulen er tilgjengelig her.\nHvordan bruke Mottaksservice? Mottaksservicen konfigureres under menypunktet Mottakersystem. Her kan administrator opprette nye mottakersystem og gi personer tilgang til mottakersystemet. Deretter kan personene som har fått tilgang selv utføre resten av stegene. De første 3 stegene utføres kun én gang, steg 4 en gang som en test. De siste tre stegene bør settes opp som en regelmessig jobb som kjøres hvert 15. minutt.\n Opprett mottakersystem  En administrator oppretter et mottakersystem som skal ha tilgang til forsendelser. I dette steget legges det inn minst én person som har tilgang til dette mottakersystemet. Personen blir gitt tilgang basert på fødselsnummeret sitt.\n Legg til organisasjon  Personen som ble gitt tilgang i punktet over legger inn organisasjoner som mottakersystemet skal ha tilgang til. SvarUt sjekker om personen har tilgang til organisasjonsnummeret ved å spørre Altinn.\n Generer servicepassord  Personen genererer et servicepassord. Dette passordet brukes for å validere mottakersystemet mot automatisk importtjeneste. Dette gjøres via Mottakersystem-siden, under \u0026ldquo;Service\u0026rdquo; fanen for et mottakersystem. Mottakersystemet må bruke brukernavnet og servicepassordet for autentisering ved hver nedlasting.\n Registrér offentlig sertifikat  Personen må laste opp mottakersystemets offentlige sertifikat. Dette gjøres også via Mottakersystem-siden, under \u0026ldquo;Service\u0026rdquo; fanen for et mottakersystem. Den private nøkkelen brukes i mottakersystemet for å dekryptere forsendelsesfiler etter nedlasting (se her for et eksempel på integrasjon).\n Send forsendelse  Opprett minst en forsendelse til en organisasjon som personen har tilgang til.\n Hent nye forsendelser  Kall automatisk importtjeneste og oppgi brukernavn og servicepassord ved autentisering. Alle forsendelser mottakersystemet har tilgang til returneres som en liste. Merk at listen ikke inneholder selve filene, kun informasjon om forsendelsen.\n Hent forsendelsefil  Etter autentisering og nedlasting av forsendelser, oppgi forsendelseid til en forsendelse til importtjenesten. Dette kallet returnerer selve filen enten som zip-fil eller som PDF.\n Kvittér for mottak  Siste steg er å kvittere ut forsendelsen. Oppgi forsendelsesid til importtjenesten, og forsendelsen markeres som lest.\nForsendelsesflyt i SvarUt "
},
{
	"uri": "/svarut/svarut-svarinn-adressering/",
	"title": "SvarUt - SvarInn adressering",
	"tags": [],
	"description": "",
	"content": " Tidligere hadde vi kun orgnr-adressering på forsendelser. Nå har SvarUt fått støtte for ForsendelseType. ForsendelseType skal beskrive hvilken type forsendelse dette er. Det er KS som styrer hvilken typer en kan benytte til adressering, hvis det er ønskelig med ny type sendes ønske om dette til svarut@ks.no.\nMottakersystem kan nå filtrere på 3 felt, orgnr, forsendelseType og nivå. For å konfigurere to mottakersystem på samme orgnr, kan en derfor filtrere videre på forsendelseType.\nEksempel system som ikke kan motta nivå4 dokument konfigureres da med. - 999888777, Alle forsendelsetyper, 3\nDette systemet vil da kun motta nivå3 forsendelser, hvis kommunen har et annet system som kan motta nivå4 kan dette konfigureres slik: - 999888777, Alle forsendelsetyper, 4\nEksempel fagsystem og arkivsystem. Fagsystemet skal ha forsendelser av typen ks.byggesøknad, mens andre brev til kommunen skal i arkivsystemet. Arkivsystemet vil da konfigureres slik - 999777888, Alle forsendelsetyper, alle nivå\nFagsystemet - 999777888, ks.byggesøknad, alle nivå\nDa vil arkivsystemet få alt utenom ks.byggesøknad forsendelser som blir levert til fagsystemet.\nIntegrasjoner Sending SvarUt De som sender meldinger til SvarUt kan sette på forsendelseType.\nMottak SvarInn Trenger ikke gjør noen endringer, filtrering vil skje på SvarUt i konfigurasjonen, listen over forsendelser vil være de mottakersystemet skal motta.\n"
},
{
	"uri": "/_header/",
	"title": "",
	"tags": [],
	"description": "",
	"content": " "
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-platform/",
	"title": "Fiks-plattformen",
	"tags": [],
	"description": "Description",
	"content": " KS Fiks er en felles tjenesteplattform for norske kommuner og fylkeskommuner. Formålet med FIKS-plattformen er å hjelpe kommuner og fylkeskommuner med å digitalisere sine tjenester raskere, øke kvaliteten på tjenestene og digitalisere for lavere kostnader.\nPlattformen består av tre hoveddeler:\nminside.kommune.no Dette er hjemmet for innbyggerrettede tjenester på Fiks-plattformen. I dag tilbys i hovedsak én tjeneste: \u0026ldquo;Post fra din kommune\u0026rdquo;, drevet av søkemotoren Fiks Innsyn. Over tid vil Innsyn også innbefatte andre datatyper (faktura, saker, osv), og andre tjenester vil bli lagt til. Se \u0026ldquo;tjenester under utvikling\u0026rdquo; for å se hva som er på vei.\nforvaltning.fiks.ks.no Her finnes tjenester som retter seg mot kommuneansatte og andre som skal administrere eller bruke applikasjoner som Fiks tilbyr. Her finnes i dag Fiks Konfigurasjon, men andre tjenester vil raskt komme til.\napi.fiks.ks.no Dette er api-laget for Fiks-plattformen. Her finner du webservicer i form av REST-api-er som leverandører, kommuner og andre offentlige virksomheter kan bruke for å integrere mot tjenestene som tilbys på Fiks. Alle tjenester på plattformen er tilgjengelige her, også de som driver minside.kommune.no. Dette gjør at kommuner kan integrere maskin-til-maskin med disse hvis de ikke ønsker å bruke web-frontenden som KS har utviklet.\nApi-spesifikasjoner finner du lenket fra den enkelte tjeneste, se \u0026ldquo;tjenester\u0026rdquo; eller \u0026ldquo;tjenester under utvikling\u0026rdquo;.\n"
},
{
	"uri": "/svarut/integrasjon/",
	"title": "Integrasjon mot SvarUt",
	"tags": [],
	"description": "",
	"content": " For utsending av forsendelser via KS-SvarUt benyttes en SOAP basert web-service. Denne servicen mottar forsendelsen og relevante metadata, og besørger videre ekspedering via elektroniske meldingstjenester eller vanlig post.\nFor å sikre bakoverkompabilitet versjoneres servicen. Når grensesnittet endres deployes en ny versjon slik at eksisterende klienter selv kan velge når de ønsker å ta i bruk ny versjon. Se tabell under for hvilke versjoner som til enhver tid er støttet. Hver versjon dokumenteres separat. Deprecated bør ikke brukes i nye integrasjoner.\nKall mot SvarUt, timer ut hvis de tar mer enn 15 minutter. Derfor kan det være lurt å ha timeout på tilkoblingen som er lenger enn dette. Da får avsender ikke timeout uten at den er initiert av SvarUt. Ellers kan avsender risikere å ikke få forsendelseID på forsendelser som har gått ok.\n   Versjon WSDL Status Endringer     ForsendelseServiceV1 WSDL Deprecated NA   ForsendelseServiceV2 WSDL Deprecated Støtte for mottakeradresse ihht NOARK5 (inkl. Land)Ny metode for å hente historikk for en spesifikk forsendelseKun digital levering (dvs. dokumenter som ikke skal til print)Støtte for giroark i forsendelseNy metode for å sette status lest fra eksternt system   ForsendelseServiceV3 WSDL Deprecated Støtte for lenker i forsendelserStøtte for metadata til bruk i automatisk import service   ForsendelseServiceV4 WSDL Deprecated Støtte for krypterte forsendelserUtvidede metadata til bruk i automatisk import serviceStøtte forsendelser som krever nivå4-innlogging   ForsendelseServiceV5 WSDL Deprecated Kan fylle ut SvarSendesTil for å gi informasjon om hvem svar på forsendelsen skal sendes til. Dette blir brukt som avsenderadresse på postlagt brev også.Kan spesifisere om dette er et svar på en tidligere forsendelse.Lagt til dokumentType for å si hvilken type forsendelse dette er(blir renamet til forsendelseType i v7)Eksternref en id som kan brukes til å finne forsendelser   ForsendelseServiceV6 WSDL Deprecated Kan legge med svar på forsendelse link, slik at mottaker kan svare på forsendelsen.Søke opp forsendelseid basert på eksternref   ForsendelseServiceV7 WSDL Deprecated dokumentType heter nå forsendelsetypeStøtte for difi sin signeringstjeneste. Beskrivelse av Signeringstjeneste   ForsendelseServiceV8 WSDL Stabil dokumentType lagt til på hver fil. Denne er tilgjengelig i Svarinn. Kan hente liste med mottakersystem for et orgnrKan hente forsendelseTyper som kan brukes i SvarUt   ForsendelseServiceV9 WSDL Stabil Hente ut signeringshistorikk på en forsendelseDokument har fått ekskluderesFraPrint, da er ikke filen med i print av forsendelsen. Brukes typisk til filer som kun er interesange om forsendelsen lastes ned digitalt. Xml, lyd, video filer osv.   ForsendelsesServiceV10 WSDL Stabil  Ny operasjon: retrieveDokumentMetadata. Denne er lagt inn for å kunne hente ut informasjon om bl.a. hvor dokumentet kan lastes ned og eventuelt lenke til signeringsoppdrag. Endret operasjon: setForsendelseLestAvEksterntSystem. Denne er oppdatert til å ta imot objekt av type LestAv. Endret operasjoner: retrieveForsendelsesStatus og retrieveForsendelsesStatuser, begge returnerer nå samme modell-objekt (ForsendelsesStatus). Sistnevnte operasjon har pakket resultatet i en liste. Forsendelsesid og organisasjonsnummer er kapslet inn i egne typer. Modell-objektet StatusResult heter nå ForsendelsesStatus. Gamle ForsendelseStatus heter nå Status og blir returnert som en del av ForsendelsesStatus. Modell-objektet Brevpost er ikke lenger i bruk og er fjernet. Modell-objektet PrintKonfigurasjon heter nå UtskriftsKonfigurasjon. Alle modell-objektene er oppdatert til å bruke camelCase på felt og attributter.   ForsendelsesServiceV11 WSDL Under utvikling EksponertFor, kan gjør forsendelse tilgjengelig for andre enn mottaker. Brukes av edialog for å tilate innsender å laste ned filene.     Rest versjoner av forsendelseService Det kommer ikke ny funksjonalitet etter v11 av soap servicen. Nye endringer og features vil komme i Rest servicene. Når vi brekker json strukturen vil det komme ny versjon av servicen. Alle implementasjoner må takle json felt som ikke er spesifisert. Det vil komme nye felt og eksisterende ikke obligatoriske felt kan forsvinne.\n   Versjon Status Endringer     ForsendelsesRestServiceV1 Under utvikling Funksjonaliteten i V11 flyttet til http/json basert api.    Nedlasting av forsendelser direkte til sakssystem Sakssystemer kan kalle SvarUt for å laste ned forsendelser direkte ved å bruke enten en REST-tjeneste eller en SOAP web-service.\nFor å sikre bakoverkompabilitet versjoneres servicen. Når grensesnittet endres deployes en ny versjon slik at eksisterende klienter selv kan velge når de ønsker å ta i bruk ny versjon. Se tabell under for hvilke versjoner som til enhver tid er støttet. Hver versjon dokumenteres separat.\n   Dokumentasjon Status Endringer     MottaksService V1 REST Stabil NA    "
},
{
	"uri": "/svarut/",
	"title": "SvarUt",
	"tags": [],
	"description": "",
	"content": "Dokumentasjonen av SvarUt finnes på flere nettsteder:\n http://www.ks.no/svarut/ - åpen, generell informasjon https://svarut.wordpress.com - informasjon for kunder (kommuner, fylkeskommuner og andre virksomheter som har tegnet avtale med KS) https://svarut.ks.no - informasjon om tilgang til svarut.wordpress.com og lenker til andre nettsteder https://ks-no.github.io/svarut/ - denne dokumentasjonen, beregnet på utviklere og leverandører  "
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-platform/tjenester/",
	"title": "Tjenester",
	"tags": [],
	"description": "",
	"content": ""
}]
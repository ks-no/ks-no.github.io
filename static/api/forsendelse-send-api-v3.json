{
  "openapi": "3.0.1",
  "info": {
    "title": "KS SvarUt: Send forsendelse API - UNDER UTVIKLING, det vil fortsatt komme endringer",
    "description": "API for sending av forsendelser - UNDER UTVIKLING, det vil fortsatt komme endringer",
    "contact": {
      "name": "Fiks-brukerstøtte",
      "url": "https://ks-no.github.io/",
      "email": "fiks@ksdigital.no"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "v3"
  },
  "servers": [
    {
      "url": "https://test.svarut.ks.no/api",
      "description": "SvarUt testmiljø"
    },
    {
      "url": "https://svarut.ks.no/api",
      "description": "SvarUt produksjonsmiljø"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "SendForsendelse",
      "description": "API for sending av forsendelser"
    }
  ],
  "paths": {
    "/v3/kontoer/{kontoId}/forsendelser/person": {
      "post": {
        "tags": [
          "SendForsendelse"
        ],
        "summary": "Sender forsendelse til person fra oppgitt konto",
        "operationId": "sendTilPerson",
        "parameters": [
          {
            "name": "kontoId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "forsendelse": {
                    "$ref": "#/components/schemas/PersonForsendelse"
                  },
                  "dokumenter": {
                    "type": "array",
                    "description": "Forsendelsens dokumenter. Multipart 'name' ignoreres, og trenger derfor ikke å være 'dokumenter'. Må ha samme rekkefølge som dokument-metadata, dette valideres via 'filename' på part.",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returnerer et objekt som består av id til akseptert forsendelse",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendForsendelseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Feil",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/v3/kontoer/{kontoId}/forsendelser/organisasjon": {
      "post": {
        "tags": [
          "SendForsendelse"
        ],
        "summary": "Sender forsendelse til organisasjon fra oppgitt konto",
        "operationId": "sendTilOrganisasjon",
        "parameters": [
          {
            "name": "kontoId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "forsendelse": {
                    "$ref": "#/components/schemas/OrganisasjonForsendelse"
                  },
                  "dokumenter": {
                    "type": "array",
                    "description": "Forsendelsens dokumenter. Multipart 'name' ignoreres, og trenger derfor ikke å være 'dokumenter'. Må ha samme rekkefølge som dokument-metadata, dette valideres via filename på part.",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returnerer et objekt som består av id til akseptert forsendelse",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendForsendelseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Feil",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/v3/kontoer/{kontoId}/forsendelser/nhn": {
      "post": {
        "tags": [
          "SendForsendelse"
        ],
        "summary": "Sender forsendelse til mottaker i Norsk Helsenett fra oppgitt konto",
        "operationId": "sendTilNhn",
        "parameters": [
          {
            "name": "kontoId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "forsendelse": {
                    "$ref": "#/components/schemas/NhnForsendelse"
                  },
                  "dokument": {
                    "type": "string",
                    "format": "binary",
                    "description": "Vedlegg til forsendelsen. Multipart 'name' ignoreres, og trenger derfor ikke å være 'dokument'. 'filename' benyttes som filnavn."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returnerer et objekt som består av id til akseptert forsendelse",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendForsendelseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Feil",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/v3/kontoer/{kontoId}/forsendelser/print": {
      "post": {
        "tags": [
          "SendForsendelse"
        ],
        "summary": "Sender forsendelse som skal printes. Om kontoen det sendes fra er konfigurert til å bruke driftsleverandøren til KS Digital vil den automatisk printes og sendes i posten, ellers må den manuelt printes. Denne skal kun brukes for forsendelser som ikke kan sendes digitalt, og vil medføre økte kostnader.",
        "operationId": "sendTilPrint",
        "parameters": [
          {
            "name": "kontoId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "forsendelse": {
                    "$ref": "#/components/schemas/PrintForsendelse"
                  },
                  "dokumenter": {
                    "type": "array",
                    "description": "Forsendelsens dokumenter. Multipart 'name' ignoreres, og trenger derfor ikke å være 'dokumenter'. Må ha samme rekkefølge som dokument-metadata, dette valideres via filename på part.",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returnerer et objekt som består av id til akseptert forsendelse",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendForsendelseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Feil",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Mottaker": {
        "required": [
          "navn",
          "digitalId"
        ],
        "type": "object",
        "properties": {
          "navn": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Navn på person eller organisasjon."
          },
          "digitalId": {
            "type": "string",
            "minLength": 9,
            "maxLength": 11,
            "description": "Nødvendig for å sende forsendelsen digitalt. For person må det være et gyldig fødsels- eller d-nummer, for organisasjon må det være et gyldig organisasjonsnummer som finnes i Enhetsregisteret."
          },
          "adresse": {
            "$ref": "#/components/schemas/Adresse"
          }
        },
        "description": "Mottaker som skal motta forsendelsen. Krever fødselsnummer eller organisasjonsnummer og navn, for å sikre levering via post må også postadresse vere med."
      },
      "SvarSendesTil": {
        "required": [
          "navn",
          "adresse",
          "digitalId"
        ],
        "type": "object",
        "properties": {
          "navn": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Navn på organisasjon eller person som svaret skal sendes til."
          },
          "digitalId": {
            "type": "string",
            "minLength": 9,
            "maxLength": 11,
            "description": "Et gyldig organisasjonsnummer eller fødselsnummer som svar skal sendes til. Nødvendig for å sende forsendelsen digitalt. Må være et organisasjonsnummer om svarPaForsendelse-feltet på forsendelse er satt til true. "
          },
          "adresse": {
            "$ref": "#/components/schemas/Adresse"
          }
        },
        "description": "Dette er returadressen det skal sendes til dersom man ønsker å svare på forsendelsen.\nDenne vil overstyre adressen fra avsenderens forsidekonfigurasjon. Dersom forsendelsen sendes i posten, vil den stå som avsenderadresse på forsiden av brevet."
      },
      "Adresse": {
        "type": "object",
        "required": [
          "adresselinje1",
          "poststed"
        ],
        "properties": {
          "adresselinje1": {
            "type": "string",
            "minLength": 1,
            "maxLength": 70,
            "description": "Første adresselinje"
          },
          "adresselinje2": {
            "type": "string",
            "minLength": 1,
            "maxLength": 70,
            "description": "Andre adresselinje"
          },
          "adresselinje3": {
            "type": "string",
            "minLength": 1,
            "maxLength": 70,
            "description": "Tredje adresselinje"
          },
          "poststed": {
            "type": "string",
            "minLength": 1,
            "maxLength": 70,
            "description": "Poststed."
          },
          "postnummer": {
            "type": "string",
            "minLength": 1,
            "maxLength": 20,
            "description": "Postnummer."
          },
          "landkode": {
            "type": "string",
            "minLength": 2,
            "maxLength": 2,
            "pattern": "^[A-Z]{2}$",
            "description": "Landkode som skal følge standard ISO-3166-1 alpha2. Dersom denne ikke er satt, antas det at det er en norsk adresse."
          }
        },
        "description": "Adresse for å sikre levering av forsendelse via post."
      },
      "Postadresse": {
        "required": [
          "navn",
          "adresse"
        ],
        "type": "object",
        "properties": {
          "navn": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Navn på mottaker."
          },
          "adresse": {
            "$ref": "#/components/schemas/Adresse"
          }
        },
        "description": "Postadresse til mottaker. Krever navn og adresse."
      },
      "PersonForsendelse": {
        "description": "Metadata for forsendelsen og tilhørende dokumenter til privatperson.",
        "required": [
          "mottaker",
          "tittel"
        ],
        "type": "object",
        "properties": {
          "tittel": {
            "$ref": "#/components/schemas/tittel"
          },
          "mottaker": {
            "$ref": "#/components/schemas/Mottaker"
          },
          "eksponertFor": {
            "$ref": "#/components/schemas/eksponertFor"
          },
          "avgivendeSystem": {
            "$ref": "#/components/schemas/avgivendeSystem"
          },
          "avgivendeSystemAktor": {
            "$ref": "#/components/schemas/avgivendeSystemAktor"
          },
          "konteringskode": {
            "$ref": "#/components/schemas/konteringskode"
          },
          "kunDigitalLevering": {
            "$ref": "#/components/schemas/kunDigitalLevering"
          },
          "kryptert": {
            "$ref": "#/components/schemas/kryptert"
          },
          "utskriftskonfigurasjon": {
            "$ref": "#/components/schemas/Utskriftskonfigurasjon"
          },
          "sikkerhetsniva": {
            "$ref": "#/components/schemas/Sikkerhetsniva"
          },
          "svarSendesTil": {
            "$ref": "#/components/schemas/SvarSendesTil"
          },
          "svarPaForsendelseId": {
            "$ref": "#/components/schemas/svarPaForsendelseId"
          },
          "dokumenter": {
            "type": "array",
            "description": "Forsendelsens dokumenter. Innsendt rekkefølge overholdes i generert brev. Total filstørrelse på inntil 350 MB er støttet dersom forsendelsen skal kunne gå til print.",
            "items": {
              "required": [
                "filnavn",
                "mimeType"
              ],
              "type": "object",
              "properties": {
                "filnavn": {
                  "$ref": "#/components/schemas/filnavn"
                },
                "mimeType": {
                  "$ref": "#/components/schemas/mimeType"
                },
                "giroarkSide": {
                  "$ref": "#/components/schemas/giroarkSide"
                },
                "skalSigneres": {
                  "type": "boolean",
                  "description": "Angir om dette dokumentet skal signeres. Kun ett dokument kan signeres, og det må ha mimeType application/pdf.",
                  "default": false
                },
                "skalEkskluderesFraUtskrift": {
                  "$ref": "#/components/schemas/skalEkskluderesFraUtskrift"
                }
              }
            }
          },
          "lenker": {
            "$ref": "#/components/schemas/lenker"
          },
          "eksternReferanse": {
            "$ref": "#/components/schemas/eksternReferanse"
          },
          "kanSvarePaForsendelse": {
            "$ref": "#/components/schemas/kanSvarePaForsendelse"
          },
          "korrelasjonsid": {
            "$ref": "#/components/schemas/korrelasjonsid"
          },
          "signering": {
            "type": "object",
            "description": "Ekstra informasjon om signering dersom forsendelsen inneholder et dokument som skal signeres.",
            "required": [
              "signeringUtloper",
              "signaturType"
            ],
            "properties": {
              "signeringUtloper": {
                "type": "string",
                "description": "Tidspunktet for når signeringsoppdraget utløper. Må være minimum én dag frem i tid.",
                "format": "date-time"
              },
              "signaturType": {
                "type": "string",
                "description": "Hvilken type signatur som skal benyttes.",
                "enum": [
                  "AUTENTISERT_SIGNATUR",
                  "AVANSERT_SIGNATUR"
                ]
              }
            }
          }
        }
      },
      "PrintForsendelse": {
        "description": "Metadata for forsendelsen og tilhørende dokumenter som skal gå rett til print for å sendes via posten. Dette gjelder post til person der man ikke har fødsels- eller d-nummer, eller til organisasjoner der man ikke har organisasjonsnummer tilgjengelig.",
        "required": [
          "tittel",
          "mottaker"
        ],
        "type": "object",
        "properties": {
          "tittel": {
            "$ref": "#/components/schemas/tittel"
          },
          "mottaker": {
            "$ref": "#/components/schemas/Postadresse"
          },
          "avgivendeSystem": {
            "$ref": "#/components/schemas/avgivendeSystem"
          },
          "avgivendeSystemAktor": {
            "$ref": "#/components/schemas/avgivendeSystemAktor"
          },
          "konteringskode": {
            "$ref": "#/components/schemas/konteringskode"
          },
          "kryptert": {
            "$ref": "#/components/schemas/kryptert"
          },
          "utskriftskonfigurasjon": {
            "$ref": "#/components/schemas/Utskriftskonfigurasjon"
          },
          "svarSendesTil": {
            "$ref": "#/components/schemas/SvarSendesTil"
          },
          "svarPaForsendelseId": {
            "$ref": "#/components/schemas/svarPaForsendelseId"
          },
          "dokumenter": {
            "type": "array",
            "description": "Forsendelsens dokumenter. Innsendt rekkefølge overholdes i generert brev. Total filstørrelse må vere under 350 MB, og alle filer må vere PDF.",
            "items": {
              "required": [
                "filnavn",
                "mimeType"
              ],
              "type": "object",
              "properties": {
                "filnavn": {
                  "$ref": "#/components/schemas/filnavn"
                },
                "mimeType": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 50,
                  "description": "MIME type. Kun application/pdf godtas."
                },
                "giroarkSide": {
                  "$ref": "#/components/schemas/giroarkSide"
                }
              }
            }
          },
          "eksternReferanse": {
            "$ref": "#/components/schemas/eksternReferanse"
          },
          "korrelasjonsid": {
            "$ref": "#/components/schemas/korrelasjonsid"
          }
        }
      },
      "OrganisasjonForsendelse": {
        "description": "Metadata for forsendelsen og tilhørende dokumenter for forsendelse til en organisasjon.",
        "required": [
          "mottaker",
          "tittel"
        ],
        "type": "object",
        "properties": {
          "tittel": {
            "$ref": "#/components/schemas/tittel"
          },
          "mottaker": {
            "$ref": "#/components/schemas/Mottaker"
          },
          "eksponertFor": {
            "$ref": "#/components/schemas/eksponertFor"
          },
          "avgivendeSystem": {
            "$ref": "#/components/schemas/avgivendeSystem"
          },
          "avgivendeSystemAktor": {
            "$ref": "#/components/schemas/avgivendeSystemAktor"
          },
          "konteringskode": {
            "$ref": "#/components/schemas/konteringskode"
          },
          "kunDigitalLevering": {
            "$ref": "#/components/schemas/kunDigitalLevering"
          },
          "kryptert": {
            "$ref": "#/components/schemas/kryptert"
          },
          "utskriftskonfigurasjon": {
            "$ref": "#/components/schemas/Utskriftskonfigurasjon"
          },
          "sikkerhetsniva": {
            "$ref": "#/components/schemas/Sikkerhetsniva"
          },
          "metadataFraAvleverendeSystem": {
            "$ref": "#/components/schemas/NoarkMetadataFraAvleverendeSakssystem"
          },
          "metadataForImport": {
            "$ref": "#/components/schemas/NoarkMetadataForImport"
          },
          "svarSendesTil": {
            "$ref": "#/components/schemas/SvarSendesTil"
          },
          "svarPaForsendelseId": {
            "$ref": "#/components/schemas/svarPaForsendelseId"
          },
          "dokumenter": {
            "type": "array",
            "description": "Forsendelsens dokumenter. Innsendt rekkefølge overholdes i generert brev. Total filstørrelse inntil 350 MB er støttet dersom forsendelsen skal kunne gå til print.",
            "items": {
              "required": [
                "filnavn",
                "mimeType"
              ],
              "type": "object",
              "properties": {
                "filnavn": {
                  "$ref": "#/components/schemas/filnavn"
                },
                "mimeType": {
                  "$ref": "#/components/schemas/mimeType"
                },
                "dokumentType": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 100,
                  "description": "Fritekstfelt som kan brukes til å fortelle noe om dokumentets type. Kan brukes til Noark 4-dokumenttype."
                },
                "giroarkSide": {
                  "$ref": "#/components/schemas/giroarkSide"
                },
                "skalEkskluderesFraUtskrift": {
                  "$ref": "#/components/schemas/skalEkskluderesFraUtskrift"
                },
                "ekstraMetadata": {
                  "uniqueItems": true,
                  "type": "array",
                  "maxItems": 20,
                  "description": "Kan benyttes til andre data som avsender vil ha med i forsendelsen som er knyttet mot det enkelte dokument.",
                  "items": {
                    "$ref": "#/components/schemas/Metadata"
                  }
                },
                "inneholderPersonsensitivInformasjon": {
                  "type": "boolean",
                  "description": "Brukes for å gjøre mottaker oppmerksom på at dokumentet kan inneholde sensitiv informasjon.",
                  "default": false
                }
              }
            }
          },
          "lenker": {
            "$ref": "#/components/schemas/lenker"
          },
          "forsendelsestype": {
            "minLength": 1,
            "maxLength": 100,
            "type": "string",
            "description": "Oppgir hvilken type forsendelse dette er, og blir brukt til fordeling av forsendelser til forskjellige SvarInn mottakersystem. Denne må vere satt til en av de predefinerte forsendelsestypene som man finner som et valg på SvarInn mottakersystem."
          },
          "eksternReferanse": {
            "$ref": "#/components/schemas/eksternReferanse"
          },
          "korrelasjonsid": {
            "$ref": "#/components/schemas/korrelasjonsid"
          },
          "kanSvarePaForsendelse": {
            "$ref": "#/components/schemas/kanSvarePaForsendelse"
          },
          "taushetsbelagtPost": {
            "type": "boolean",
            "description": "Dersom denne settes til true vil forsendelsen, om den går til Altinn og mottaker er en organisasjon, sendes til tjenesten for taushetsbelagt post. Les mer om tilgangsstyring for taushetsbelagt post på https://minside.kommune.no/tbp.",
            "default": false
          }
        }
      },
      "NhnForsendelse": {
        "description": "Metadata for forsendelsen og tilhørende vedlegg for en forsendelse som skal sendes til helsepersonell eller helseforetak i Norsk Helsenett.",
        "required": [
          "tittel",
          "mottakertype",
          "avsenderKontakt",
          "pasient"
        ],
        "type": "object",
        "properties": {
          "tittel": {
            "minLength": 1,
            "maxLength": 200,
            "type": "string",
            "description": "Tittel på forsendelsen"
          },
          "beskrivelse": {
            "minLength": 1,
            "maxLength": 5000,
            "type": "string",
            "description": "Beskrivelse av innholdet i forsendelsen utover det som er oppgitt i tittel."
          },
          "mottakertype": {
            "enum": [
              "FASTLEGE",
              "HER_ID"
            ],
            "description": "Dersom type er FASTLEGE vil forsendelsen sendes til HER-id funnet ved oppslag i fastlegeregisteret på fødselsnummeret oppgitt i pasient-felt. Ved type HER_ID vil forsendelse sendes til oppgitt HER-id."
          },
          "mottakerHerId": {
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "description": "HER-id til mottaker. Påkrevd om mottakerType er satt til HER_ID."
          },
          "avsenderKontakt": {
            "required": [
              "fornavn",
              "etternavn",
              "telefonnummer"
            ],
            "type": "object",
            "properties": {
              "fornavn": {
                "minLength": 1,
                "maxLength": 30,
                "type": "string"
              },
              "mellomnavn": {
                "minLength": 1,
                "maxLength": 30,
                "type": "string"
              },
              "etternavn": {
                "minLength": 1,
                "maxLength": 30,
                "type": "string"
              },
              "telefonnummer": {
                "minLength": 1,
                "maxLength": 20,
                "type": "string",
                "description": "Telefonnummer til kontaktperson hos avsender."
              }
            },
            "description": "Informasjon om kontaktperson hos avsender"
          },
          "pasient": {
            "required": [
              "fodselsnummer",
              "fornavn",
              "etternavn"
            ],
            "type": "object",
            "properties": {
              "fodselsnummer": {
                "pattern": "^[0-9]{11}$",
                "type": "string"
              },
              "fornavn": {
                "minLength": 1,
                "maxLength": 30,
                "type": "string"
              },
              "mellomnavn": {
                "minLength": 1,
                "maxLength": 30,
                "type": "string"
              },
              "etternavn": {
                "minLength": 1,
                "maxLength": 30,
                "type": "string"
              }
            },
            "description": "Informasjon om hvilken pasient forsendelsen gjelder for"
          },
          "eksponertFor": {
            "$ref": "#/components/schemas/eksponertFor"
          },
          "avgivendeSystem": {
            "$ref": "#/components/schemas/avgivendeSystem"
          },
          "avgivendeSystemAktor": {
            "$ref": "#/components/schemas/avgivendeSystemAktor"
          },
          "konteringskode": {
            "$ref": "#/components/schemas/konteringskode"
          },
          "kunDigitalLevering": {
            "$ref": "#/components/schemas/kunDigitalLevering"
          },
          "kryptert": {
            "$ref": "#/components/schemas/kryptert"
          },
          "utskriftskonfigurasjon": {
            "$ref": "#/components/schemas/Utskriftskonfigurasjon"
          },
          "svarPaForsendelseId": {
            "$ref": "#/components/schemas/svarPaForsendelseId"
          },
          "eksternReferanse": {
            "$ref": "#/components/schemas/eksternReferanse"
          },
          "korrelasjonsid": {
            "$ref": "#/components/schemas/korrelasjonsid"
          }
        }
      },
      "Lenke": {
        "required": [
          "tekst",
          "url"
        ],
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "minLength": 1,
            "maxLength": 1000,
            "description": "Lenke til ressurs. Må være gyldig i henhold til RFC 2396 og RFC 2732."
          },
          "tekst": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Tekst for lenken."
          },
          "ledetekst": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Tekst som kommer før lenken i den digitale meldingen."
          }
        },
        "description": "Lenke som blir sendt med i meldinger til digitale postkasser dersom meldings-malen er konfigurert til dette. Innsendt rekkefølge overholdes."
      },
      "Metadata": {
        "required": [
          "key",
          "value"
        ],
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "value": {
            "type": "string",
            "minLength": 1,
            "maxLength": 500
          }
        },
        "description": "Kan benyttes til andre data som avsender vil ha med i forsendelsen."
      },
      "NoarkMetadataForImport": {
        "type": "object",
        "properties": {
          "mappeId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av mappen innenfor det arkivet mappen tilhører",
            "example": "fc051651-b853-4b4d-a7cd-fb2beea54356"
          },
          "mappeSystemId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av mappen innenfor det arkivskapende organet",
            "example": "fc051651-b853-4b4d-a7cd-fb2beea54356"
          },
          "saksaar": {
            "type": "integer",
            "pattern": "^[0-9]{4}$",
            "minimum": 1000,
            "description": "Viser året saksmappen ble opprettet",
            "format": "int32",
            "example": 2005
          },
          "sakssekvensnummer": {
            "type": "integer",
            "minimum": 1,
            "description": "Viser rekkefølgen når saksmappen ble opprettet innenfor året",
            "format": "int64",
            "example": 648677
          },
          "systemId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av journalposten innenfor det arkivskapende organet",
            "example": "7044a03d-c459-4cbe-a4c3-371cc6751215"
          },
          "registreringsId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av registreringen innenfor arkivet",
            "example": "5f9e9bc8-ffc1-40c0-8fdd-3b5ee32a2e43"
          },
          "journalpostnummer": {
            "type": "integer",
            "minimum": 1,
            "description": "Viser rekkefølgen på journalpostene innenfor saksmappen",
            "format": "int64",
            "example": 17
          },
          "journalaar": {
            "type": "integer",
            "pattern": "^[0-9]{4}$",
            "minimum": 1000,
            "description": "Viser året journalposten ble opprettet",
            "format": "int32",
            "example": 2024
          },
          "journalsekvensnummer": {
            "type": "integer",
            "minimum": 1,
            "description": "Viser rekkefølgen når journalposten ble opprettet under året",
            "format": "int64",
            "example": 23456
          },
          "journalposttype": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Navn på type journalpost"
          },
          "journalstatus": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Status til journalposten, dvs. om dokumentet er registrert, under behandling eller endelig arkivert"
          },
          "dokumentetsDato": {
            "type": "string",
            "description": "Dato som er påført selve dokumentet på ISO 8601-format",
            "format": "date-time",
            "example": "2024-01-16T18:39:11Z"
          },
          "tittel": {
            "type": "string",
            "minLength": 1,
            "maxLength": 1000,
            "description": "Tittel eller navn på arkivenheten",
            "example": "Gjennomføringsplan"
          }
        },
        "description": "Noark 5-metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak."
      },
      "NoarkMetadataFraAvleverendeSakssystem": {
        "type": "object",
        "properties": {
          "mappeId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av mappen innenfor det arkivet mappen tilhører",
            "example": "fc051651-b853-4b4d-a7cd-fb2beea54356"
          },
          "mappeSystemId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av mappen innenfor det arkivskapende organet",
            "example": "fc051651-b853-4b4d-a7cd-fb2beea54356"
          },
          "saksaar": {
            "type": "integer",
            "pattern": "^[0-9]{4}$",
            "minimum": 1000,
            "description": "Viser året saksmappen ble opprettet",
            "format": "int32",
            "example": 2005
          },
          "sakssekvensnummer": {
            "type": "integer",
            "minimum": 1,
            "description": "Viser rekkefølgen når saksmappen ble opprettet innenfor året",
            "format": "int64",
            "example": 648677
          },
          "systemId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av journalposten innenfor det arkivskapende organet",
            "example": "7044a03d-c459-4cbe-a4c3-371cc6751215"
          },
          "registreringsId": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Entydig identifikasjon av registreringen innenfor arkivet",
            "example": "5f9e9bc8-ffc1-40c0-8fdd-3b5ee32a2e43"
          },
          "journalpostnummer": {
            "type": "integer",
            "minimum": 1,
            "description": "Viser rekkefølgen på journalpostene innenfor saksmappen",
            "format": "int64",
            "example": 17
          },
          "journalaar": {
            "type": "integer",
            "minimum": 1000,
            "pattern": "^[0-9]{4}$",
            "description": "Viser året journalposten ble opprettet",
            "format": "int32",
            "example": 2024
          },
          "journalsekvensnummer": {
            "type": "integer",
            "minimum": 1,
            "description": "Viser rekkefølgen når journalposten ble opprettet under året",
            "format": "int64",
            "example": 23456
          },
          "journalposttype": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Navn på type journalpost"
          },
          "journalstatus": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Status til journalposten, dvs. om dokumentet er registrert, under behandling eller endelig arkivert"
          },
          "journaldato": {
            "type": "string",
            "description": "Datoen journalposten er opprettet/arkivert på ISO 8601-format",
            "format": "date-time",
            "example": "2024-01-16T18:39:11Z"
          },
          "dokumentetsDato": {
            "type": "string",
            "description": "Dato som er påført selve dokumentet på ISO 8601-format",
            "format": "date-time",
            "example": "2024-01-16T18:39:11Z"
          },
          "tittel": {
            "type": "string",
            "minLength": 1,
            "maxLength": 1000,
            "description": "Tittel eller navn på arkivenheten",
            "example": "Gjennomføringsplan"
          },
          "saksbehandler": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "description": "Navn på person som er saksbehandler",
            "example": "Kari Nordmann"
          },
          "ekstraMetadata": {
            "uniqueItems": true,
            "type": "array",
            "maxItems": 20,
            "description": "Kan benyttes til andre Noark-metadata som avsender vil ha med i forsendelsen",
            "items": {
              "$ref": "#/components/schemas/Metadata"
            }
          }
        },
        "description": "Noark 5-metadata fra avleverende system."
      },
      "Utskriftskonfigurasjon": {
        "type": "object",
        "properties": {
          "tosidig": {
            "type": "boolean",
            "description": "Angir om begge sider av arket skal benyttes ved utskrift.",
            "default": false
          }
        },
        "description": "Konfigurasjon knyttet til utskrift av dokumentene dersom forsendelsen sendes via post."
      },
      "SendForsendelseResponse": {
        "required": [
          "id"
        ],
        "type": "object",
        "description": "Inneholder en id til forsendelsen",
        "properties": {
          "id": {
            "type": "string",
            "description": "Generert id for den innsendte forsendelsen",
            "format": "uuid"
          }
        }
      },
      "Sikkerhetsniva": {
        "type": "string",
        "description": "Hvilket sikkerhetsnivå som kreves for innlogging ved nedlasting eller signering. BETYDELIG tilsvarer sikkerhetsnivå 3, HOYESTE tilsvarer sikkerhetsnivå 4. Ved HOYESTE sikkerhetsnivå må dokumentene krypteres før innsending.",
        "enum": [
          "BETYDELIG",
          "HOYESTE"
        ]
      },
      "tittel": {
        "minLength": 1,
        "maxLength": 1000,
        "type": "string",
        "description": "Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding i digitale postkasser."
      },
      "konteringskode": {
        "minLength": 1,
        "maxLength": 20,
        "pattern": "^[a-zA-Z0-9_\\-.øæåØÆÅ]{0,20}$",
        "type": "string",
        "description": "Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk."
      },
      "eksponertFor": {
        "uniqueItems": true,
        "type": "array",
        "description": "Liste med fødselsnummer og/eller organisasjonsnummer som skal få tilgang til forsendelsens dokumenter.",
        "items": {
          "type": "string",
          "description": "Fødselsnummer eller organisasjonsnummer som skal få tilgang til forsendelsens dokumenter."
        }
      },
      "avgivendeSystem": {
        "minLength": 1,
        "maxLength": 100,
        "type": "string",
        "description": "Identifiserer systemet som sender forsendelsen. Kan blant annet benyttes for statistikk og feilsøking."
      },
      "avgivendeSystemAktor": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "Aktør som sendte forsendelsen fra avgivende system."
      },
      "kunDigitalLevering": {
        "type": "boolean",
        "description": "INGEN GARANTI OM LEVERANSE. Dersom denne settes til true vil forsendelsen aldri bli printet. Dersom vi ikke klarer å levere via noen digitale kanaler får avsender ingen direkte tilbakemelding.",
        "default": false
      },
      "kryptert": {
        "type": "boolean",
        "description": "Settes til true dersom filene som sendes er kryptert med CMS ved bruk av SvarUt sin public-key.",
        "default": false
      },
      "svarPaForsendelseId": {
        "type": "string",
        "description": "Id til forsendelsen dette er et svar på.",
        "format": "uuid"
      },
      "filnavn": {
        "minLength": 1,
        "maxLength": 226,
        "type": "string",
        "description": "Filnavn. Må være unikt for denne forsendelsen. Kan ikke inneholde noen av følgende tegn: * : \" \\ / < > | ?"
      },
      "mimeType": {
        "type": "string",
        "minLength": 1,
        "maxLength": 50,
        "description": "MIME type. Kun application/pdf kan printes. Dersom man ønsker å sende andre typer filer må forsendelsen markeres som kun digital, ellers må disse filene markeres som ekskludert fra utskrift."
      },
      "skalEkskluderesFraUtskrift": {
        "type": "boolean",
        "description": "Dersom denne settes til true vil ikke dokumentet bli med ved eventuell utskrift av forsendelsen. Må benyttes for alle filer som ikke er av type application/pdf, med mindre forsendelsen markeres som kun digital.",
        "default": false
      },
      "giroarkSide": {
        "type": "integer",
        "format": "int32",
        "minimum": 1,
        "description": "Sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1, kan ikke overstige antall sider i PDF."
      },
      "lenker": {
        "type": "array",
        "maxItems": 5,
        "description": "Lenker som blir sendt med i meldinger til digitale postkasser dersom meldings-malen er konfigurert til dette. Innsendt rekkefølge overholdes.",
        "items": {
          "$ref": "#/components/schemas/Lenke"
        }
      },
      "eksternReferanse": {
        "minLength": 1,
        "maxLength": 100,
        "type": "string",
        "description": "Fritekstfelt for ekstern id tilknyttet forsendelsen. Kan benyttes til søk i SvarUt-grensesnittet, samt oppslag via API."
      },
      "kanSvarePaForsendelse": {
        "type": "boolean",
        "description": "Dersom dette feltet settes til true kreves det at svarSendesTil skal inneholde en gyldig adresse med gyldig organisasjonsnummer. Hvis forsendelsen aksepteres og sendes digitalt, vil det genereres en lenke til eDialog hvor mottaker kan sende et svar tilbake til adressen spesifisert i svarSendesTil.",
        "default": false
      },
      "korrelasjonsid": {
        "minLength": 1,
        "maxLength": 100,
        "type": "string",
        "description": "Fritekstfelt for korrelasjonsid tilknyttet forsendelsen ment for å gruppere flere forsendelser sammen. Kan benyttes til søk i SvarUt-grensesnittet."
      },
      "ErrorMessage": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "error": {
            "type": "string"
          },
          "errorId": {
            "type": "string",
            "format": "uuid"
          },
          "path": {
            "type": "string"
          },
          "originalPath": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "errorCode": {
            "type": "string"
          },
          "errorJson": {
            "type": "string"
          }
        }
      }
    }
  }
}